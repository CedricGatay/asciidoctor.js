Opal.modules.set=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="ignore";var l=a.nil,m=a.breaker,d=a.klass,e=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(c,$super){function e(){}var A=e=d(c,$super,"Set",e),E=A.$$scope,z,f,p,D,g;A.$$proto.hash=l;A.$include(E.get("Enumerable"));a.defs(A,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var g=Array(a),c=0;c<a;c++)g[c]=arguments[c+0];return this.$new(g)});a.defn(A,"$initialize",z=function(a){var g,c,h,k=z.$$p||l;null==a&&(a=l);z.$$p=null;this.hash=E.get("Hash").$new();if((g=a["$nil?"]())!==l&&(!g.$$is_boolean||1==g))return l;((g=E.get("Enumerable")["$==="](a))===l||g.$$is_boolean&&1!=
g)&&this.$raise(E.get("ArgumentError"),"value must be enumerable");return!1!==k&&k!==l?(g=(c=a).$each,g.$$p=(h=function(a){var g=h.$$s||this;null==a&&(a=l);return g.$add(k.$call(a))},h.$$s=this,h),g).call(c):this.$merge(a)});a.defn(A,"$dup",function(){var a=l,a=this.$class().$new();return a.$merge(this)});a.defn(A,"$-",function(a){var g;((g=a["$respond_to?"]("each"))===l||g.$$is_boolean&&1!=g)&&this.$raise(E.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(A,
"difference","-");a.defn(A,"$inspect",function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(A,"$==",function(a){var g,c,h;return(g=this["$equal?"](a))===l||g.$$is_boolean&&1!=g?(g=a["$instance_of?"](this.$class()))===l||g.$$is_boolean&&1!=g?(g=(c=a["$is_a?"](E.get("Set")),!1!==c&&c!==l?this.$size()["$=="](a.$size()):c))===l||g.$$is_boolean&&1!=g?!1:(g=(c=a)["$all?"],g.$$p=(h=function(k){var a=h.$$s||this;null==a.hash&&(a.hash=l);null==k&&(k=l);return a.hash["$include?"](k)},h.$$s=this,
h),g).call(c):this.hash["$=="](a.$instance_variable_get("@hash")):!0});a.defn(A,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(A,"<<","add");a.defn(A,"$classify",f=function(){var g,c,d,h,k=f.$$p||l,t=l;f.$$p=null;if(k===l)return this.$enum_for("classify");t=(g=(c=E.get("Hash")).$new,g.$$p=(d=function(k,a){var h=d.$$s||this;null==k&&(k=l);null==a&&(a=l);return k["$[]="](a,h.$class().$new())},d.$$s=this,d),g).call(c);(g=this.$each,g.$$p=(h=function(h){var g;null==h&&(h=l);return t["$[]"]((g=
a.yield1(k,h))===m?m.$v:g).$add(h)},h.$$s=this,h),g).call(this);return t});a.defn(A,"$collect!",p=function(){var g,c,d=p.$$p||l,h=l;p.$$p=null;if(d===l)return this.$enum_for("collect!");h=this.$class().$new();(g=this.$each,g.$$p=(c=function(k){var t;null==k&&(k=l);return h["$<<"]((t=a.yield1(d,k))===m?m.$v:t)},c.$$s=this,c),g).call(this);return this.$replace(h)});a.alias(A,"map!","collect!");a.defn(A,"$delete",function(a){this.hash.$delete(a);return this});a.defn(A,"$delete?",function(a){var g;if((g=
this["$include?"](a))===l||g.$$is_boolean&&1!=g)return l;this.$delete(a);return this});a.defn(A,"$delete_if",D=function(){try{var g,c,d,h,k,t=D.$$p||l;D.$$p=null;!1!==(g=t!==l)&&g!==l?g:a.ret(this.$enum_for("delete_if"));(g=(c=(h=this.$select,h.$$p=(k=function(k){var h;null==k&&(k=l);return h=a.yield1(t,k),h},k.$$s=this,k),h).call(this)).$each,g.$$p=(d=function(k){var a=d.$$s||this;null==a.hash&&(a.hash=l);null==k&&(k=l);return a.hash.$delete(k)},d.$$s=this,d),g).call(c);return this}catch(e){if(e===
a.returner)return e.$v;throw e;}});a.defn(A,"$add?",function(a){var g;return(g=this["$include?"](a))===l||g.$$is_boolean&&1!=g?this.$add(a):l});a.defn(A,"$each",g=function(){var a,c,d=g.$$p||l;g.$$p=null;if(d===l)return this.$enum_for("each");(a=(c=this.hash).$each_key,a.$$p=d.$to_proc(),a).call(c);return this});a.defn(A,"$empty?",function(){return this.hash["$empty?"]()});a.defn(A,"$eql?",function(a){var g,c;return this.hash["$eql?"]((g=a.$instance_eval,g.$$p=(c=function(){var a=c.$$s||this;null==
a.hash&&(a.hash=l);return a.hash},c.$$s=this,c),g).call(a))});a.defn(A,"$clear",function(){this.hash.$clear();return this});a.defn(A,"$include?",function(a){return this.hash["$include?"](a)});a.alias(A,"member?","include?");a.defn(A,"$merge",function(a){var g,c;(g=a.$each,g.$$p=(c=function(a){var k=c.$$s||this;null==a&&(a=l);return k.$add(a)},c.$$s=this,c),g).call(a);return this});a.defn(A,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(A,"$size",function(){return this.hash.$size()});
a.alias(A,"length","size");a.defn(A,"$subtract",function(a){var g,c;(g=a.$each,g.$$p=(c=function(a){var k=c.$$s||this;null==a&&(a=l);return k.$delete(a)},c.$$s=this,c),g).call(a);return this});a.defn(A,"$|",function(a){var g;((g=a["$respond_to?"]("each"))===l||g.$$is_boolean&&1!=g)&&this.$raise(E.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(A,"$superset?",function(a){var g,c;!1!==(g=a["$is_a?"](E.get("Set")))&&g!==l?g:this.$raise(E.get("ArgumentError"),"value must be a set");
return u(this.$size(),a.$size())?!1:(g=a["$all?"],g.$$p=(c=function(a){var k=c.$$s||this;null==a&&(a=l);return k["$include?"](a)},c.$$s=this,c),g).call(a)});a.alias(A,">=","superset?");a.defn(A,"$proper_superset?",function(a){var g,c;!1!==(g=a["$is_a?"](E.get("Set")))&&g!==l?g:this.$raise(E.get("ArgumentError"),"value must be a set");return n(this.$size(),a.$size())?!1:(g=a["$all?"],g.$$p=(c=function(a){var k=c.$$s||this;null==a&&(a=l);return k["$include?"](a)},c.$$s=this,c),g).call(a)});a.alias(A,
">","proper_superset?");a.defn(A,"$subset?",function(a){var g,c;!1!==(g=a["$is_a?"](E.get("Set")))&&g!==l?g:this.$raise(E.get("ArgumentError"),"value must be a set");return u(a.$size(),this.$size())?!1:(g=this["$all?"],g.$$p=(c=function(h){null==h&&(h=l);return a["$include?"](h)},c.$$s=this,c),g).call(this)});a.alias(A,"<=","subset?");a.defn(A,"$proper_subset?",function(a){var g,c;!1!==(g=a["$is_a?"](E.get("Set")))&&g!==l?g:this.$raise(E.get("ArgumentError"),"value must be a set");return n(a.$size(),
this.$size())?!1:(g=this["$all?"],g.$$p=(c=function(h){null==h&&(h=l);return a["$include?"](h)},c.$$s=this,c),g).call(this)});a.alias(A,"<","proper_subset?");a.alias(A,"+","|");a.alias(A,"union","|");return(a.defn(A,"$to_a",function(){return this.hash.$keys()}),l)&&"to_a"})(a.base,null);return function(c){c=e(c,"Enumerable");var b=c.$$scope,d;a.defn(c,"$to_set",d=function(c){var e,m,f=d.$$p||l,p=arguments.length-1;0>p&&(p=0);for(var D=Array(p),g=0;g<p;g++)D[g]=arguments[g+1];null==c&&(c=b.get("Set"));
d.$$p=null;return(e=(m=c).$new,e.$$p=f.$to_proc(),e).apply(m,[this].concat(a.to_a(D)))})}(a.base)};
Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(l,$super){function d(){}var e=d=n(l,$super,"StringScanner",d),c=e.$$proto;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=u;e.$attr_reader("pos");e.$attr_reader("matched");a.defn(e,"$initialize",function(a){this.string=a;this.pos=0;this.matched=u;this.working=a;return this.match=[]});e.$attr_reader("string");
a.defn(e,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)});a.alias(e,"bol?","beginning_of_line?");a.defn(e,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=u:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):u});a.defn(e,"$scan_until",
function(a){a=this.$anchor(a);for(var c=this.pos,d=this.working,e;;)if(e=a.exec(d),c+=1,d=d.substr(1),null==e){if(0===d.length)return this.matched=u}else return this.matched=this.string.substr(this.pos,c-this.pos-1+e[0].length),this.prev_pos=c-1,this.pos=c,this.working=d.substr(e[0].length),this.matched});a.defn(e,"$[]",function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?u:c[a]});a.defn(e,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?
this.matched=u:this.matched=a[0]});a.defn(e,"$check_until",function(a){var c=this.prev_pos,d=this.pos;a=this.$scan_until(a);a!==u&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=c;this.pos=d;return a});a.defn(e,"$peek",function(a){return this.working.substring(0,a)});a.defn(e,"$eos?",function(){return 0===this.working.length});a.defn(e,"$exist?",function(a){a=a.exec(this.working);return null==a?u:0==a.index?0:a.index+1});a.defn(e,"$skip",function(a){a=this.$anchor(a);
a=a.exec(this.working);if(null==a)return this.matched=u;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c});a.defn(e,"$skip_until",function(a){a=this.$scan_until(a);if(a===u)return u;this.matched=a.substr(-1);return a.length});a.defn(e,"$get_byte",function(){var a=u;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=u;return a});
a.alias(e,"getch","get_byte");a.defn(e,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return u;this.prev_pos=this.pos;return a[0].length});a.defn(e,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(e,"$post_match",function(){return this.matched===u?u:this.string.substr(this.pos)});a.defn(e,"$pre_match",function(){return this.matched===u?u:this.string.substr(0,this.prev_pos)});a.defn(e,"$reset",function(){this.working=
this.string;this.matched=u;return this.pos=0});a.defn(e,"$rest",function(){return this.working});a.defn(e,"$rest?",function(){return 0!==this.working.length});a.defn(e,"$rest_size",function(){return this.$rest().$size()});a.defn(e,"$terminate",function(){var a;this.match=u;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(e,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=u;return this});e.$private();return(a.defn(e,"$anchor",function(a){return new RegExp("^"+
a.toString().substr(1,a.toString().length-2))}),u)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){function u(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.breaker,m=a.module,d=a.klass,e=a.gvars,c=a.range;a.add_stubs("$new $attr_reader $read $size $to_enum $chomp $each_line $* $rindex $[] $+ $- $nil_or_empty? $nil?".split(" "));(function(b){b=m(b,"Kernel");var c=b.$$scope,d;a.defn(b,"$open",d=function(b){var e,f,p=d.$$p||n,D=n,D=arguments.length-1;0>D&&(D=0);for(var g=
Array(D),H=0;H<D;H++)g[H]=arguments[H+1];d.$$p=null;D=(e=c.get("File")).$new.apply(e,[b].concat(a.to_a(g)));return p!==n?(f=a.yield1(p,D),f):D})})(a.base);(function(b,$super){function m(){}var E=m=d(b,$super,"File",m),z=E.$$proto,f=E.$$scope,p;z.eof=z.path=n;a.cdecl(f,"SEPARATOR","/");a.cdecl(f,"ALT_SEPARATOR",n);E.$attr_reader("eof");E.$attr_reader("lineno");E.$attr_reader("path");a.defn(E,"$initialize",function(a,b){this.path=a;this.contents=n;this.eof=!1;return this.lineno=0});a.defn(E,"$read",
function(){var a,b=n;return(a=this.eof)===n||a.$$is_boolean&&1!=a?(b=f.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""});a.defn(E,"$each_line",p=function(b){var g,c=p.$$p||n,d=n;null==e["/"]&&(e["/"]=n);null==b&&(b=e["/"]);p.$$p=null;if((g=this.eof)!==n&&(!g.$$is_boolean||1==g))return c!==n?this:[].$to_enum();if(c!==n){d=f.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var w=d.$chomp(),d=d.length!=w.length,w=w.split(b),h=0,k=w.length;h<k;h++)this.lineno+=1,h<k-1||
d?(g=a.yield1(c,w[h]+b))===l?l.$v:g:(g=a.yield1(c,w[h]))===l?l.$v:g;this.eof=!0;return this}return this.$read().$each_line()});a.defs(E,"$expand_path",function(a){return a});a.defs(E,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];a=f.get("SEPARATOR");return"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)});a.defs(E,"$basename",function(a){var b,d=n;return(b=d=a.$rindex(f.get("SEPARATOR")))===n||b.$$is_boolean&&1!=b?a:a["$[]"](c(u(d,
1),-1,!1))});a.defs(E,"$dirname",function(a){var b,d=n;return(b=d=a.$rindex(f.get("SEPARATOR")))===n||b.$$is_boolean&&1!=b?".":a["$[]"](c(0,"number"===typeof d?d-1:d["$-"](1),!1))});a.defs(E,"$extname",function(a){var b,d=n;if((b=a["$nil_or_empty?"]())!==n&&(!b.$$is_boolean||1==b))return"";d=a["$[]"](c(1,-1,!1)).$rindex(".");return(b=d["$nil?"]())===n||b.$$is_boolean&&1!=b?a["$[]"](c(u(d,1),-1,!1)):""});a.defs(E,"$file?",function(a){return!0});a.defs(E,"$readable?",function(a){return!0});return(a.defs(E,
"$read",function(a){var b="",c=-1;try{var d=new XMLHttpRequest;d.open("GET",a,!1);d.addEventListener("load",function(){c=this.status;if(0==c||200==c)b=this.responseText});d.overrideMimeType("text/plain");d.send()}catch(e){c=0}if(404==c||0==c&&""==b)throw f.get("IOError").$new("No such file or directory: "+a);return b}),n)&&"read"})(a.base,null);return function(b,$super){function c(){}var e=c=d(b,$super,"IO",c),m=e.$$scope;return(a.defs(e,"$read",function(a){return m.get("File").$read(a)}),n)&&"read"}(a.base,
null)};Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.klass;a.add_stubs(["$[]="]);return function(l,$super){function d(){}var e=d=n(l,$super,"MatchData",d);e.$$proto.matches=u;return(a.defn(e,"$[]=",function(a,b){return this.matches["$[]="](a,b)}),u)&&"[]="}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.module;return function(l){l=n(l,"Kernel");a.defn(l,"$freeze",function(){return u})}(a.base)};
Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var u;u=a.nil;var n=a.gvars;null==n.stdout&&(n.stdout=u);null==n.stderr&&(n.stderr=u);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];u=n.stdout;u["$write_proc="].apply(u,a);a[a.length-1];return a=[function(a){print(a)}],u=n.stderr,u["$write_proc="].apply(u,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var u=a.top,n=a.nil,l=n;a.add_stubs(["$require","$==="]);a.cdecl(a,"JAVASCRIPT_PLATFORM","browser");u.$require("strscan");u.$require("asciidoctor/opal_ext/file");u.$require("asciidoctor/opal_ext/match_data");u.$require("asciidoctor/opal_ext/kernel");l=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](l)?u.$require("asciidoctor/opal_ext/nashorn/io"):n;return a};
Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var u=a.module,u=u(a.base,"Asciidoctor").$$scope;a.cdecl(u,"VERSION","1.5.4")};
Opal.modules["asciidoctor/timings"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var m=a.nil,d=a.module,e=a.klass,c=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(B){(function(d,
$super){function z(){}var f=z=e(d,$super,"Timings",z),p=f.$$proto;p.timers=p.log=m;a.defn(f,"$initialize",function(){this.log=c([],{});return this.timers=c([],{})});a.defn(f,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(f,"$record",function(b){return this.log["$[]="](b,u(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(f,"$read_parse",function(){var a,b=m;return n(b=l(!1!==(a=this.log["$[]"]("read"))&&a!==m?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==m?a:0),
0)?b:m});a.defn(f,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==m?a:0});a.defn(f,"$read_parse_convert",function(){var a,b=m;return n(b=l(l(!1!==(a=this.log["$[]"]("read"))&&a!==m?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==m?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==m?a:0),0)?b:m});a.defn(f,"$total",function(){var a,b=m;return n(b=l(l(l(!1!==(a=this.log["$[]"]("read"))&&a!==m?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==m?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==
m?a:0),!1!==(a=this.log["$[]"]("write"))&&a!==m?a:0),0)?b:m});return(a.defn(f,"$print_report",function(a,g){null==b.stdout&&(b.stdout=m);null==a&&(a=b.stdout);null==g&&(g=m);!1!==g&&g!==m&&a.$puts("Input file: "+g);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),m)&&"print_report"})(d(B,
"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.klass;a.add_stubs(["$respond_to?"]);(function(l,$super){function d(){}var e=d=n(l,$super,"NilClass",d),c;return(c=e["$respond_to?"]("nil_or_empty?"))===u||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","nil?"):u})(a.base,null);(function(l,$super){function d(){}var e=d=n(l,$super,"String",d),c;return(c=e["$respond_to?"]("nil_or_empty?"))===u||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?",
"empty?"):u})(a.base,null);(function(l,$super){function d(){}var e=d=n(l,$super,"Array",d),c;return(c=e["$respond_to?"]("nil_or_empty?"))===u||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):u})(a.base,null);(function(l,$super){function d(){}var e=d=n(l,$super,"Hash",d),c;return(c=e["$respond_to?"]("nil_or_empty?"))===u||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):u})(a.base,null);return function(l,$super){function d(){}var e=d=n(l,$super,"Numeric",d),c;return(c=e["$respond_to?"]("nil_or_empty?"))===
u||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","nil?"):u}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var u=a.top,n=a.nil;a.add_stubs(["$require","$=="]);u.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return n};
Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.module,l=a.range,m=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(d){(function(d){d=
n(d,"Helpers");var c=d.$$scope;a.defs(d,"$require_library",function(b,c,d){var e=u,m=u;null==c&&(c=!0);null==d&&(d="abort");try{return this.$require(b)}catch(f){if(a.rescue(f,[a.get("LoadError")])){e=f;try{if(!1!==c&&c!==u)return c["$=="](!0)&&(c=b),m=d,"abort"["$==="](m)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](m)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):u;m=d;return"abort"["$==="](m)?
this.$fail("asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](m)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):u}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw f;}});a.defs(d,"$normalize_lines",function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)});a.defs(d,"$normalize_lines_array",function(b){var d,e,m,n,f,p,D=u,g=u,H=u,J=u;if((d=b["$empty?"]())!==
u&&(!d.$$is_boolean||1==d))return[];D=(g=b["$[]"](0))["$[]"](l(0,2,!1)).$bytes().$to_a();if((d=c.get("COERCE_ENCODING"))===u||d.$$is_boolean&&1!=d){if(D["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,g["$[]"](l(3,-1,!1)));return(d=b.$map,d.$$p=(p=function(a){null==a&&(a=u);return a.$rstrip()},p.$$s=this,p),d).call(b)}H=a.get("Encoding").$$scope.get("UTF_8");if((J=D["$[]"](l(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(d=(e=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,
-1,!1)).$encode(H).$lines()).$map,d.$$p=(m=function(a){null==a&&(a=u);return a.$rstrip()},m.$$s=this,m),d).call(e);if(J["$=="](c.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,g.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1))),(d=b.$map,d.$$p=(n=function(b){null==b&&(b=u);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(H).$rstrip()},n.$$s=this,n),d).call(b);if(D["$[]"](l(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,g.$force_encoding(H)["$[]"](l(1,
-1,!1)));return(d=b.$map,d.$$p=(f=function(a){null==a&&(a=u);return a.$encoding()["$=="](H)?a.$rstrip():a.$force_encoding(H).$rstrip()},f.$$s=this,f),d).call(b)});a.defs(d,"$normalize_lines_from_string",function(b){var d,e,m,n=u,f=u,p=u;if((d=b["$nil_or_empty?"]())!==u&&(!d.$$is_boolean||1==d))return[];(d=c.get("COERCE_ENCODING"))===u||d.$$is_boolean&&1!=d?b["$[]"](l(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](l(3,-1,!1))):(n=a.get("Encoding").$$scope.get("UTF_8"),f=b["$[]"](l(0,
2,!1)).$bytes().$to_a(),(p=f["$[]"](l(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,-1,!1)).$encode(n):p["$=="](c.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1)).$encode(n):f["$[]"](l(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](n)?b["$[]"](l(1,-1,!1)):b.$force_encoding(n)["$[]"](l(1,-1,!1)):b.$encoding()["$=="](n)||(b=b.$force_encoding(n)));return(d=
(e=b.$each_line()).$map,d.$$p=(m=function(a){null==a&&(a=u);return a.$rstrip()},m.$$s=this,m),d).call(e)});a.defs(d,"$uriish?",function(a){var d;return d=a["$include?"](":"),!1!==d&&d!==u?a["$=~"](c.get("UriSniffRx")):d});a.defs(d,"$uri_prefix",function(a){var d,e;return(d=(e=a["$include?"](":"),!1!==e&&e!==u?a["$=~"](c.get("UriSniffRx")):e))===u||d.$$is_boolean&&1!=d?u:(d=m["~"])===u?u:d["$[]"](0)});a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(d,"$encode_uri",function(a){var d,
e;return(d=a.$gsub,d.$$p=(e=function(){var a=e.$$s||this,b,c,d,D;return(b=(c=((D=m["~"])===u?u:D["$[]"](0)).$each_byte()).$map,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=u);return b.$sprintf("%%%02X",a)},d.$$s=a,d),b).call(c).$join()},e.$$s=this,e),d).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(d,"$rootname",function(b){var c,d=u;return(c=(d=a.get("File").$extname(b))["$empty?"]())===u||c.$$is_boolean&&1!=c?b["$[]"](l(0,d.$length()["$-@"](),!0)):b});a.defs(d,"$basename",function(b,c){var d;
null==c&&(c=!1);return!1!==c&&c!==u?a.get("File").$basename(b,!1!==(d=a.get("File").$extname(b))&&d!==u?d:""):a.get("File").$basename(b)});a.defs(d,"$mkdir_p",function(b){var c,d,e=u;return(c=a.get("File")["$directory?"](b))===u||c.$$is_boolean&&1!=c?(e=a.get("File").$dirname(b),(c=(d=a.get("File")["$directory?"](e=a.get("File").$dirname(b))["$!"](),!1!==d&&d!==u?e["$!="]("."):d))===u||c.$$is_boolean&&1!=c||this.$mkdir_p(e),a.get("Dir").$mkdir(b)):u})})(n(d,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var d=a.nil,e=a.breaker,c=a.slice,b=a.module,B=a.hash2,A=a.gvars,E=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $gsub! $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_lines_to_highlight $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(z){(function(f){f=b(f,"Substitutors");var p=f.$$scope;a.cdecl(p,"SPECIAL_CHARS",B(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(p,"SPECIAL_CHARS_PATTERN",new RegExp("["+p.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(p,"SUBS",B("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
header:["specialcharacters","attributes"],pass:[]}));a.cdecl(p,"COMPOSITE_SUBS",B(["none","normal","verbatim","specialchars"],{none:[],normal:p.get("SUBS")["$[]"]("normal"),verbatim:p.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(p,"SUB_SYMBOLS",B("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(p,"SUB_OPTIONS",B(["block","inline"],{block:u(u(p.get("COMPOSITE_SUBS").$keys(),
p.get("SUBS")["$[]"]("normal")),["callouts"]),inline:u(p.get("COMPOSITE_SUBS").$keys(),p.get("SUBS")["$[]"]("normal"))}));a.cdecl(p,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(p,"PASS_START","\u0096");a.cdecl(p,"PASS_END","\u0097");a.cdecl(p,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(p,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);f.$attr_reader("passthroughs");a.defn(f,"$apply_subs",function(b,c,e){var f,w,h,k,t,C=d,q=d,F=d,y=d;null==this.passthroughs&&
(this.passthroughs=d);null==c&&(c="normal");null==e&&(e=!1);if((f=c["$!"]())!==d&&(!f.$$is_boolean||1==f))return b;c["$=="]("normal")?c=p.get("SUBS")["$[]"]("normal"):!1!==e&&e!==d&&((f=a.get("Symbol")["$==="](c))===d||f.$$is_boolean&&1!=f?(C=[],(f=(w=c).$each,f.$$p=(h=function(a){var k;null==a&&(a=d);return(k=p.get("COMPOSITE_SUBS")["$has_key?"](a))===d||k.$$is_boolean&&1!=k?C["$<<"](a):C=u(C,p.get("COMPOSITE_SUBS")["$[]"](a))},h.$$s=this,h),f).call(w),c=C):c=!1!==(f=p.get("COMPOSITE_SUBS")["$[]"](c))&&
f!==d?f:[c]);if((f=c["$empty?"]())!==d&&(!f.$$is_boolean||1==f))return b;q=(f=F=a.get("Array")["$==="](b))===d||f.$$is_boolean&&1!=f?b:n(b,p.get("EOL"));(f=y=c["$include?"]("macros"))===d||f.$$is_boolean&&1!=f||(q=this.$extract_passthroughs(q),(f=this.passthroughs["$empty?"]())===d||f.$$is_boolean&&1!=f||(y=!1));(f=(k=c).$each,f.$$p=(t=function(a){var k=t.$$s||this,h,b=d;null==a&&(a=d);b=a;return"specialcharacters"["$==="](b)?q=k.$sub_specialchars(q):"quotes"["$==="](b)?q=k.$sub_quotes(q):"attributes"["$==="](b)?
q=n(k.$sub_attributes(q.$split(p.get("EOL"))),p.get("EOL")):"replacements"["$==="](b)?q=k.$sub_replacements(q):"macros"["$==="](b)?q=k.$sub_macros(q):"highlight"["$==="](b)?q=k.$highlight_source(q,c["$include?"]("callouts")):"callouts"["$==="](b)?(h=c["$include?"]("highlight"))===d||h.$$is_boolean&&1!=h?q=k.$sub_callouts(q):d:"post_replacements"["$==="](b)?q=k.$sub_post_replacements(q):k.$warn("asciidoctor: WARNING: unknown substitution type "+a)},t.$$s=this,t),f).call(k);!1!==y&&y!==d&&(q=this.$restore_passthroughs(q));
return!1!==F&&F!==d?q.$split(p.get("EOL")):q});a.defn(f,"$apply_normal_subs",function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===d||c.$$is_boolean&&1!=c?b:n(b,p.get("EOL")))});a.defn(f,"$apply_title_subs",function(a){return this.$apply_subs(a,p.get("SUBS")["$[]"]("title"))});a.defn(f,"$apply_header_subs",function(a){return this.$apply_subs(a,p.get("SUBS")["$[]"]("header"))});a.defn(f,"$extract_passthroughs",function(b){var c,e,f,w,h,k,t,C,q=d,F=d,y=d,r=d;null==this.document&&
(this.document=d);q=this.document.$compat_mode();(c=!1!==(e=!1!==(f=b["$include?"]("++"))&&f!==d?f:b["$include?"]("$$"))&&e!==d?e:b["$include?"]("ss:"))===d||c.$$is_boolean&&1!=c||(b=(c=(e=b).$gsub,c.$$p=(w=function(){var k=w.$$s||this,h,b=d,t=d,c=d,g=c=d,r=d,y=d,e=d,b=d;null==k.passthroughs&&(k.passthroughs=d);null==A["~"]&&(A["~"]=d);b=A["~"];t=d;if((h=(c=b["$[]"](4))["$nil_or_empty?"]())===d||h.$$is_boolean&&1!=h){if((h=!1!==q&&q!==d?c["$=="]("++"):q)!==d&&(!h.$$is_boolean||1==h))return(h=b["$[]"](2)["$nil_or_empty?"]())===
d||h.$$is_boolean&&1!=h?""+b["$[]"](1)+"["+b["$[]"](2)+"]"+b["$[]"](3)+"++"+k.$extract_passthroughs(b["$[]"](5))+"++":""+b["$[]"](1)+b["$[]"](3)+"++"+k.$extract_passthroughs(b["$[]"](5))+"++";g=b["$[]"](2);(h=a.get("RUBY_ENGINE_OPAL"))===d||h.$$is_boolean&&1!=h||g["$=="]("")&&(g=d);r=b["$[]"](3).$size();y=b["$[]"](5);e=!1;if(!1!==g&&g!==d){if(l(r,0))return""+b["$[]"](1)+"["+g+"]"+n("\\",m(r,1))+c+b["$[]"](5)+c+")";b["$[]"](1)["$=="]("\\")?(t="["+g+"]",g=d):((h=c["$=="]("++")?g["$end_with?"]("x-"):
c["$=="]("++"))===d||h.$$is_boolean&&1!=h||(e=!0,g=g["$[]"](E(0,-2,!0))),g=k.$parse_attributes(g))}else if(l(r,0))return""+b["$[]"](1)+"["+g+"]"+n("\\",m(r,1))+c+b["$[]"](5)+c;b=c["$=="]("+++")?[]:["specialcharacters"];c=k.passthroughs.$size();if(!1!==g&&g!==d)if(!1!==e&&e!==d)k.passthroughs["$[]="](c,B(["text","subs","type","attributes"],{text:y,subs:p.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:g}));else k.passthroughs["$[]="](c,B(["text","subs","type","attributes"],{text:y,subs:b,
type:"unquoted",attributes:g}));else k.passthroughs["$[]="](c,B(["text","subs"],{text:y,subs:b}))}else{if(b["$[]"](6)["$=="]("\\"))return b["$[]"](0)["$[]"](E(1,-1,!1));k.passthroughs["$[]="](c=k.passthroughs.$size(),B(["text","subs"],{text:k.$unescape_brackets(b["$[]"](8)),subs:(h=b["$[]"](7)["$nil_or_empty?"]())===d||h.$$is_boolean&&1!=h?k.$resolve_pass_subs(b["$[]"](7)):[]}))}return""+t+p.get("PASS_START")+c+p.get("PASS_END")},w.$$s=this,w),c).call(e,p.get("PassInlineMacroRx")));c=a.to_ary(p.get("PassInlineRx")["$[]"](q));
F=null==c[0]?d:c[0];y=null==c[1]?d:c[1];r=null==c[2]?d:c[2];(c=!1!==(f=b["$include?"](F))&&f!==d?f:(h=!1!==y&&y!==d)?b["$include?"](y):y)===d||c.$$is_boolean&&1!=c||(b=(c=(f=b).$gsub,c.$$p=(k=function(){var h=k.$$s||this,b,c=d,t=d,g=d,r=d,y=d,e=d,f=d,y=c=d;null==h.passthroughs&&(h.passthroughs=d);null==A["~"]&&(A["~"]=d);c=A["~"];t=c["$[]"](1);g=c["$[]"](2);r=(b=c["$[]"](3)["$start_with?"]("\\"))===d||b.$$is_boolean&&1!=b?d:"\\";y=c["$[]"](4);e=c["$[]"](5);(b=a.get("RUBY_ENGINE_OPAL"))===d||b.$$is_boolean&&
1!=b||g["$=="]("")&&(g=d);!1!==q&&q!==d?f=!0:(b=f=!1!==g&&g!==d?g["$end_with?"]("x-"):g)===d||b.$$is_boolean&&1!=b||(g=g["$[]"](E(0,-2,!0)));if(!1!==g&&g!==d){if((b=y["$=="]("`")?f["$!"]():y["$=="]("`"))!==d&&(!b.$$is_boolean||1==b))return""+t+"["+g+"]"+r+"`"+h.$extract_passthroughs(e)+"`";if(!1!==r&&r!==d)return""+t+"["+g+"]"+c["$[]"](3)["$[]"](E(1,-1,!1));t["$=="]("\\")?(t="["+g+"]",g=d):g=h.$parse_attributes(g)}else{if((b=y["$=="]("`")?f["$!"]():y["$=="]("`"))!==d&&(!b.$$is_boolean||1==b))return""+
t+r+"`"+h.$extract_passthroughs(e)+"`";if(!1!==r&&r!==d)return""+t+c["$[]"](3)["$[]"](E(1,-1,!1))}c=h.passthroughs.$size();if(!1!==q&&q!==d)h.passthroughs["$[]="](c,B(["text","subs","attributes","type"],{text:e,subs:["specialcharacters"],attributes:g,type:"monospaced"}));else if(!1!==g&&g!==d)if(!1!==f&&f!==d)y=y["$=="]("`")?["specialcharacters"]:p.get("SUBS")["$[]"]("normal"),h.passthroughs["$[]="](c,B(["text","subs","attributes","type"],{text:e,subs:y,attributes:g,type:"monospaced"}));else h.passthroughs["$[]="](c,
B(["text","subs","attributes","type"],{text:e,subs:["specialcharacters"],attributes:g,type:"unquoted"}));else h.passthroughs["$[]="](c,B(["text","subs"],{text:e,subs:["specialcharacters"]}));return""+t+p.get("PASS_START")+c+p.get("PASS_END")},k.$$s=this,k),c).call(f,r));(c=(h=b["$include?"](":"),!1!==h&&h!==d?!1!==(t=b["$include?"]("stem:"))&&t!==d?t:b["$include?"]("math:"):h))===d||c.$$is_boolean&&1!=c||(b=(c=(h=b).$gsub,c.$$p=(C=function(){var a=C.$$s||this,k,h=d,b=d,c=d,t=d,g=h=d;null==a.document&&
(a.document=d);null==a.passthroughs&&(a.passthroughs=d);null==A["~"]&&(A["~"]=d);h=A["~"];if((k=h["$[]"](0)["$start_with?"]("\\"))!==d&&(!k.$$is_boolean||1==k))return h["$[]"](0)["$[]"](E(1,-1,!1));(b=h["$[]"](1).$to_sym())["$=="]("stem")&&(b=((k=(c=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===d||k.$$is_boolean&&1!=k?c:"asciimath").$to_sym());t=a.$unescape_brackets(h["$[]"](3));h=(k=h["$[]"](2)["$nil_or_empty?"]())===d||k.$$is_boolean&&1!=k?a.$resolve_pass_subs(h["$[]"](2)):
(k=a.document["$basebackend?"]("html"))===d||k.$$is_boolean&&1!=k?[]:["specialcharacters"];a.passthroughs["$[]="](g=a.passthroughs.$size(),B(["text","subs","type"],{text:t,subs:h,type:b}));return""+p.get("PASS_START")+g+p.get("PASS_END")},C.$$s=this,C),c).call(h,p.get("StemInlineMacroRx")));return b});a.defn(f,"$restore_passthroughs",function(a,b){var c,e,f,h;null==this.passthroughs&&(this.passthroughs=d);null==b&&(b=!0);try{return(c=(e=!1!==b&&b!==d)?!1!==(f=this.passthroughs["$empty?"]())&&f!==
d?f:a["$include?"](p.get("PASS_START"))["$!"]():b)===d||c.$$is_boolean&&1!=c?(c=(e=a).$gsub,c.$$p=(h=function(){var a=h.$$s||this,b,c=d,g=d,e=d,y=d;null==a.passthroughs&&(a.passthroughs=d);null==A["~"]&&(A["~"]=d);c=a.passthroughs["$[]"](A["~"]["$[]"](1).$to_i());g=(b=e=c["$[]"]("subs"))===d||b.$$is_boolean&&1!=b?c["$[]"]("text"):a.$apply_subs(c["$[]"]("text"),e);(b=y=c["$[]"]("type"))===d||b.$$is_boolean&&1!=b||(g=p.get("Inline").$new(a,"quoted",g,B(["type","attributes"],{type:y,attributes:c["$[]"]("attributes")})).$convert());
return(b=g["$include?"](p.get("PASS_START")))===d||b.$$is_boolean&&1!=b?g:a.$restore_passthroughs(g,!1)},h.$$s=this,h),c).call(e,p.get("PASS_MATCH")):a}finally{!1!==b&&b!==d&&this.passthroughs.$clear()}});a.defn(f,"$sub_specialchars",function(a){var b,c;return(b=p.get("SUPPORTS_GSUB_RESULT_HASH"))===d||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return p.get("SPECIAL_CHARS")["$[]"]((a=A["~"])===d?d:a["$[]"](0))},c.$$s=this,c),b).call(a,p.get("SPECIAL_CHARS_PATTERN")):a.$gsub(p.get("SPECIAL_CHARS_PATTERN"),
p.get("SPECIAL_CHARS"))});a.alias(f,"sub_specialcharacters","sub_specialchars");a.defn(f,"$sub_quotes",function(b){var c,e,f,w,h,k=d;null==this.document&&(this.document=d);(c=a.get("RUBY_ENGINE_OPAL"))===d||c.$$is_boolean&&1!=c?(k=""+b,(c=(w=p.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(h=function(a,b,c){var g=h.$$s||this,y,r,v;null==a&&(a=d);null==b&&(b=d);null==c&&(c=d);return(y=(r=k)["$gsub!"],y.$$p=(v=function(){var k=v.$$s||this;null==A["~"]&&(A["~"]=d);return k.$convert_quoted_text(A["~"],
a,b)},v.$$s=g,v),y).call(r,c)},h.$$s=this,h),c).call(w)):(k=b,(c=(e=p.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(f=function(a,h,b){var c=f.$$s||this,g,r,v;null==a&&(a=d);null==h&&(h=d);null==b&&(b=d);return k=(g=(r=k).$gsub,g.$$p=(v=function(){var k=v.$$s||this;null==A["~"]&&(A["~"]=d);return k.$convert_quoted_text(A["~"],a,h)},v.$$s=c,v),g).call(r,b)},f.$$s=this,f),c).call(e));return k});a.defn(f,"$sub_replacements",function(b){var c,e,f,w,h,k=d;(c=a.get("RUBY_ENGINE_OPAL"))===
d||c.$$is_boolean&&1!=c?(k=""+b,(c=(w=p.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,c){var g=h.$$s||this,y,r,v;null==a&&(a=d);null==b&&(b=d);null==c&&(c=d);return(y=(r=k)["$gsub!"],y.$$p=(v=function(){var a=v.$$s||this;null==A["~"]&&(A["~"]=d);return a.$do_replacement(A["~"],b,c)},v.$$s=g,v),y).call(r,a)},h.$$s=this,h),c).call(w)):(k=b,(c=(e=p.get("REPLACEMENTS")).$each,c.$$p=(f=function(a,h,b){var c=f.$$s||this,g,r,v;null==a&&(a=d);null==h&&(h=d);null==b&&(b=d);return k=(g=(r=k).$gsub,g.$$p=
(v=function(){var a=v.$$s||this;null==A["~"]&&(A["~"]=d);return a.$do_replacement(A["~"],h,b)},v.$$s=c,v),g).call(r,a)},f.$$s=this,f),c).call(e));return k});a.defn(f,"$do_replacement",function(a,b,c){var e,f=d,f=d;(e=(f=a["$[]"](0))["$include?"]("\\"))===d||e.$$is_boolean&&1!=e?(f=c,a="none"["$==="](f)?b:"leading"["$==="](f)?""+a["$[]"](1)+b:"bounding"["$==="](f)?""+a["$[]"](1)+b+a["$[]"](2):d):a=f.$tr("\\","");return a});a.defn(f,"$sub_attributes",function(b,c){var f,J,w,h=d,k=d,t=d,C=d;null==this.document&&
(this.document=d);null==c&&(c=B([],{}));if((f=b["$nil_or_empty?"]())!==d&&(!f.$$is_boolean||1==f))return b;(f=h=a.get("String")["$==="](b))===d||f.$$is_boolean&&1!=f||(b=[b]);k=this.document.$attributes();t=d;C=[];(f=(J=b).$each,f.$$p=(w=function(h){var b=w.$$s||this,y,r,v,f,K=d,x=d;null==h&&(h=d);x=K=!1;(y=h["$include?"]("{"))===d||y.$$is_boolean&&1!=y||(h=(y=(r=h).$gsub,y.$$p=(v=function(){var h=v.$$s||this,b,r,y=d,f=d,G=d,q=d,C=d,D=d,J=d,F=d,w=d;null==h.document&&(h.document=d);null==A["~"]&&(A["~"]=
d);y=A["~"];if((b=!1!==(r=y["$[]"](1)["$=="]("\\"))&&r!==d?r:y["$[]"](4)["$=="]("\\"))===d||b.$$is_boolean&&1!=b){if((b=y["$[]"](3)["$nil_or_empty?"]()["$!"]())===d||b.$$is_boolean&&1!=b)return(b=k["$key?"](w=y["$[]"](2).$downcase()))===d||b.$$is_boolean&&1!=b?(b=p.get("INTRINSIC_ATTRIBUTES")["$key?"](w))===d||b.$$is_boolean&&1!=b?function(){C=!1!==(b=t)&&b!==d?b:t=!1!==(r=c["$[]"]("attribute_missing"))&&r!==d?r:k.$fetch("attribute-missing",p.get("Compliance").$attribute_missing());if("skip"["$==="](C))return y["$[]"](0);
if("drop-line"["$==="](C))return h.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+w),K=!0,e.$v="",e;if("warn"["$==="](C))return h.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+w),y["$[]"](0);x=!0;return""}():p.get("INTRINSIC_ATTRIBUTES")["$[]"](w):k["$[]"](w);f=u((G=y["$[]"](3)).$length(),1);q=y["$[]"](2)["$[]"](E(f,-1,!1));return function(){C=G;if("set"["$==="](C)){D=q.$split(":");b=a.to_ary(p.get("Parser").$store_attribute(D["$[]"](0),
!1!==(r=D["$[]"](1))&&r!==d?r:"",h.document));J=null==b[1]?d:b[1];if((!1===J||J===d)&&k.$fetch("attribute-undefined",p.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return K=!0,e.$v="",e;x=!0;return""}if("counter"["$==="](C)||"counter2"["$==="](C))return D=q.$split(":"),F=h.document.$counter(D["$[]"](0),D["$[]"](1)),G["$=="]("counter2")?(x=!0,""):F;h.$warn("asciidoctor: WARNING: illegal attribute directive: "+y["$[]"](3));return y["$[]"](0)}()}return"{"+y["$[]"](2)+"}"},v.$$s=b,v),
y).call(r,p.get("AttributeReferenceRx")));return(y=!1!==(f=K)&&f!==d?f:!1!==x&&x!==d?h["$empty?"]():x)===d||y.$$is_boolean&&1!=y?C["$<<"](h):d},w.$$s=this,w),f).call(J);return!1!==h&&h!==d?n(C,p.get("EOL")):C});a.defn(f,"$sub_macros",function(b){var g,e,f,w,h,k,t,C,q,F,y,r,v,G,K,x,W,m,N,l,n=d,u=d,z=d,U=d,M=d,Z=d;null==this.document&&(this.document=d);if((g=b["$nil_or_empty?"]())!==d&&(!g.$$is_boolean||1==g))return b;n=B([],{});n["$[]="]("square_bracket",b["$include?"]("["));n["$[]="]("round_bracket",
b["$include?"]("("));n["$[]="]("colon",u=b["$include?"](":"));n["$[]="]("macroish",(g=n["$[]"]("square_bracket"),!1!==g&&g!==d?u:g));n["$[]="]("macroish_short_form",(g=(e=n["$[]"]("square_bracket"),!1!==e&&e!==d?u:e),!1!==g&&g!==d?b["$include?"](":["):g));z=this.document.$attributes()["$has_key?"]("linkattrs");U=this.document.$attributes()["$has_key?"]("experimental");M=""+b;!1!==U&&U!==d&&((g=(e=n["$[]"]("macroish_short_form"),!1!==e&&e!==d?!1!==(f=M["$include?"]("kbd:"))&&f!==d?f:M["$include?"]("btn:"):
e))===d||g.$$is_boolean&&1!=g||(M=(g=(e=M).$gsub,g.$$p=(w=function(){var a=w.$$s||this,k,h,b,c=d,t=d,c=c=d;null==A["~"]&&(A["~"]=d);c=A["~"];if((k=(t=c["$[]"](0))["$start_with?"]("\\"))!==d&&(!k.$$is_boolean||1==k))return t["$[]"](E(1,-1,!1));if((k=t["$start_with?"]("kbd"))===d||k.$$is_boolean&&1!=k){if((k=t["$start_with?"]("btn"))===d||k.$$is_boolean&&1!=k)return d;c=a.$unescape_bracketed_text(c["$[]"](1));return p.get("Inline").$new(a,"button",c).$convert()}c=a.$unescape_bracketed_text(c["$[]"](1));
c=c["$=="]("+")?["+"]:(k=(h=c.$split(p.get("KbdDelimiterRx"))).$inject,k.$$p=(b=function(a,k){var h;null==a&&(a=d);null==k&&(k=d);if((h=k["$end_with?"]("++"))===d||h.$$is_boolean&&1!=h)a["$<<"](k.$strip());else a["$<<"](k["$[]"](E(0,-3,!1)).$strip()),a["$<<"]("+");return a},b.$$s=a,b),k).call(h,[]);return p.get("Inline").$new(a,"kbd",d,B(["attributes"],{attributes:B(["keys"],{keys:c})})).$convert()},w.$$s=this,w),g).call(e,p.get("KbdBtnInlineMacroRx"))),(g=(f=n["$[]"]("macroish"),!1!==f&&f!==d?M["$include?"]("menu:"):
f))===d||g.$$is_boolean&&1!=g||(M=(g=(f=M).$gsub,g.$$p=(h=function(){var a=h.$$s||this,k,b,c,t=d,v=d,g=t=v=d,g=t=d;null==A["~"]&&(A["~"]=d);t=A["~"];if((k=(v=t["$[]"](0))["$start_with?"]("\\"))!==d&&(!k.$$is_boolean||1==k))return v["$[]"](E(1,-1,!1));v=t["$[]"](1);t=t["$[]"](2);(k=t["$!"]())===d||k.$$is_boolean&&1!=k?(k=g=(b=t["$include?"]("&gt;"))===d||b.$$is_boolean&&1!=b?(b=t["$include?"](","))===d||b.$$is_boolean&&1!=b?d:",":"&gt;")===d||k.$$is_boolean&&1!=k?(g=[],t=t.$rstrip()):(g=(k=(b=t.$split(g)).$map,
k.$$p=(c=function(a){null==a&&(a=d);return a.$strip()},c.$$s=a,c),k).call(b),t=g.$pop()):(g=[],t=d);return p.get("Inline").$new(a,"menu",d,B(["attributes"],{attributes:B(["menu","submenus","menuitem"],{menu:v,submenus:g,menuitem:t})})).$convert()},h.$$s=this,h),g).call(f,p.get("MenuInlineMacroRx"))),(g=(k=M["$include?"]('"'),!1!==k&&k!==d?M["$include?"]("&gt;"):k))===d||g.$$is_boolean&&1!=g||(M=(g=(k=M).$gsub,g.$$p=(t=function(){var k=t.$$s||this,h,b,v,g,r=d,y=d,e=y=r=r=d;null==A["~"]&&(A["~"]=d);
r=A["~"];if((h=(y=r["$[]"](0))["$start_with?"]("\\"))!==d&&(!h.$$is_boolean||1==h))return y["$[]"](E(1,-1,!1));r=r["$[]"](1);h=a.to_ary((b=(v=r.$split("&gt;")).$map,b.$$p=(g=function(a){null==a&&(a=d);return a.$strip()},g.$$s=k,g),b).call(v));r=null==h[0]?d:h[0];y=c.call(h,1);e=y.$pop();return p.get("Inline").$new(k,"menu",d,B(["attributes"],{attributes:B(["menu","submenus","menuitem"],{menu:r,submenus:y,menuitem:e})})).$convert()},t.$$s=this,t),g).call(k,p.get("MenuInlineRx"))));(g=(C=Z=this.document.$extensions(),
!1!==C&&C!==d?Z["$inline_macros?"]():C))===d||g.$$is_boolean&&1!=g||(g=(C=Z.$inline_macros()).$each,g.$$p=(q=function(a){var k=q.$$s||this,h,b,c;null==a&&(a=d);return M=(h=(b=M).$gsub,h.$$p=(c=function(){var k=c.$$s||this,h,b=d,t=d,b=d;null==A["~"]&&(A["~"]=d);b=A["~"];if((h=b["$[]"](0)["$start_with?"]("\\"))!==d&&(!h.$$is_boolean||1==h))return b["$[]"](0)["$[]"](E(1,-1,!1));t=b["$[]"](1);b=a.$config()["$[]"]("format")["$=="]("short")?B([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?
k.$parse_attributes(b["$[]"](2),!1!==(h=a.$config()["$[]"]("pos_attrs"))&&h!==d?h:[],B(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):B(["text"],{text:k.$unescape_bracketed_text(b["$[]"](2))});return a.$process_method()["$[]"](k,t,b)},c.$$s=k,c),h).call(b,a.$instance().$regexp())},q.$$s=this,q),g).call(C);(g=(F=n["$[]"]("macroish"),!1!==F&&F!==d?!1!==(y=M["$include?"]("image:"))&&y!==d?y:M["$include?"]("icon:"):F))===d||g.$$is_boolean&&1!=g||(M=(g=(F=M).$gsub,g.$$p=(r=function(){var a=
r.$$s||this,k,h,b,c=d,t=h=d,v=d,v=c=d;null==a.document&&(a.document=d);null==A["~"]&&(A["~"]=d);c=A["~"];if((k=c["$[]"](0)["$start_with?"]("\\"))!==d&&(!k.$$is_boolean||1==k))return c["$[]"](0)["$[]"](E(1,-1,!1));h=a.$unescape_bracketed_text(c["$[]"](2));(k=c["$[]"](0)["$start_with?"]("icon:"))===d||k.$$is_boolean&&1!=k?(t="image",v=["alt","width","height"]):(t="icon",v=["size"]);c=a.$sub_attributes(c["$[]"](1));t["$=="]("icon")||a.document.$register("images",c);v=a.$parse_attributes(h,v);k="alt";
h=v;!1!==(b=h["$[]"](k))&&b!==d?b:h["$[]="](k,p.get("Helpers").$basename(c,!0).$tr("_-"," "));return p.get("Inline").$new(a,"image",d,B(["type","target","attributes"],{type:t,target:c,attributes:v})).$convert()},r.$$s=this,r),g).call(F,p.get("ImageInlineMacroRx")));(g=!1!==(y=n["$[]"]("macroish_short_form"))&&y!==d?y:n["$[]"]("round_bracket"))===d||g.$$is_boolean&&1!=g||(M=(g=(y=M).$gsub,g.$$p=(v=function(){var k=v.$$s||this,h,b,c=d,t=d,g=d,r=d,c=c=d;null==k.document&&(k.document=d);null==A["~"]&&
(A["~"]=d);c=A["~"];if((h=c["$[]"](0)["$start_with?"]("\\"))!==d&&(!h.$$is_boolean||1==h))return c["$[]"](0)["$[]"](E(1,-1,!1));if((h=a.get("RUBY_ENGINE_OPAL"))!==d&&(!h.$$is_boolean||1==h)&&c["$[]"](1)["$=="](""))c["$[]="](1,d);t=0;g=d;if((h=r=c["$[]"](1))===d||h.$$is_boolean&&1!=h)g=c["$[]"](3),(h=(b=g["$start_with?"]("("),!1!==b&&b!==d?g["$end_with?"](")"):b))===d||h.$$is_boolean&&1!=h?t=2:(g=g["$[]"](E(1,-1,!0)),t=3);if((h=!1!==(b=r["$=="]("indexterm"))&&b!==d?b:t["$=="](3))===d||h.$$is_boolean&&
1!=h)return c=(h=r["$!"]())===d||h.$$is_boolean&&1!=h?k.$normalize_string(c["$[]"](2),!0):k.$normalize_string(g),k.document.$register("indexterms",[c]),p.get("Inline").$new(k,"indexterm",c,B(["type"],{type:"visible"})).$convert();c=(h=r["$!"]())===d||h.$$is_boolean&&1!=h?k.$split_simple_csv(k.$normalize_string(c["$[]"](2),!0)):k.$split_simple_csv(k.$normalize_string(g));k.document.$register("indexterms",[].concat(a.to_a(c)));return p.get("Inline").$new(k,"indexterm",d,B(["attributes"],{attributes:B(["terms"],
{terms:c})})).$convert()},v.$$s=this,v),g).call(y,p.get("IndextermInlineMacroRx")));(g=(b=!1!==u&&u!==d)?M["$include?"]("://"):u)===d||g.$$is_boolean&&1!=g||(M=(g=(b=M).$gsub,g.$$p=(G=function(){var k=G.$$s||this,h,b,c,t,v=d,g=d,r=d,y=d,e=d,x=e=d,v=d;null==k.document&&(k.document=d);null==A["~"]&&(A["~"]=d);v=A["~"];if((h=v["$[]"](2)["$start_with?"]("\\"))!==d&&(!h.$$is_boolean||1==h))return""+v["$[]"](1)+v["$[]"](2)["$[]"](E(1,-1,!1))+v["$[]"](3);if((h=a.get("RUBY_ENGINE_OPAL"))!==d&&(!h.$$is_boolean||
1==h)&&v["$[]"](3)["$=="](""))v["$[]="](3,d);if((h=(b=v["$[]"](1)["$=="]("link:"))?v["$[]"](3)["$!"]():v["$[]"](1)["$=="]("link:"))!==d&&(!h.$$is_boolean||1==h))return v["$[]"](0);g=(h=v["$[]"](1)["$!="]("link:"))===d||h.$$is_boolean&&1!=h?"":v["$[]"](1);r=v["$[]"](2);y="";if((h=!1!==(b=v["$[]"](3))&&b!==d?b:r["$!~"](p.get("UriTerminator")))===d||h.$$is_boolean&&1!=h)e=A["~"]["$[]"](0),")"["$==="](e)?(r=r["$[]"](E(0,-2,!1)),y=")"):";"["$==="](e)?(h=(b=g["$start_with?"]("&lt;"),!1!==b&&b!==d?r["$end_with?"]("&gt;"):
b))===d||h.$$is_boolean&&1!=h?(h=r["$end_with?"](");"))===d||h.$$is_boolean&&1!=h?(r=r["$[]"](E(0,-2,!1)),y=";"):(r=r["$[]"](E(0,-3,!1)),y=");"):(g=g["$[]"](E(4,-1,!1)),r=r["$[]"](E(0,-5,!1))):":"["$==="](e)&&((h=r["$end_with?"]("):"))===d||h.$$is_boolean&&1!=h?(r=r["$[]"](E(0,-2,!1)),y=":"):(r=r["$[]"](E(0,-3,!1)),y="):"));k.document.$register("links",r);e=B(["type","target"],{type:"link",target:r});x=d;if((h=v["$[]"](3)["$nil_or_empty?"]())===d||h.$$is_boolean&&1!=h){if((h=!1!==z&&z!==d?!1!==(c=
v["$[]"](3)["$start_with?"]('"'))&&c!==d?c:(t=v["$[]"](3)["$include?"](","),!1!==t&&t!==d?v["$[]"](3)["$include?"]("="):t):z)===d||h.$$is_boolean&&1!=h)v=k.$sub_attributes(v["$[]"](3).$gsub("\\]","]"));else{x=k.$parse_attributes(k.$sub_attributes(v["$[]"](3).$gsub("\\]","]")),[]);if((h=x["$has_key?"]("id"))!==d&&(!h.$$is_boolean||1==h))e["$[]="]("id",x.$delete("id"));v=!1!==(h=x["$[]"](1))&&h!==d?h:""}(h=v["$end_with?"]("^"))===d||h.$$is_boolean&&1!=h||(v=v.$chop(),!1!==x&&x!==d?(h="window",b=x,!1!==
(c=b["$[]"](h))&&c!==d?c:b["$[]="](h,"_blank")):x=B(["window"],{window:"_blank"}))}else v="";if((h=v["$empty?"]())!==d&&(!h.$$is_boolean||1==h))if(v=(h=k.document["$attr?"]("hide-uri-scheme"))===d||h.$$is_boolean&&1!=h?r:r.$sub(p.get("UriSniffRx"),""),!1!==x&&x!==d)x["$[]="]("role",("bare "+x["$[]"]("role")).$chomp(" "));else x=B(["role"],{role:"bare"});if(!1!==x&&x!==d)e["$[]="]("attributes",x);return""+g+p.get("Inline").$new(k,"anchor",v,e).$convert()+y},G.$$s=this,G),g).call(b,p.get("LinkInlineRx")));
(g=!1!==(K=(x=n["$[]"]("macroish"),!1!==x&&x!==d?M["$include?"]("link:"):x))&&K!==d?K:M["$include?"]("mailto:"))===d||g.$$is_boolean&&1!=g||(M=(g=(K=M).$gsub,g.$$p=(W=function(){var a=W.$$s||this,k,h,b,c=d,t=d,v=d,g=h=d,r=d,c=d;null==a.document&&(a.document=d);null==A["~"]&&(A["~"]=d);c=A["~"];if((k=c["$[]"](0)["$start_with?"]("\\"))!==d&&(!k.$$is_boolean||1==k))return c["$[]"](0)["$[]"](E(1,-1,!1));t=c["$[]"](1);v=c["$[]"](0)["$start_with?"]("mailto:");h=!1!==v&&v!==d?"mailto:"+t:t;g=B(["type","target"],
{type:"link",target:h});r=d;if((k=!1!==z&&z!==d?!1!==(b=c["$[]"](2)["$start_with?"]('"'))&&b!==d?b:c["$[]"](2)["$include?"](","):z)===d||k.$$is_boolean&&1!=k)c=a.$sub_attributes(c["$[]"](2).$gsub("\\]","]"));else{r=a.$parse_attributes(a.$sub_attributes(c["$[]"](2).$gsub("\\]","]")),[]);if((k=r["$key?"]("id"))!==d&&(!k.$$is_boolean||1==k))g["$[]="]("id",r.$delete("id"));!1===v||v===d||(k=r["$key?"](2))===d||k.$$is_boolean&&1!=k||(h=g["$[]="]("target",""+h+"?subject="+p.get("Helpers").$encode_uri(r["$[]"](2))),
(k=r["$key?"](3))===d||k.$$is_boolean&&1!=k||(h=g["$[]="]("target",""+h+"&amp;body="+p.get("Helpers").$encode_uri(r["$[]"](3)))));c=r["$[]"](1)}a.document.$register("links",h);(k=c["$end_with?"]("^"))===d||k.$$is_boolean&&1!=k||(c=c.$chop(),!1!==r&&r!==d?(k="window",h=r,!1!==(b=h["$[]"](k))&&b!==d?b:h["$[]="](k,"_blank")):r=B(["window"],{window:"_blank"}));if((k=c["$empty?"]())!==d&&(!k.$$is_boolean||1==k))if(!1!==v&&v!==d)c=t;else if(c=(k=a.document["$attr?"]("hide-uri-scheme"))===d||k.$$is_boolean&&
1!=k?t:t.$sub(p.get("UriSniffRx"),""),!1!==r&&r!==d)r["$[]="]("role",("bare "+r["$[]"]("role")).$chomp(" "));else r=B(["role"],{role:"bare"});if(!1!==r&&r!==d)g["$[]="]("attributes",r);return p.get("Inline").$new(a,"anchor",c,g).$convert()},W.$$s=this,W),g).call(K,p.get("LinkInlineMacroRx")));(g=M["$include?"]("@"))===d||g.$$is_boolean&&1!=g||(M=(g=(x=M).$gsub,g.$$p=(m=function(){var a=m.$$s||this,k,h=d,b=d,h=h=d;null==a.document&&(a.document=d);null==A["~"]&&(A["~"]=d);h=A["~"];b=h["$[]"](0);if((k=
h=h["$[]"](1))!==d&&(!k.$$is_boolean||1==k))return"\\"["$==="](h)?b["$[]"](E(1,-1,!1)):b;h="mailto:"+b;a.document.$register("links",h);return p.get("Inline").$new(a,"anchor",b,B(["type","target"],{type:"link",target:h})).$convert()},m.$$s=this,m),g).call(x,p.get("EmailInlineMacroRx")));(g=(N=n["$[]"]("macroish_short_form"),!1!==N&&N!==d?M["$include?"]("footnote"):N))===d||g.$$is_boolean&&1!=g||(M=(g=(N=M).$gsub,g.$$p=(l=function(){var k=l.$$s||this,h,b,c,t,v=d,g=d,r=d,y=v=d,e=d,r=d;null==k.document&&
(k.document=d);null==A["~"]&&(A["~"]=d);v=A["~"];if((h=v["$[]"](0)["$start_with?"]("\\"))!==d&&(!h.$$is_boolean||1==h))return v["$[]"](0)["$[]"](E(1,-1,!1));v["$[]"](1)["$=="]("footnote")?(g=d,r=k.$restore_passthroughs(k.$sub_inline_xrefs(k.$sub_inline_anchors(k.$normalize_string(v["$[]"](2),!0))),!1),v=k.document.$counter("footnote-number"),k.document.$register("footnotes",p.get("Document").$$scope.get("Footnote").$new(v,g,r)),e=y=d):(h=a.to_ary(v["$[]"](2).$split(",",2)),g=null==h[0]?d:h[0],r=null==
h[1]?d:h[1],g=g.$strip(),(h=r["$nil_or_empty?"]())===d||h.$$is_boolean&&1!=h?(r=k.$restore_passthroughs(k.$sub_inline_xrefs(k.$sub_inline_anchors(k.$normalize_string(r,!0))),!1),v=k.document.$counter("footnote-number"),k.document.$register("footnotes",p.get("Document").$$scope.get("Footnote").$new(v,g,r)),y="ref",e=d):((h=r=(b=(c=k.document.$references()["$[]"]("footnotes")).$find,b.$$p=(t=function(a){null==a&&(a=d);return a.$id()["$=="](g)},t.$$s=k,t),b).call(c))===d||h.$$is_boolean&&1!=h?(v=d,r=
g):(v=r.$index(),r=r.$text()),e=g,g=d,y="xref"));return p.get("Inline").$new(k,"footnote",r,B(["attributes","id","target","type"],{attributes:B(["index"],{index:v}),id:g,target:e,type:y})).$convert()},l.$$s=this,l),g).call(N,p.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(M,n),n)});a.defn(f,"$sub_inline_anchors",function(b,c){var e,f,w,h,k,t,C;null==c&&(c=d);(e=(f=!1!==(w=c["$!"]())&&w!==d?w:c["$[]"]("square_bracket"),!1!==f&&f!==d?b["$include?"]("[[["):f))===
d||e.$$is_boolean&&1!=e||(b=(e=(f=b).$gsub,e.$$p=(h=function(){var a=h.$$s||this,k,b=d,c=b=d;null==A["~"]&&(A["~"]=d);b=A["~"];if((k=b["$[]"](0)["$start_with?"]("\\"))!==d&&(!k.$$is_boolean||1==k))return b["$[]"](0)["$[]"](E(1,-1,!1));b=c=b["$[]"](1);return p.get("Inline").$new(a,"anchor",c,B(["type","target"],{type:"bibref",target:b})).$convert()},h.$$s=this,h),e).call(f,p.get("InlineBiblioAnchorRx")));(e=!1!==(w=(k=!1!==(t=c["$!"]())&&t!==d?t:c["$[]"]("square_bracket"),!1!==k&&k!==d?b["$include?"]("[["):
k))&&w!==d?w:(k=!1!==(t=c["$!"]())&&t!==d?t:c["$[]"]("macroish"),!1!==k&&k!==d?b["$include?"]("anchor:"):k))===d||e.$$is_boolean&&1!=e||(b=(e=(w=b).$gsub,e.$$p=(C=function(){var k=C.$$s||this,h,b,c=d,t=d,c=d;null==A["~"]&&(A["~"]=d);c=A["~"];if((h=c["$[]"](0)["$start_with?"]("\\"))!==d&&(!h.$$is_boolean||1==h))return c["$[]"](0)["$[]"](E(1,-1,!1));if((h=a.get("RUBY_ENGINE_OPAL"))!==d&&(!h.$$is_boolean||1==h)){if(c["$[]"](1)["$=="](""))c["$[]="](1,d);if(c["$[]"](2)["$=="](""))c["$[]="](2,d);if(c["$[]"](4)["$=="](""))c["$[]="](4,
d)}t=!1!==(h=c["$[]"](1))&&h!==d?h:c["$[]"](3);c=!1!==(h=!1!==(b=c["$[]"](2))&&b!==d?b:c["$[]"](4))&&h!==d?h:"["+t+"]";return p.get("Inline").$new(k,"anchor",c,B(["type","target"],{type:"ref",target:t})).$convert()},C.$$s=this,C),e).call(w,p.get("InlineAnchorRx")));return b});a.defn(f,"$sub_inline_xrefs",function(b,c){var e,f,w,h;null==c&&(c=d);(e=!1!==(f=!1!==(w=c["$!"]())&&w!==d?w:c["$[]"]("macroish"))&&f!==d?f:b["$include?"]("&lt;&lt;"))===d||e.$$is_boolean&&1!=e||(b=(e=(f=b).$gsub,e.$$p=(h=function(){var k=
h.$$s||this,b,c,g,e,y,r,v=d,f=d,K=d,x=f=v=d,W=d,x=d;null==k.document&&(k.document=d);null==A["~"]&&(A["~"]=d);v=A["~"];if((b=v["$[]"](0)["$start_with?"]("\\"))!==d&&(!b.$$is_boolean||1==b))return v["$[]"](0)["$[]"](E(1,-1,!1));if((b=a.get("RUBY_ENGINE_OPAL"))!==d&&(!b.$$is_boolean||1==b)&&v["$[]"](1)["$=="](""))v["$[]="](1,d);if((b=v["$[]"](1))===d||b.$$is_boolean&&1!=b){if(f=v["$[]"](2),(b=v["$[]"](3)["$nil_or_empty?"]())===d||b.$$is_boolean&&1!=b)K=v["$[]"](3)}else b=a.to_ary((c=(g=v["$[]"](1).$split(",",
2)).$map,c.$$p=(e=function(a){null==a&&(a=d);return a.$strip()},e.$$s=k,e),c).call(g)),f=null==b[0]?d:b[0],K=null==b[1]?d:b[1],f=f.$sub(p.get("DoubleQuotedRx"),"\\2"),K=(b=K["$nil_or_empty?"]())===d||b.$$is_boolean&&1!=b?K.$sub(p.get("DoubleQuotedMultiRx"),"\\2"):d;(b=f["$include?"]("#"))===d||b.$$is_boolean&&1!=b?v=d:(b=a.to_ary(f.$split("#")),v=null==b[0]?d:b[0],f=null==b[1]?d:b[1]);!1!==v&&v!==d?(v=p.get("Helpers").$rootname(v),(b=!1!==(c=k.document.$attributes()["$[]"]("docname")["$=="](v))&&
c!==d?c:k.document.$references()["$[]"]("includes")["$include?"](v))===d||b.$$is_boolean&&1!=b?(x=!1!==f&&f!==d?""+v+"#"+f:v,v=""+k.document.$attributes()["$[]"]("relfileprefix")+v+k.document.$attributes().$fetch("outfilesuffix",".html"),W=!1!==f&&f!==d?""+v+"#"+f:v):(x=f,v=d,W="#"+f)):((b=(c=(y=k.document.$references()["$[]"]("ids")["$has_key?"](f)["$!"](),!1!==y&&y!==d?!1!==(r=f["$include?"](" "))&&r!==d?r:f.$downcase()["$!="](f):y),!1!==c&&c!==d?x=(y=p.get("RUBY_MIN_VERSION_1_9"))===d||y.$$is_boolean&&
1!=y?k.document.$references()["$[]"]("ids").$index(f):k.document.$references()["$[]"]("ids").$key(f):c))===d||b.$$is_boolean&&1!=b||(f=x),x=f,W="#"+f);return p.get("Inline").$new(k,"anchor",K,B(["type","target","attributes"],{type:"xref",target:W,attributes:B(["path","fragment","refid"],{path:v,fragment:f,refid:x})})).$convert()},h.$$s=this,h),e).call(f,p.get("XrefInlineMacroRx")));return b});a.defn(f,"$sub_callouts",function(b){var c,e,f=d,f=(c=this["$attr?"]("line-comment"))===d||c.$$is_boolean&&
1!=c?p.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+p.get("CalloutSourceRxt"));return(c=b.$gsub,c.$$p=(e=function(){var a=e.$$s||this,h=d;null==a.document&&(a.document=d);null==A["~"]&&(A["~"]=d);h=A["~"];return h["$[]"](1)["$=="]("\\")?h["$[]"](0).$sub("\\",""):p.get("Inline").$new(a,"callout",h["$[]"](3),B(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e),c).call(b,f)});a.defn(f,"$sub_post_replacements",function(a){var b,
c,e,f,h=d,k=d;null==this.document&&(this.document=d);null==this.attributes&&(this.attributes=d);if((b=!1!==(c=this.document.$attributes()["$has_key?"]("hardbreaks"))&&c!==d?c:this.attributes["$has_key?"]("hardbreaks-option"))===d||b.$$is_boolean&&1!=b)return(b=a["$include?"]("+"))===d||b.$$is_boolean&&1!=b?a:(b=a.$gsub,b.$$p=(f=function(){var a=f.$$s||this;null==A["~"]&&(A["~"]=d);return p.get("Inline").$new(a,"break",A["~"]["$[]"](1),B(["type"],{type:"line"})).$convert()},f.$$s=this,f),b).call(a,
p.get("LineBreakRx"));h=a.$split(p.get("EOL"));if(h.$size()["$=="](1))return a;k=h.$pop();return n((b=(c=h).$map,b.$$p=(e=function(a){var k=e.$$s||this;null==a&&(a=d);return p.get("Inline").$new(k,"break",a.$rstrip().$chomp(p.get("LINE_BREAK")),B(["type"],{type:"line"})).$convert()},e.$$s=this,e),b).call(c).$push(k),p.get("EOL"))});a.defn(f,"$convert_quoted_text",function(a,b,c){var e,f=d,h=d,k=f=d,f=d;if((e=a["$[]"](0)["$start_with?"]("\\"))!==d&&(!e.$$is_boolean||1==e)){if((e=c["$=="]("constrained")?
(h=a["$[]"](2))["$nil_or_empty?"]()["$!"]():c["$=="]("constrained"))===d||e.$$is_boolean&&1!=e)return a["$[]"](0)["$[]"](E(1,-1,!1));f="["+h+"]"}if(c["$=="]("constrained")){if(!1!==f&&f!==d)return""+f+p.get("Inline").$new(this,"quoted",a["$[]"](3),B(["type"],{type:b})).$convert();(e=f=this.$parse_quoted_text_attributes(a["$[]"](2)))===d||e.$$is_boolean&&1!=e?k=d:(k=f.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+p.get("Inline").$new(this,"quoted",a["$[]"](3),B(["type","id",
"attributes"],{type:b,id:k,attributes:f})).$convert()}(e=f=this.$parse_quoted_text_attributes(a["$[]"](1)))===d||e.$$is_boolean&&1!=e?k=d:(k=f.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return p.get("Inline").$new(this,"quoted",a["$[]"](2),B(["type","id","attributes"],{type:b,id:k,attributes:f})).$convert()});a.defn(f,"$parse_quoted_text_attributes",function(b){var g,e,f,w=d,h=d,k=d,k=w=d;if(!1===b||b===d)return d;if((g=b["$empty?"]())!==d&&(!g.$$is_boolean||1==g))return B([],{});(g=b["$include?"]("{"))===
d||g.$$is_boolean&&1!=g||(b=this.$sub_attributes(b));b=b.$strip();(g=b["$include?"](","))===d||g.$$is_boolean&&1!=g||(g=a.to_ary(b.$split(",",2)),b=null==g[0]?d:g[0]);if((g=b["$empty?"]())===d||g.$$is_boolean&&1!=g){if((g=(e=!1!==(f=b["$start_with?"]("."))&&f!==d?f:b["$start_with?"]("#"),!1!==e&&e!==d?p.get("Compliance").$shorthand_property_syntax():e))===d||g.$$is_boolean&&1!=g)return B(["role"],{role:b});w=b.$split("#",2);l(w.$length(),1)?(g=a.to_ary(w["$[]"](1).$split(".")),h=null==g[0]?d:g[0],
k=c.call(g,1)):(h=d,k=[]);w=(g=w["$[]"](0)["$empty?"]())===d||g.$$is_boolean&&1!=g?w["$[]"](0).$split("."):[];l(w.$length(),1)&&w.$shift();l(k.$length(),0)&&w.$concat(k);k=B([],{});if(!1!==h&&h!==d)k["$[]="]("id",h);if((g=w["$empty?"]())===d||g.$$is_boolean&&1!=g)k["$[]="]("role",n(w," "));return k}return B([],{})});a.defn(f,"$parse_attributes",function(a,b,c){var e,f=d,h=d;null==this.document&&(this.document=d);null==b&&(b=["role"]);null==c&&(c=B([],{}));if(!1===a||a===d)return d;if((e=a["$empty?"]())!==
d&&(!e.$$is_boolean||1==e))return B([],{});(e=c["$[]"]("sub_input"))===d||e.$$is_boolean&&1!=e||(a=this.document.$sub_attributes(a));(e=c["$[]"]("unescape_input"))===d||e.$$is_boolean&&1!=e||(a=this.$unescape_bracketed_text(a));f=d;(e=c.$fetch("sub_result",!0))===d||e.$$is_boolean&&1!=e||(f=this);return(e=h=c["$[]"]("into"))===d||e.$$is_boolean&&1!=e?p.get("AttributeList").$new(a,f).$parse(b):p.get("AttributeList").$new(a,f).$parse_into(h,b)});a.defn(f,"$unescape_bracketed_text",function(a){var b;
return(b=a["$empty?"]())===d||b.$$is_boolean&&1!=b?a.$strip().$tr(p.get("EOL")," ").$gsub("\\]","]"):""});a.defn(f,"$normalize_string",function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===d||c.$$is_boolean&&1!=c?!1!==b&&b!==d?this.$unescape_brackets(a.$strip().$tr(p.get("EOL")," ")):a.$strip().$tr(p.get("EOL")," "):""});a.defn(f,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===d||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""});a.defn(f,"$split_simple_csv",function(a){var b,
c,e,f,h=d,k=d,t=d;(b=a["$empty?"]())===d||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===d||b.$$is_boolean&&1!=b?h=(b=(e=a.$split(",")).$map,b.$$p=(f=function(a){null==a&&(a=d);return a.$strip()},f.$$s=this,f),b).call(e):(h=[],k=[],t=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=d;null==a&&(a=d);return function(){b=a;if(","["$==="](b)){if(!1!==t&&t!==d)return k.$push(a);h["$<<"](k.$join().$strip());return k=[]}return'"'["$==="](b)?t=t["$!"]():k.$push(a)}()},c.$$s=this,c),b).call(a),h["$<<"](k.$join().$strip())):
h=[];return h});a.defn(f,"$resolve_subs",function(a,b,c,e){var f,h,k,t=d,C=d,q=d,F=d;null==b&&(b="block");null==c&&(c=d);null==e&&(e=d);if((f=a["$nil_or_empty?"]())!==d&&(!f.$$is_boolean||1==f))return[];t=d;C=p.get("SubModifierSniffRx")["$=~"](a);(f=(h=a.$tr(" ","").$split(",")).$each,f.$$p=(k=function(a){var k,h,e,f=d,x=h=h=h=d,f=d;null==a&&(a=d);f=d;!1!==C&&C!==d&&((h=a.$chr())["$=="]("+")?(f="append",a=a["$[]"](E(1,-1,!1))):h["$=="]("-")?(f="remove",a=a["$[]"](E(1,-1,!1))):(k=a["$end_with?"]("+"))===
d||k.$$is_boolean&&1!=k||(f="prepend",a=a.$chop()));a=a.$to_sym();(k=(h=b["$=="]("inline"))?!1!==(e=a["$=="]("verbatim"))&&e!==d?e:a["$=="]("v"):b["$=="]("inline"))===d||k.$$is_boolean&&1!=k?(k=p.get("COMPOSITE_SUBS")["$key?"](a))===d||k.$$is_boolean&&1!=k?(k=(h=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==h&&h!==d?p.get("SUB_SYMBOLS")["$key?"](a):h))===d||k.$$is_boolean&&1!=k?h=[a]:(h=p.get("SUB_SYMBOLS")["$[]"](a),h=(k=x=p.get("COMPOSITE_SUBS")["$[]"](h))===d||k.$$is_boolean&&
1!=k?[h]:x):h=p.get("COMPOSITE_SUBS")["$[]"](a):h=["specialcharacters"];if(!1!==f&&f!==d)return!1!==(k=t)&&k!==d?k:t=!1!==c&&c!==d?c.$dup():[],"append"["$==="](f)?t=u(t,h):"prepend"["$==="](f)?t=u(h,t):"remove"["$==="](f)?t=m(t,h):d;!1!==(k=t)&&k!==d?k:t=[];return t=u(t,h)},k.$$s=this,k),f).call(h);q=t["$&"](p.get("SUB_OPTIONS")["$[]"](b));if((f=m(t,q)["$empty?"]())===d||f.$$is_boolean&&1!=f)F=m(t,q),this.$warn("asciidoctor: WARNING: invalid substitution type"+(l(F.$size(),1)?"s":"")+(!1!==e&&e!==
d?" for ":d)+e+": "+n(F,", "));return q});a.defn(f,"$resolve_block_subs",function(a,b,c){return this.$resolve_subs(a,"block",b,c)});a.defn(f,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",d,"passthrough macro")});a.defn(f,"$highlight_source",function(b,c,e){var f,m,h,k,t,C=d,q=d,F=d,y=d,r=d,v=d,G=d,K=q=d,x=d,W=C=d,T=d;null==this.document&&(this.document=d);null==this.passthroughs&&(this.passthroughs=d);null==e&&(e=d);C=!1!==(f=e)&&f!==d?f:e=this.document.$attributes()["$[]"]("source-highlighter");
if("coderay"["$==="](C)){if((f=!1!==(m=q=null==a.Object.$$scope.CodeRay?d:"constant")&&m!==d?m:this.document.$attributes()["$[]"]("coderay-unavailable"))===d||f.$$is_boolean&&1!=f)(f=p.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===d||f.$$is_boolean&&1!=f?q=!0:this.document.$set_attr("coderay-unavailable",!0)}else if("pygments"["$==="](C)){if((f=!1!==(m=q=null==a.Object.$$scope.Pygments?d:"constant")&&m!==d?m:this.document.$attributes()["$[]"]("pygments-unavailable"))===d||f.$$is_boolean&&
1!=f)(f=p.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===d||f.$$is_boolean&&1!=f?q=!0:this.document.$set_attr("pygments-unavailable",!0)}else q=!1;if(!1===q||q===d)return this.$sub_source(b,c);F=0;y=!1;!1!==c&&c!==d?(r=B([],{}),v=-1,G=(f=this["$attr?"]("line-comment"))===d||f.$$is_boolean&&1!=f?p.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+p.get("CalloutExtractRxt")),b=n((f=(m=b.$split(p.get("EOL"))).$map,f.$$p=
(h=function(a){var k=h.$$s||this,b,c,t;null==a&&(a=d);F=u(F,1);return(b=(c=a).$gsub,b.$$p=(t=function(){var a,k,b,h=d;null==A["~"]&&(A["~"]=d);h=A["~"];if(h["$[]"](1)["$=="]("\\"))return h["$[]"](0).$sub("\\","");(a=F,k=r,!1!==(b=k["$[]"](a))&&b!==d?b:k["$[]="](a,[]))["$<<"](h["$[]"](3));v=F;return d},t.$$s=k,t),b).call(c,G)},h.$$s=this,h),f).call(m),p.get("EOL")),y=v["$=="](F),(f=r["$empty?"]())===d||f.$$is_boolean&&1!=f||(r=d)):r=d;K=q=d;C=e;if("coderay"["$==="](C))(f=q=(k=this["$attr?"]("linenums"))===
d||k.$$is_boolean&&1!=k?d:(!1!==(k=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&k!==d?k:"table").$to_sym())===d||f.$$is_boolean&&1!=f||(f=this["$attr?"]("highlight",d,!1))===d||f.$$is_boolean&&1!=f||(K=this.$resolve_lines_to_highlight(this.$attr("highlight",d,!1))),x=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",B(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(f=this.document.$attributes()["$[]"]("coderay-css"))&&
f!==d?f:"class").$to_sym(),line_numbers:q,line_number_anchors:!1,highlight_lines:K,bold_every:!1})).$highlight(b);else if("pygments"["$==="](C)){C=!1!==(f=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",d,!1)))&&f!==d?f:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");W=B(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(f=this.document.$attributes()["$[]"]("pygments-css"))&&f!==d?f:"class")["$=="]("class")||(W["$[]="]("noclasses",
!0),W["$[]="]("style",!1!==(f=this.document.$attributes()["$[]"]("pygments-style"))&&f!==d?f:p.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((f=this["$attr?"]("highlight",d,!1))!==d&&(!f.$$is_boolean||1==f)&&((f=(K=this.$resolve_lines_to_highlight(this.$attr("highlight",d,!1)))["$empty?"]())===d||f.$$is_boolean&&1!=f))W["$[]="]("hl_lines",n(K," "));(f=this["$attr?"]("linenums"))===d||f.$$is_boolean&&1!=f?(W["$[]="]("nowrap",!0),x=C.$highlight(b,B(["options"],{options:W}))):W["$[]="]("linenos",
!1!==(f=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&f!==d?f:"table")["$=="]("table")?(q="table",x=C.$highlight(b,B(["options"],{options:W})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):x=C.$highlight(b,B(["options"],{options:W})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((f=this.passthroughs["$empty?"]())===d||f.$$is_boolean&&1!=f)x=x.$gsub(p.get("PASS_MATCH_HI"),""+p.get("PASS_START")+"\\1"+p.get("PASS_END"));
if((f=(k=!1!==c&&c!==d)?r:c)===d||f.$$is_boolean&&1!=f)return x;F=0;T=q["$!="]("table");return n((f=(k=x.$split(p.get("EOL"))).$map,f.$$p=(t=function(a){var k=t.$$s||this,b,h,c,v=d,f=d,e=d,v=d;null==k.document&&(k.document=d);null==a&&(a=d);if(!1===T||T===d){if((b=a["$include?"]('<td class="code">'))===d||b.$$is_boolean&&1!=b)return a;T=!0}F=u(F,1);if((b=v=r.$delete(F))===d||b.$$is_boolean&&1!=b)return a;f=d;(b=(h=!1!==y&&y!==d)?r["$empty?"]():y)===d||b.$$is_boolean&&1!=b||((b=e=a.$index("</pre>"))===
d||b.$$is_boolean&&1!=b?a=""+a.$chomp(" ")+" ":(f=a["$[]"](E(e,-1,!1)),a=""+a["$[]"](E(0,e,!0)).$chomp(" ")+" "));if(v.$size()["$=="](1))return""+a+p.get("Inline").$new(k,"callout",v["$[]"](0),B(["id"],{id:k.document.$callouts().$read_next_id()})).$convert()+f;v=n((b=(h=v).$map,b.$$p=(c=function(a){var k=c.$$s||this;null==k.document&&(k.document=d);null==a&&(a=d);return p.get("Inline").$new(k,"callout",a,B(["id"],{id:k.document.$callouts().$read_next_id()})).$convert()},c.$$s=k,c),b).call(h)," ");
return""+a+v+f},t.$$s=this,t),f).call(k),p.get("EOL"))});a.defn(f,"$resolve_lines_to_highlight",function(b){var c,f,e,w=d,w=[];(c=(f=b.$delete(" ").$split(p.get("DataDelimiterRx"))).$map,c.$$p=(e=function(b){var k,c=d,f=d,e=d,f=d;null==b&&(b=d);c=!1;(k=b["$start_with?"]("!"))===d||k.$$is_boolean&&1!=k||(b=b["$[]"](E(1,-1,!1)),c=!0);if((k=b["$include?"]("-"))===d||k.$$is_boolean&&1!=k)return!1!==c&&c!==d?w.$delete(b.$to_i()):w["$<<"](b.$to_i());k=a.to_ary(b.$split("-",2));f=null==k[0]?d:k[0];e=null==
k[1]?d:k[1];f=E(f.$to_i(),e.$to_i(),!1).$to_a();return!1!==c&&c!==d?w=m(w,f):w.$concat(f)},e.$$s=this,e),c).call(f);return w.$sort().$uniq()});a.defn(f,"$sub_source",function(a,b){return!1!==b&&b!==d?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(f,"$lock_in_subs",function(){var a,b,c,f,e,h=d,k=h=d;null==this.default_subs&&(this.default_subs=d);null==this.content_model&&(this.content_model=d);null==this.context&&(this.context=d);null==this.attributes&&(this.attributes=
d);null==this.style&&(this.style=d);null==this.document&&(this.document=d);null==this.subs&&(this.subs=d);if((a=this.default_subs)===d||a.$$is_boolean&&1!=a)if(h=this.content_model,"simple"["$==="](h))h=p.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](h))h=(a=!1!==(b=this.context["$=="]("listing"))&&b!==d?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===d||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?p.get("SUBS")["$[]"]("normal"):
p.get("SUBS")["$[]"]("basic"):p.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?p.get("SUBS")["$[]"]("basic"):p.get("SUBS")["$[]"]("pass");else return d;else h=this.default_subs;(a=k=this.attributes["$[]"]("subs"))===d||a.$$is_boolean&&1!=a?this.subs=h.$dup():this.subs=this.$resolve_block_subs(k,h,this.context);return(a=(b=(c=(f=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==f&&f!==d?this.attributes["$[]"]("language"):
f),!1!==c&&c!==d?this.document["$basebackend?"]("html"):c),!1!==b&&b!==d?p.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===d||a.$$is_boolean&&1!=a?d:this.subs=(a=(b=this.subs).$map,a.$$p=(e=function(a){null==a&&(a=d);return a["$=="]("specialcharacters")?"highlight":a},e.$$s=this,e),a).call(b)})})(b(z,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function u(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}a.dynamic_require_severity="ignore";var l=a.nil,m=a.module,d=a.klass,e=a.hash2,c=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path $relative_path".split(" "));
return function(b){(function(b,$super){function m(){}var z=m=d(b,$super,"AbstractNode",m),f=z.$$proto,p=z.$$scope;f.document=f.attributes=f.path_resolver=f.style=l;z.$include(p.get("Substitutors"));z.$attr_reader("parent");z.$attr_reader("document");z.$attr_reader("context");z.$attr_reader("node_name");z.$attr_accessor("id");z.$attr_reader("attributes");a.defn(z,"$initialize",function(a,b,c){var f;null==c&&(c=e([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==l?(this.parent=a,this.document=
a.$document()):this.document=this.parent=l;this.context=b;this.node_name=b.$to_s();this.attributes=(f=c["$key?"]("attributes"))===l||f.$$is_boolean&&1!=f?e([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=e([],{})});a.defn(z,"$parent=",function(a){this.parent=a;this.document=a.$document();return l});a.defn(z,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(z,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(z,"$attr",function(b,
c,f){var e,d;null==c&&(c=l);null==f&&(f=!0);(e=a.get("Symbol")["$==="](b))===l||e.$$is_boolean&&1!=e||(b=b.$to_s());this["$=="](this.document)&&(f=!1);return!1!==f&&f!==l?!1!==(e=!1!==(d=this.attributes["$[]"](b))&&d!==l?d:this.document.$attributes()["$[]"](b))&&e!==l?e:c:!1!==(e=this.attributes["$[]"](b))&&e!==l?e:c});a.defn(z,"$attr?",function(b,c,f){var e;null==c&&(c=l);null==f&&(f=!0);(e=a.get("Symbol")["$==="](b))===l||e.$$is_boolean&&1!=e||(b=b.$to_s());this["$=="](this.document)&&(f=!1);return(e=
c["$nil?"]())===l||e.$$is_boolean&&1!=e?!1!==f&&f!==l?c["$=="](!1!==(e=this.attributes["$[]"](b))&&e!==l?e:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(e=this.attributes["$has_key?"](b))&&e!==l?e:!1!==f&&f!==l?this.document.$attributes()["$has_key?"](b):f});a.defn(z,"$set_attr",function(a,b,c){var f;null==c&&(c=!0);return(f=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===l||f.$$is_boolean&&1!=f?(this.attributes["$[]="](a,b),!0):!1});a.defn(z,"$set_option",
function(a){var b;if((b=this.attributes["$has_key?"]("options"))===l||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+a+"-option","")});a.defn(z,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(z,"$update_attributes",function(a){this.attributes.$update(a);return l});a.defn(z,"$converter",function(){return this.document.$converter()});a.defn(z,
"$role?",function(a){var b;null==a&&(a=l);return!1!==a&&a!==l?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==l?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==l?b:this.document.$attributes()["$has_key?"]("role")});a.defn(z,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==l?a:this.document.$attributes()["$[]"]("role")});a.defn(z,"$has_role?",function(a){var b,c,f=l;return(b=f=!1!==(c=this.attributes["$[]"]("role"))&&
c!==l?c:this.document.$attributes()["$[]"]("role"))===l||b.$$is_boolean&&1!=b?!1:f.$split(" ")["$include?"](a)});a.defn(z,"$roles",function(){var a,b,c=l;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==l?b:this.document.$attributes()["$[]"]("role"))===l||a.$$is_boolean&&1!=a?[]:c.$split(" ")});a.defn(z,"$add_role",function(a){var b,c,f=l;return(b=(f=(!1!==(c=this.attributes["$[]"]("role"))&&c!==l?c:"").$split(" "))["$include?"](a))===l||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",
u(f.$push(a)," ")):l});a.defn(z,"$remove_role",function(a){var b,c,f=l;if((b=(f=(!1!==(c=this.attributes["$[]"]("role"))&&c!==l?c:"").$split(" "))["$include?"](a))===l||b.$$is_boolean&&1!=b)return l;f.$delete(a);return this.attributes["$[]="]("role",u(f," "))});a.defn(z,"$reftext?",function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==l?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(z,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
a!==l?a:this.document.$attributes()["$[]"]("reftext")});a.defn(z,"$icon_uri",function(b){var c,f=l;return(c=this["$attr?"]("icon"))===l||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.get("File").$extname(f=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===l||c.$$is_boolean&&1!=c?f:""+f+"."+this.document.$attr("icontype","png")});a.defn(z,"$media_uri",function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&
b!==l?this.document.$attr(b):l)});a.defn(z,"$image_uri",function(a,b){var c,f,e,h,k=l,t=l;null==b&&(b="imagesdir");return(c=n((k=this.document).$safe(),p.get("SafeMode").$$scope.get("SECURE"))?k["$attr?"]("data-uri"):n((k=this.document).$safe(),p.get("SafeMode").$$scope.get("SECURE")))===l||c.$$is_boolean&&1!=c?this.$normalize_web_path(a,!1!==b&&b!==l?k.$attr(b):l):(c=!1!==(f=p.get("Helpers")["$uriish?"](a))&&f!==l?f:(e=(h=!1!==b&&b!==l?t=k.$attr(b):b,!1!==h&&h!==l?p.get("Helpers")["$uriish?"](t):
h),!1!==e&&e!==l?a=this.$normalize_web_path(a,t,!1):e))===l||c.$$is_boolean&&1!=c?this.$generate_data_uri(a,b):(c=k["$attr?"]("allow-uri-read"))===l||c.$$is_boolean&&1!=c?a:this.$generate_data_uri_from_uri(a,k["$attr?"]("cache-uri"))});a.defn(z,"$generate_data_uri",function(b,f){var d,m,w,h=l,k=h=l,t=l;null==f&&(f=l);h=a.get("File").$extname(b);h=h["$=="](".svg")?"image/svg+xml":"image/"+h["$[]"](c(1,-1,!1));k=!1!==f&&f!==l?this.$normalize_system_path(b,this.document.$attr(f),l,e(["target_name"],
{target_name:"image"})):this.$normalize_system_path(b);if((d=a.get("File")["$readable?"](k))===l||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+k),"data:"+h+":base64,";t=l;t=(d=a.get("IO")["$respond_to?"]("binread"))===l||d.$$is_boolean&&1!=d?(d=(m=a.get("File")).$open,d.$$p=(w=function(a){null==a&&(a=l);return a.$read()},w.$$s=this,w),d).call(m,k,"rb"):a.get("IO").$binread(k);return"data:"+h+";base64,"+a.get("Base64").$encode64(t).$delete(p.get("EOL"))});
a.defn(z,"$generate_data_uri_from_uri",function(b,c){var f,e,d=l,h=l;null==c&&(c=!1);!1!==c&&c!==l?p.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(f=a.get("RUBY_ENGINE_OPAL")["$!"]())===l||f.$$is_boolean&&1!=f||a.get("OpenURI");try{return d=l,h=(f=this.$open,f.$$p=(e=function(a){null==a&&(a=l);d=a.$content_type();return a.$read()},e.$$s=this,e),f).call(this,b,"rb"),"data:"+d+";base64,"+a.get("Base64").$encode64(h).$delete(p.get("EOL"))}catch(k){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+
b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(z,"$read_contents",function(b,c){var f,d,m,h,k,t=l,C=l,q=l;null==c&&(c=e([],{}));t=this.document;if((f=!1!==(d=p.get("Helpers")["$uriish?"](b))&&d!==l?d:(m=(h=C=c["$[]"]("start"),!1!==h&&h!==l?p.get("Helpers")["$uriish?"](C):h),!1!==m&&m!==l?b=(!1!==(h=this.path_resolver)&&h!==l?h:this.path_resolver=p.get("PathResolver").$new()).$web_path(b,C):m))===l||f.$$is_boolean&&1!=f)b=this.$normalize_system_path(b,c["$[]"]("start"),l,e(["target_name"],
{target_name:!1!==(f=c["$[]"]("label"))&&f!==l?f:"asset"})),q=this.$read_asset(b,e(["normalize","warn_on_failure"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0)}));else if((f=t["$attr?"]("allow-uri-read"))===l||f.$$is_boolean&&1!=f)(f=c.$fetch("warn_on_failure",!0))===l||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(f=c["$[]"]("label"))&&f!==l?f:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),q=l;else{(f=
t["$attr?"]("cache-uri"))===l||f.$$is_boolean&&1!=f||p.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{q=(f=(d=a.get("OpenURI")).$open_uri,f.$$p=(k=function(a){null==a&&(a=l);return a.$read()},k.$$s=this,k),f).call(d,b),(f=c["$[]"]("normalize"))===l||f.$$is_boolean&&1!=f||(q=u(p.get("Helpers").$normalize_lines_from_string(q),p.get("EOL")))}catch(F){try{(f=c.$fetch("warn_on_failure",!0))===l||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+
(!1!==(f=c["$[]"]("label"))&&f!==l?f:"asset")+" at URI: "+b),q=l}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return q});a.defn(z,"$read_asset",function(b,c){var f;null==c&&(c=e([],{}));if((f=a.get("Hash")["$==="](c))===l||f.$$is_boolean&&1!=f)c=e(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(f=a.get("File")["$readable?"](b))===l||f.$$is_boolean&&1!=f?((f=c["$[]"]("warn_on_failure"))===l||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
b),l):(f=c["$[]"]("normalize"))===l||f.$$is_boolean&&1!=f?a.get("IO").$read(b):u(p.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),p.get("EOL"))});a.defn(z,"$normalize_web_path",function(a,b,c){var f;null==b&&(b=l);null==c&&(c=!0);return(f=!1!==c&&c!==l?p.get("Helpers")["$uriish?"](a):c)===l||f.$$is_boolean&&1!=f?(!1!==(f=this.path_resolver)&&f!==l?f:this.path_resolver=p.get("PathResolver").$new()).$web_path(a,b):a});a.defn(z,"$normalize_system_path",function(b,c,f,d){var m,h=l,
k=l;null==c&&(c=l);null==f&&(f=l);null==d&&(d=e([],{}));h=!1!==(m=this.path_resolver)&&m!==l?m:this.path_resolver=p.get("PathResolver").$new();if(n((k=this.document).$safe(),p.get("SafeMode").$$scope.get("SAFE")))if(!1!==c&&c!==l){if((m=h["$is_root?"](c))===l||m.$$is_boolean&&1!=m)c=a.get("File").$join(k.$base_dir(),c)}else c=k.$base_dir();else{if(!1===c||c===l)c=k.$base_dir();if(!1===f||f===l)f=k.$base_dir()}return h.$system_path(b,c,f,d)});a.defn(z,"$normalize_asset_path",function(a,b,c){null==
b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),l,e(["target_name","recover"],{target_name:b,recover:c}))});a.defn(z,"$relative_path",function(a){var b;return(!1!==(b=this.path_resolver)&&b!==l?b:this.path_resolver=p.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});a.defn(z,"$is_uri?",function(a){return p.get("Helpers")["$uriish?"](a)});return(a.defn(z,"$list_marker_keyword",function(a){var b;null==a&&(a=l);return p.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==
(b=a)&&b!==l?b:this.style)}),l)&&"list_marker_keyword"})(m(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var l=a.nil,m=a.breaker,d=a.slice,e=a.module,c=a.klass,b=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));return function(B){B=
e(B,"Asciidoctor").$$scope;(function(e,$super){function z(){}var f=z=c(e,$super,"AbstractBlock",z),p=f.$$proto,D=f.$$scope,g,H;p.document=p.attributes=p.blocks=p.source_location=p.subs=p.title=p.subbed_title=p.caption=p.next_section_index=p.context=p.style=p.id=p.header=p.next_section_number=l;f.$attr_accessor("content_model");f.$attr_reader("subs");f.$attr_reader("blocks");f.$attr_accessor("level");f.$attr_writer("title");f.$attr_accessor("style");f.$attr_accessor("caption");f.$attr_accessor("source_location");
a.defn(f,"$initialize",g=function(c,f,h){var k=d.call(arguments,0),t,e=g.$$p;null==h&&(h=b([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,e).apply(this,k);this.content_model="compound";this.subs=[];this.default_subs=l;this.blocks=[];this.style=this.caption=this.title=this.id=l;this.level=f["$=="]("document")?0:(t=!1!==c&&c!==l?f["$!="]("section"):c)===l||t.$$is_boolean&&1!=t?l:c.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=l});a.defn(f,
"$block?",function(){return!0});a.defn(f,"$inline?",function(){return!1});a.defn(f,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(f,"$convert",function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(f,"render","convert");a.defn(f,"$content",function(){var a,b,h;return u((a=(b=this.blocks).$map,a.$$p=(h=function(a){null==a&&(a=l);return a.$convert()},h.$$s=this,h),a).call(b),D.get("EOL"))});a.defn(f,"$file",function(){var a;
return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$file()});a.defn(f,"$lineno",function(){var a;return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$lineno()});a.defn(f,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(f,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(f,"$title",function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==l)?"instance-variable":l)===l||a.$$is_boolean&&1!=a?(a=this.title)===
l||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title});a.defn(f,"$captioned_title",function(){return""+this.caption+this.$title()});a.defn(f,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(f,"$<<",function(a){this.blocks["$<<"](a);return this});a.alias(f,"append","<<");a.defn(f,"$sections",function(){var a,b,h;return(a=(b=this.blocks).$select,a.$$p=(h=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},h.$$s=
this,h),a).call(b)});a.defn(f,"$sections?",function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)});a.defn(f,"$find_by",H=function(c){var f,h,k,t,e,d,g,y=H.$$p||l,r=l,v=l,G=l,K=l,x=l,W=l;null==c&&(c=b([],{}));H.$$p=null;r=[];if((f=(h=(k=(t=!1!==(e=v=(G=c["$[]"]("context"))["$!"]())&&e!==l?e:G["$=="](this.context),!1!==t&&t!==l?!1!==(e=(K=c["$[]"]("style"))["$!"]())&&e!==l?e:K["$=="](this.style):t),!1!==k&&k!==l?!1!==(t=(x=c["$[]"]("role"))["$!"]())&&t!==l?t:this["$has_role?"](x):
k),!1!==h&&h!==l?!1!==(k=(W=c["$[]"]("id"))["$!"]())&&k!==l?k:W["$=="](this.id):h))!==l&&(!f.$$is_boolean||1==f)){if(!1!==W&&W!==l)return y!==l?(f=(h=a.yield1(y,this))===m?m.$v:h)===l||f.$$is_boolean&&1!=f?r:[this]:[this];if(y!==l){if((f=(h=a.yield1(y,this))===m?m.$v:h)!==l&&(!f.$$is_boolean||1==f))r["$<<"](this)}else r["$<<"](this)}(f=(h=(k=this.context["$=="]("document"))?!1!==(t=v)&&t!==l?t:G["$=="]("section"):this.context["$=="]("document"),!1!==h&&h!==l?this["$header?"]():h))===l||f.$$is_boolean&&
1!=f||r.$concat((f=(h=this.header).$find_by,f.$$p=y.$to_proc(),f).call(h,c));G["$=="]("document")||(this.context["$=="]("dlist")?(f=!1!==(k=v)&&k!==l?k:G["$!="]("section"))===l||f.$$is_boolean&&1!=f||(f=(k=this.blocks.$flatten()).$each,f.$$p=(d=function(a){var k,b;null==a&&(a=l);return!1!==a&&a!==l?r.$concat((k=(b=a).$find_by,k.$$p=y.$to_proc(),k).call(b,c)):l},d.$$s=this,d),f).call(k):f=(t=(e=this.blocks).$each,t.$$p=(g=function(a){var k,b;null==a&&(a=l);return(k=G["$=="]("section")?a.$context()["$!="]("section"):
G["$=="]("section"))===l||k.$$is_boolean&&1!=k?r.$concat((k=(b=a).$find_by,k.$$p=y.$to_proc(),k).call(b,c)):l},g.$$s=this,g),t).call(e));return r});a.alias(f,"query","find_by");a.defn(f,"$remove_sub",function(a){this.subs.$delete(a);return l});a.defn(f,"$assign_caption",function(a,b){var h,k,c=l,f=c=c=l;null==a&&(a=l);null==b&&(b=l);if((h=!1!==(k=this["$title?"]())&&k!==l?k:this.caption["$!"]())===l||h.$$is_boolean&&1!=h)return l;!1!==a&&a!==l?this.caption=a:(h=c=this.document.$attributes()["$[]"]("caption"))===
l||h.$$is_boolean&&1!=h?(h=this["$title?"]())===l||h.$$is_boolean&&1!=h||(!1!==(h=b)&&h!==l?h:b=this.context.$to_s(),c=""+b+"-caption",(h=c=this.document.$attributes()["$[]"](c))===l||h.$$is_boolean&&1!=h||(f=this.document.$counter_increment(""+b+"-number",this),this.caption=""+c+" "+f+". ")):this.caption=c;return l});a.defn(f,"$assign_index",function(a){var b,h,k,c=l,f=l;b=[this.next_section_index];h=a;h["$index="].apply(h,b);b[b.length-1];this.next_section_index=n(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?
(c=this.document.$counter("appendix-number","A"),(b=a.$numbered())===l||b.$$is_boolean&&1!=b||(b=[c],h=a,h["$number="].apply(h,b),b[b.length-1]),(b=(f=this.document.$attr("appendix-caption",""))["$!="](""))===l||b.$$is_boolean&&1!=b?(b=[""+c+". "],h=a,h["$caption="].apply(h,b),b[b.length-1]):(b=[""+f+" "+c+": "],h=a,h["$caption="].apply(h,b),b[b.length-1])):(b=a.$numbered())===l||b.$$is_boolean&&1!=b?l:(b=(h=!1!==(k=a.$level()["$=="](1))&&k!==l?k:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),
!1!==h&&h!==l?this.document.$doctype()["$=="]("book"):h))===l||b.$$is_boolean&&1!=b?(b=[this.next_section_number],h=a,h["$number="].apply(h,b),b[b.length-1],this.next_section_number=n(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],h=a,h["$number="].apply(h,b),b[b.length-1])});return(a.defn(f,"$reindex_sections",function(){var a,b,h;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=l);return a.$context()["$=="]("section")?
(b.$assign_index(a),a.$reindex_sections()):l},h.$$s=this,h),a).call(b)}),l)&&"reindex_sections"})(B.base,B.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function u(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.module,m=a.klass,d=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(e){(function(c,
$super){function e(){}var l=e=m(c,$super,"AttributeList",e),E=l.$$proto,z=l.$$scope;E.attributes=E.scanner=E.delimiter=E.block=E.delimiter_skip_pattern=E.delimiter_boundary_pattern=n;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(z,"CG_BLANK","[ \\t]"),a.cdecl(z,"CC_WORD","a-zA-Z0-9_"),a.cdecl(z,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(z,"BoundaryRxs",d(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+z.get("CG_BLANK")+"*(,|$))")}));a.cdecl(z,"EscapedQuoteRxs",d(['"',"'"],{'"':/\\"/,
"'":/\\'/}));a.cdecl(z,"NameRx",new RegExp(""+z.get("CG_WORD")+"["+z.get("CC_WORD")+"\\-.]*"));a.cdecl(z,"BlankRx",new RegExp(""+z.get("CG_BLANK")+"+"));a.cdecl(z,"SkipRxs",d(["blank",","],{blank:z.get("BlankRx"),",":new RegExp(""+z.get("CG_BLANK")+"*(,|$)")}));a.defn(l,"$initialize",function(c,e,d){null==e&&(e=n);null==d&&(d=",");this.scanner=a.get("StringScanner").$new(c);this.block=e;this.delimiter=d;this.delimiter_skip_pattern=z.get("SkipRxs")["$[]"](d);this.delimiter_boundary_pattern=z.get("BoundaryRxs")["$[]"](d);
return this.attributes=n});a.defn(l,"$parse_into",function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))});a.defn(l,"$parse",function(a){var c,e,g=n;null==a&&(a=[]);if((c=this.attributes)!==n&&(!c.$$is_boolean||1==c))return this.attributes;this.attributes=d([],{});for(g=0;(e=this.$parse_attribute(g,a))!==n&&(!e.$$is_boolean||1==e)&&((e=this.scanner["$eos?"]())===n||e.$$is_boolean&&1!=e);)this.$skip_delimiter(),g=u(g,1);return this.attributes});a.defn(l,"$rekey",function(a){return z.get("AttributeList").$rekey(this.attributes,
a)});a.defs(l,"$rekey",function(a,c){var e,d;(e=c.$each_with_index,e.$$p=(d=function(c,e){var d,h=n,k=n;null==c&&(c=n);null==e&&(e=n);if(!1===c||c===n)return n;h=u(e,1);return(d=k=a["$[]"](h))===n||d.$$is_boolean&&1!=d?n:a["$[]="](c,k)},d.$$s=this,d),e).call(c);return a});a.defn(l,"$parse_attribute",function(a,c){var e,d,m,l,w=n,h=n,k=h=n,t=n,C=n,h=w=t=n;null==a&&(a=0);null==c&&(c=[]);w=!1;this.$skip_blank();if((h=this.scanner.$peek(1))["$=="]('"'))h=this.$parse_attribute_value(this.scanner.$get_byte()),
k=n;else if(h["$=="]("'"))h=this.$parse_attribute_value(this.scanner.$get_byte()),k=n,w=!0;else{h=this.$scan_name();t=0;C=n;if((e=this.scanner["$eos?"]())===n||e.$$is_boolean&&1!=e)t=!1!==(e=this.$skip_blank())&&e!==n?e:0,C=this.scanner.$get_byte();else if(!1===h||h===n)return!1;if((e=!1!==(d=C["$!"]())&&d!==n?d:C["$=="](this.delimiter))===n||e.$$is_boolean&&1!=e)if((e=!1!==(d=C["$!="]("="))&&d!==n?d:h["$!"]())===n||e.$$is_boolean&&1!=e){if(this.$skip_blank(),(e=this.scanner.$peek(1))!==n&&(!e.$$is_boolean||
1==e))if((C=this.scanner.$get_byte())["$=="]('"'))k=this.$parse_attribute_value(C);else if(C["$=="]("'"))k=this.$parse_attribute_value(C),w=!0;else if(C["$=="](this.delimiter))k=n;else if(k=""+C+this.$scan_to_delimiter(),k["$=="]("None"))return!0}else h=""+h+" "["$*"](t)+C+this.$scan_to_delimiter(),k=n;else k=n}if(!1!==k&&k!==n)if(t=h,"options"["$==="](t)||"opts"["$==="](t))h="options",(e=(d=k.$tr(" ","").$split(",")).$each,e.$$p=(m=function(a){var k=m.$$s||this;null==k.attributes&&(k.attributes=
n);null==a&&(a=n);return k.attributes["$[]="](""+a+"-option","")},m.$$s=this,m),e).call(d),this.attributes["$[]="](h,k);else if("title"["$==="](t))this.attributes["$[]="](h,k);else this.attributes["$[]="](h,(e=(l=!1!==w&&w!==n?k["$empty?"]()["$!"]():w,!1!==l&&l!==n?this.block:l))===n||e.$$is_boolean&&1!=e?k:this.block.$apply_normal_subs(k));else{w=(e=(l=!1!==w&&w!==n?h["$empty?"]()["$!"]():w,!1!==l&&l!==n?this.block:l))===n||e.$$is_boolean&&1!=e?h:this.block.$apply_normal_subs(h);if((e=h=c["$[]"](a))!==
n&&(!e.$$is_boolean||1==e))this.attributes["$[]="](h,w);this.attributes["$[]="](u(a,1),w)}return!0});a.defn(l,"$parse_attribute_value",function(a){var c,e=n;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((c=e=this.$scan_to_quote(a))===n||c.$$is_boolean&&1!=c)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return e.$gsub(z.get("EscapedQuoteRxs")["$[]"](a),a)});a.defn(l,"$skip_blank",function(){return this.scanner.$skip(z.get("BlankRx"))});a.defn(l,"$skip_delimiter",
function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(l,"$scan_name",function(){return this.scanner.$scan(z.get("NameRx"))});a.defn(l,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});return(a.defn(l,"$scan_to_quote",function(a){return this.scanner.$scan(z.get("BoundaryRxs")["$[]"](a))}),n)&&"scan_to_quote"})(l(e,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.slice,m=a.module,d=a.klass,e=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(c){c=m(c,"Asciidoctor").$$scope;(function(b,
$super){function c(){}var m=c=d(b,$super,"Block",c),z=m.$$proto,f=m.$$scope,p,D,g;z.attributes=z.content_model=z.lines=z.subs=z.blocks=z.context=z.style=n;z=["simple"];p=a.cdecl(f,"DEFAULT_CONTENT_MODEL",e("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));p["$default="].apply(p,z);z[z.length-1];a.alias(m,
"blockname","context");m.$attr_accessor("lines");a.defn(m,"$initialize",D=function(b,c,d){var h=l.call(arguments,0),k,t=D.$$p,g=n,q=n;null==d&&(d=e([],{}));D.$$p=null;a.find_super_dispatcher(this,"initialize",D,t).apply(this,h);this.content_model=!1!==(k=d["$[]"]("content_model"))&&k!==n?k:f.get("DEFAULT_CONTENT_MODEL")["$[]"](c);(k=d["$key?"]("subs"))===n||k.$$is_boolean&&1!=k?(this.subs=[],this.default_subs=n):(k=g=d["$[]"]("subs"))===n||k.$$is_boolean&&1!=k?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):
(g["$=="]("default")?this.default_subs=d["$[]"]("default_subs"):(k=a.get("Array")["$==="](g))===n||k.$$is_boolean&&1!=k?(this.default_subs=n,this.attributes["$[]="]("subs",""+g)):(this.default_subs=g.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(k=(q=d["$[]"]("source"))["$nil_or_empty?"]())===n||k.$$is_boolean&&1!=k?(k=a.get("String")["$==="](q))===n||k.$$is_boolean&&1!=k?this.lines=q.$dup():this.lines=f.get("Helpers").$normalize_lines_from_string(q):this.lines=[]});a.defn(m,
"$content",g=function(){var b=l.call(arguments,0),c,e,h=this,k=g.$$p,t=n,d=n,q=n,p=n;g.$$p=null;return function(){t=h.content_model;if("compound"["$==="](t))return a.find_super_dispatcher(h,"content",g,k).apply(h,b);if("simple"["$==="](t))return h.$apply_subs(u(h.lines,f.get("EOL")),h.subs);if("verbatim"["$==="](t)||"raw"["$==="](t)){d=h.$apply_subs(h.lines,h.subs);var y=d.$size();if("number"===typeof y?2>y:y["$<"](2))return d["$[]"](0);for(;(c=(e=q=d["$[]"](0),!1!==e&&e!==n?q.$rstrip()["$empty?"]():
e))!==n&&(!c.$$is_boolean||1==c);)d.$shift();for(;(c=(e=p=d["$[]"](-1),!1!==e&&e!==n?p.$rstrip()["$empty?"]():e))!==n&&(!c.$$is_boolean||1==c);)d.$pop();return u(d,f.get("EOL"))}h.content_model["$=="]("empty")||h.$warn("Unknown content model '"+h.content_model+"' for block: "+h.$to_s());return n}()});a.defn(m,"$source",function(){return u(this.lines,f.get("EOL"))});return(a.defn(m,"$to_s",function(){var a=n,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();
return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),n)&&"to_s"})(c.base,c.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var l=a.nil,m=a.module,d=a.klass,e=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(c){(function(b,$super){function c(){}var m=c=d(b,
$super,"Callouts",c),z=m.$$proto;z.co_index=z.lists=z.list_index=l;a.defn(m,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});a.defn(m,"$register",function(a){var b=l;this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=u(this.co_index,1);return b});a.defn(m,"$read_next_id",function(){var a=l,b=l,a=l,b=this.$current_list(),c=this.co_index,e=b.$size();if("number"===typeof c&&"number"===typeof e?c<=
e:c["$<="](e))a=b["$[]"](n(this.co_index,1))["$[]"]("id");this.co_index=u(this.co_index,1);return a});a.defn(m,"$callout_ids",function(a){var b,c,e;return(b=(c=this.$current_list()).$map,b.$$p=(e=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":l},e.$$s=this,e),b).call(c).$join().$chop()});a.defn(m,"$current_list",function(){return this.lists["$[]"](n(this.list_index,1))});a.defn(m,"$next_list",function(){this.list_index=u(this.list_index,1);var a=this.lists.$size(),
b=this.list_index;if("number"===typeof a&&"number"===typeof b?a<b:a["$<"](b))this.lists["$<<"]([]);this.co_index=1;return l});a.defn(m,"$rewind",function(){this.co_index=this.list_index=1;return l});a.defn(m,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(m,"$generate_callout_id",function(a,b){return"CO"+a+"-"+b}),l)&&"generate_callout_id"})(m(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.module,l=a.klass,m=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(d){d=n(d,"Asciidoctor").$$scope;n(d.base,"Converter");u;(function(a,$super){function b(){}var d=b=l(a,$super,"Base",b);return d.$include(d.$$scope.get("Converter"))})(d.get("Converter"),null);(function(e,$super){function b(){}var d=b=l(e,$super,"BuiltIn",b);a.defn(d,"$initialize",function(a,
b){null==b&&m([],{});return u});a.defn(d,"$convert",function(a,b,e){var f;null==b&&(b=u);null==e&&(e=m([],{}));!1!==(f=b)&&f!==u?f:b=a.$node_name();return(f=e["$empty?"]())===u||f.$$is_boolean&&1!=f?this.$send(b,a,e):this.$send(b,a)});a.alias(d,"handles?","respond_to?");a.defn(d,"$content",function(a){return a.$content()});a.alias(d,"pass","content");return(a.defn(d,"$skip",function(a){return u}),u)&&"skip"})(d.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.module,l=a.klass,m=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $is_a? $=== $key?".split(" "));return function(d){(function(e){(function(c,$super){function e(){}var d=e=l(c,$super,"Factory",e),n=d.$$proto,z=d.$$scope;n.converters=n.star_converter=u;d.__default__=u;(function(c){a.defn(c,
"$default",function(c){var f,e;null==this.__default__&&(this.__default__=u);null==c&&(c=!0);if(!1===c||c===u)c=!1!==(f=this.__default__)&&f!==u?f:this.$new();else{if(!1===(f=this.__default__)||f===u){var d;a:{try{((e=null==a.Object.$$scope.ThreadSafe?u:"constant")===u||e.$$is_boolean&&1!=e)&&this.$require("thread_safe".$to_s());d=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(m){if(a.rescue(m,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
d=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw m;}d=void 0}f=this.__default__=d}c=f}return c});a.defn(c,"$register",function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)});a.defn(c,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(c,"$create",function(a,c){null==c&&(c=m([],{}));return this.$default().$create(a,c)});a.defn(c,"$converters",function(){return this.$default().$converters()});return(a.defn(c,"$unregister_all",function(){return this.$default().$unregister_all()}),
u)&&"unregister_all"})(a.get_singleton_class(d));d.$attr_reader("converters");a.defn(d,"$initialize",function(a){var c;null==a&&(a=u);this.converters=!1!==(c=a)&&c!==u?c:m([],{});return this.star_converter=u});a.defn(d,"$register",function(a,c){var e,d,m;null==c&&(c=["*"]);(e=(d=c).$each,e.$$p=(m=function(c){var e=m.$$s||this;null==e.converters&&(e.converters=u);null==c&&(c=u);e.converters["$[]="](c,a);return c["$=="]("*")?e.star_converter=a:u},m.$$s=this,m),e).call(d);return u});a.defn(d,"$resolve",
function(a){var c,e;return c=this.converters,!1!==c&&c!==u?!1!==(e=this.converters["$[]"](a))&&e!==u?e:this.star_converter:c});a.defn(d,"$unregister_all",function(){this.converters.$clear();return this.star_converter=u});return(a.defn(d,"$create",function(c,e){var d,g=this,l=u,n=l=u,w=u;null==e&&(e=m([],{}));if((d=l=g.$resolve(c))!==u&&(!d.$$is_boolean||1==d))return(d=l["$is_a?"](a.get("Class")))===u||d.$$is_boolean&&1!=d?l:l.$new(c,e);l=function(){n=c;if("html5"["$==="](n)){var k;try{k=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?
"constant":u}catch(h){if(h.$$class===a.NameError)k=u;else throw h;}((d=k)===u||d.$$is_boolean&&1!=d)&&g.$require("asciidoctor/converter/html5".$to_s());return z.get("Html5Converter").$new(c,e)}if("docbook5"["$==="](n)){var C;try{C=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":u}catch(h){if(h.$$class===a.NameError)C=u;else throw h;}((d=C)===u||d.$$is_boolean&&1!=d)&&g.$require("asciidoctor/converter/docbook5".$to_s());return z.get("DocBook5Converter").$new(c,
e)}if("docbook45"["$==="](n)){var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":u}catch(h){if(h.$$class===a.NameError)q=u;else throw h;}((d=q)===u||d.$$is_boolean&&1!=d)&&g.$require("asciidoctor/converter/docbook45".$to_s());return z.get("DocBook45Converter").$new(c,e)}if("manpage"["$==="](n)){var m;try{m=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":u}catch(h){if(h.$$class===a.NameError)m=
u;else throw h;}((d=m)===u||d.$$is_boolean&&1!=d)&&g.$require("asciidoctor/converter/manpage".$to_s());return z.get("ManPageConverter").$new(c,e)}return u}();if((d=e["$key?"]("template_dirs"))===u||d.$$is_boolean&&1!=d)return l;var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":u}catch(t){if(t.$$class===a.NameError)h=u;else throw t;}((d=h)===u||d.$$is_boolean&&1!=d)&&g.$require("asciidoctor/converter/template".$to_s());var k;try{k=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?
"constant":u}catch(t){if(t.$$class===a.NameError)k=u;else throw t;}((d=k)===u||d.$$is_boolean&&1!=d)&&g.$require("asciidoctor/converter/composite".$to_s());w=z.get("TemplateConverter").$new(c,e["$[]"]("template_dirs"),e);return z.get("CompositeConverter").$new(c,w,l)}),u)&&"create"})(n(e,"Converter").$$scope.base,null)})(n(d,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var u=a.top,n=a.nil,l=a.module,m=a.range,d=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(e){e=l(e,"Asciidoctor").$$scope;(function(c){c=l(c,"Converter");var b=c.$$scope;(function(b){b=l(b,"Config");var c=b.$$scope;a.defn(b,"$register_for",function(){var b,e,f,d,m,g=
n,g=arguments.length-0;0>g&&(g=0);for(var l=Array(g),u=0;u<g;u++)l[u]=arguments[u+0];c.get("Factory").$register(this,l);g=function(a){return a}(a.get_singleton_class(this));l["$=="](["*"])?(b=(e=g).$send,b.$$p=(f=function(a){return!0},f.$$s=this,f),b).call(e,"define_method","converts?"):(b=(d=g).$send,b.$$p=(m=function(a){null==a&&(a=n);return l["$include?"](a)},m.$$s=this,m),b).call(d,"define_method","converts?");return n})})(b.base);(function(b){b=l(b,"BackendInfo");var c=b.$$scope;a.defn(b,"$backend_info",
function(){var a;null==this.backend_info&&(this.backend_info=n);return!1!==(a=this.backend_info)&&a!==n?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",function(){var b,e=n,f=n,p=n,l=n;null==this.backend&&(this.backend=n);((b=this.backend)===n||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());e=this.backend.$sub(c.get("TrailingDigitsRx"),"");(b=f=c.get("DEFAULT_EXTENSIONS")["$[]"](e))===n||b.$$is_boolean&&
1!=b?(e="html",f=".html",l=p="html"):p=f["$[]"](m(1,-1,!1));return d(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:f,filetype:p,htmlsyntax:l})});a.defn(b,"$filetype",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});a.defn(b,
"$outfilesuffix",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",function(a){null==a&&(a=n);return!1!==a&&a!==n?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(b.base);(function(b){var c=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(c.get("Config"))}),n)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));
c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",function(a,b){null==b&&d([],{});this.backend=a;return this.$setup_backend_info()});a.defn(c,"$convert",function(b,c,e){null==e&&d([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(c,"convert_with_options","convert")})(e.base);(function(c){c=l(c,"Writer");var b=c.$$scope;a.defn(c,"$write",function(c,e){var d,m,f;(d=e["$respond_to?"]("write"))===n||d.$$is_boolean&&1!=d?(d=(m=a.get("File")).$open,d.$$p=(f=function(a){null==a&&(a=
n);return a.$write(c)},f.$$s=this,f),d).call(m,e,"w"):(e.$write(c.$chomp()),e.$write(b.get("EOL")));return n})})(e.base);(function(c){c=l(c,"VoidWriter");c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",function(a,c){return n})})(e.base)})(a.base);u.$require("asciidoctor/converter/base");return u.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c=a.nil,b=a.module,B=a.klass,A=a.hash2,E=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $style $media_uri $option? $append_boolean_attribute $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match".split(" "));
return function(z){z=b(z,"Asciidoctor").$$scope;(function(b,$super){function z(){}var g=z=B(b,$super,"Html5Converter",z),H=g.$$proto,J=g.$$scope,w;H.xml_mode=H.void_element_slash=H.stylesheets=c;H=[[c,c,c]];w=a.cdecl(J,"QUOTE_TAGS",A("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],
"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));w["$default="].apply(w,H);H[H.length-1];a.cdecl(J,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(J,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(J,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(g,"$initialize",function(a,b){var e;null==b&&(b=A([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(e=this.xml_mode)===
c||e.$$is_boolean&&1!=e?c:"/";return this.stylesheets=J.get("Stylesheets").$instance()});a.defn(g,"$document",function(a){var b,e,d,f,g,y,r=c,v=c,G=c,K=c,x=c,m=c,T=c,N=m=T=m=T=K=T=K=T=c,v=v=m=m=T=c,r=[],v=this.void_element_slash,G="<br"+v+">";if((b=(K=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||b.$$is_boolean&&1!=b)K=""+K+":";x=""+K+"//cdnjs.cloudflare.com/ajax/libs";m=!1!==(b=u(a.$safe(),J.get("SafeMode").$$scope.get("SECURE")))&&b!==c?b:a["$attr?"]("linkcss");r["$<<"]("<!DOCTYPE html>");
T=(b=a["$attr?"]("nolang"))===c||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c;r["$<<"]("<html"+((b=this.xml_mode)===c||b.$$is_boolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"')+T+">");r["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+v+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+v+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+v+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+
'"'+v+">");if((b=a["$attr?"]("app-name"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+v+">");if((b=a["$attr?"]("description"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+v+">");if((b=a["$attr?"]("keywords"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+v+">");if((b=a["$attr?"]("authors"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="author" content="'+
a.$attr("authors")+'"'+v+">");if((b=a["$attr?"]("copyright"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+v+">");r["$<<"]("<title>"+a.$doctitle(A(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=J.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&(!b.$$is_boolean||1==b)){if((b=T=a.$attr("webfonts"))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<link rel="stylesheet" href="'+K+"//fonts.googleapis.com/css?family="+
((b=T["$empty?"]())===c||b.$$is_boolean&&1!=b?T:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+v+">");if(!1!==m&&m!==c)r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(J.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+v+">");else r["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==c&&(!b.$$is_boolean||1==b))if(!1!==m&&m!==c)r["$<<"]('<link rel="stylesheet" href="'+
a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+v+">");else r["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),A(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==c&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===c||b.$$is_boolean&&1!=b)K=""+a.$attr("iconfont-name","font-awesome")+".css",r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(K,a.$attr("stylesdir",
""),!1)+'"'+v+">");else r["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+x+"/font-awesome/4.5.0/css/font-awesome.min.css")+'"'+v+">");T=K=a.$attr("source-highlighter");if("coderay"["$==="](T)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==m&&m!==c)r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+v+">");else r["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](T)&&
a.$attr("pygments-css","class")["$=="]("class"))if(T=a.$attr("pygments-style"),!1!==m&&m!==c)r["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(T),a.$attr("stylesdir",""),!1)+'"'+v+">");else r["$<<"](this.stylesheets.$embed_pygments_stylesheet(T));if((b=(m=a.$docinfo())["$empty?"]())===c||b.$$is_boolean&&1!=b)r["$<<"](m);r["$<<"]("</head>");T=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))T["$<<"]('id="'+a.$id()+'"');if((b=(e=(d=(f=m=a["$sections?"](),
!1!==f&&f!==c?a["$attr?"]("toc-class"):f),!1!==d&&d!==c?a["$attr?"]("toc"):d),!1!==e&&e!==c?a["$attr?"]("toc-placement","auto"):e))===c||b.$$is_boolean&&1!=b)T["$<<"]('class="'+a.$doctype()+'"');else T["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==c&&(!b.$$is_boolean||1==b))T["$<<"]('style="max-width: '+a.$attr("max-width")+';"');r["$<<"]("<body "+n(T," ")+">");if((b=a.$noheader())===c||b.$$is_boolean&&1!=b){r["$<<"]('<div id="header">');
if(a.$doctype()["$=="]("manpage")){r["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(e=(d=!1!==m&&m!==c)?a["$attr?"]("toc"):m,!1!==e&&e!==c?a["$attr?"]("toc-placement","auto"):e))!==c&&(!b.$$is_boolean||1==b))r["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");r["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=
a["$has_header?"]())!==c&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)r["$<<"]("<h1>"+a.$header().$title()+"</h1>");N=[];if((b=a["$attr?"]("author"))!==c&&(!b.$$is_boolean||1==b)){N["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+G);if((b=a["$attr?"]("email"))!==c&&(!b.$$is_boolean||1==b))N["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+G);l(T=a.$attr("authorcount").$to_i(),1)&&(b=(e=E(2,T,!1)).$each,b.$$p=(g=function(b){var k;
null==b&&(b=c);N["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+G);return(k=a["$attr?"]("email_"+b))===c||k.$$is_boolean&&1!=k?c:N["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+G)},g.$$s=this,g),b).call(e)}if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))N["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==c?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===c||b.$$is_boolean&&
1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==c&&(!b.$$is_boolean||1==b))N["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==c&&(!b.$$is_boolean||1==b))N["$<<"](""+G+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=N["$empty?"]())===c||b.$$is_boolean&&1!=b)r["$<<"]('<div class="details">'),r.$concat(N),r["$<<"]("</div>")}if((b=(d=(f=!1!==m&&m!==c)?a["$attr?"]("toc"):m,!1!==d&&d!==c?a["$attr?"]("toc-placement","auto"):d))!==c&&(!b.$$is_boolean||
1==b))r["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}r["$<<"]("</div>")}r["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(d=a["$footnotes?"](),!1!==d&&d!==c?a["$attr?"]("nofootnotes")["$!"]():d))===c||b.$$is_boolean&&1!=b||(r["$<<"]('<div id="footnotes">\n<hr'+v+">"),(b=(d=a.$footnotes()).$each,b.$$p=(y=function(a){null==a&&(a=c);return r["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+
'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},y.$$s=this,y),b).call(d),r["$<<"]("</div>"));if((b=a.$nofooter())===c||b.$$is_boolean&&1!=b){r["$<<"]('<div id="footer">');r["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))r["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+G);if((b=(f=a["$attr?"]("last-update-label"),!1!==f&&f!==c?a["$attr?"]("reproducible")["$!"]():f))!==c&&(!b.$$is_boolean||1==b))r["$<<"](""+
a.$attr("last-update-label")+" "+a.$attr("docdatetime"));r["$<<"]("</div>");r["$<<"]("</div>")}if((b=(m=a.$docinfo("footer"))["$empty?"]())===c||b.$$is_boolean&&1!=b)r["$<<"](m);T=K;"highlightjs"["$==="](T)||"highlight.js"["$==="](T)?(m=a.$attr("highlightjsdir",""+x+"/highlight.js/8.9.1"),r["$<<"]('<link rel="stylesheet" href="'+m+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+v+">"),r["$<<"]('<script src="'+m+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](T)&&(m=a.$attr("prettifydir",""+x+"/prettify/r298"),r["$<<"]('<link rel="stylesheet" href="'+m+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+v+">"),r["$<<"]('<script src="'+m+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===c||b.$$is_boolean&&1!=b||(v=a.$attr("eqnums","none"),v["$=="]("")&&(v="AMS"),v=' equationNumbers: { autoNumber: "'+v+'" } ',r["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+
J.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+J.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+J.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+v+'}\n});\n\x3c/script>\n<script src="'+x+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));r["$<<"]("</body>");r["$<<"]("</html>");
return n(r,J.get("EOL"))});a.defn(g,"$embedded",function(a){var b,e,d,f,g,y=c,r=c,v=c,y=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)r=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',y["$<<"]("<h1"+r+">"+a.$doctitle()+" Manual Page</h1>");y["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(e=a["$has_header?"](),!1!==e&&e!==c?a.$notitle()["$!"]():e))===
c||b.$$is_boolean&&1!=b||(r=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',y["$<<"]("<h1"+r+">"+a.$header().$title()+"</h1>"));if((b=(e=(d=(f=a["$sections?"](),!1!==f&&f!==c?a["$attr?"]("toc"):f),!1!==d&&d!==c?(v=a.$attr("toc-placement"))["$!="]("macro"):d),!1!==e&&e!==c?v["$!="]("preamble"):e))!==c&&(!b.$$is_boolean||1==b))y["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");y["$<<"](a.$content());(b=(e=a["$footnotes?"](),
!1!==e&&e!==c?a["$attr?"]("nofootnotes")["$!"]():e))===c||b.$$is_boolean&&1!=b||(y["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(e=a.$footnotes()).$each,b.$$p=(g=function(a){null==a&&(a=c);return y["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g),b).call(e),y["$<<"]("</div>"));return n(y,J.get("EOL"))});a.defn(g,"$outline",function(a,b){var e,f,g,F=c,y=c,r=c,v=c,G=c,
K=c;null==b&&(b=A([],{}));if((e=a["$sections?"]())===c||e.$$is_boolean&&1!=e)return c;F=!1!==(e=b["$[]"]("sectnumlevels"))&&e!==c?e:a.$document().$attr("sectnumlevels",3).$to_i();y=!1!==(e=b["$[]"]("toclevels"))&&e!==c?e:a.$document().$attr("toclevels",2).$to_i();r=[];v=a.$sections();G=(K=v["$[]"](0)).$level();(e=(f=G["$=="](0))?K.$special():G["$=="](0))===c||e.$$is_boolean&&1!=e||(G=1);r["$<<"]('<ul class="sectlevel'+G+'">');(e=(f=v).$each,e.$$p=(g=function(a){var b=g.$$s||this,k,h,e,f=c,v=c;null==
a&&(a=c);f=(k=(h=(e=a.$numbered(),!1!==e&&e!==c?a.$caption()["$!"]():e),!1!==h&&h!==c?m(a.$level(),F):h))===c||k.$$is_boolean&&1!=k?c:""+a.$sectnum()+" ";if((k=d(a.$level(),y)?v=b.$outline(a,A(["toclevels","secnumlevels"],{toclevels:y,secnumlevels:F})):d(a.$level(),y))===c||k.$$is_boolean&&1!=k)return r["$<<"]('<li><a href="#'+a.$id()+'">'+f+a.$captioned_title()+"</a></li>");r["$<<"]('<li><a href="#'+a.$id()+'">'+f+a.$captioned_title()+"</a>");r["$<<"](v);return r["$<<"]("</li>")},g.$$s=this,g),e).call(f);
r["$<<"]("</ul>");return n(r,J.get("EOL"))});a.defn(g,"$section",function(a){var b,d,f,g=c,F=c,y=c,r=c,v=c,G=c,K=c,x=c,W=c,g=a.$level();(b=(d=g["$=="](0))?a.$special():g["$=="](0))===c||b.$$is_boolean&&1!=b||(g=1);F="h"+e(g,1);y=r=v=G=c;(b=a.$id())===c||b.$$is_boolean&&1!=b||((y=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===c||b.$$is_boolean&&1!=b)?(b=a.$document()["$attr?"]("sectlinks"))===c||b.$$is_boolean&&1!=b||(v='<a class="link" href="#'+a.$id()+'">',G="</a>"):r='<a class="anchor" href="#'+
a.$id()+'"></a>');if(g["$=="](0))return"<h1"+y+' class="sect0">'+r+v+a.$title()+G+"</h1>\n"+a.$content();K=(b=x=a.$role())===c||b.$$is_boolean&&1!=b?' class="sect'+g+'"':' class="sect'+g+" "+x+'"';W=(b=(d=(f=a.$numbered(),!1!==f&&f!==c?a.$caption()["$!"]():f),!1!==d&&d!==c?m(g,a.$document().$attr("sectnumlevels",3).$to_i()):d))===c||b.$$is_boolean&&1!=b?c:""+a.$sectnum()+" ";return"<div"+K+">\n<"+F+y+">"+r+v+W+a.$captioned_title()+G+"</"+F+">\n"+(g["$=="](1)?'<div class="sectionbody">\n'+a.$content()+
"\n</div>":a.$content())+"\n</div>"});a.defn(g,"$admonition",function(a){var b,e,d=c,f=c,g=c,y=c,r=c,d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=a.$attr("name"),g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",y=(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(e=a.$document()["$attr?"]("icons","font"),!1!==e&&e!==c?a["$attr?"]("icon")["$!"]():e))===c||b.$$is_boolean&&1!=b?
'<img src="'+a.$icon_uri(f)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+f+'" title="'+a.$caption()+'"></i>';return"<div"+d+' class="admonitionblock '+f+(b=r=a.$role(),!1!==b&&b!==c?" "+r:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+y+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"});a.defn(g,"$audio",function(a){var b,e=c,d=c,f=c,g=f=c,e=a.$document()["$attr?"]("htmlsyntax","xml"),d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+
a.$id()+'"',f=["audioblock",a.$style(),a.$role()].$compact(),f=' class="'+n(f," ")+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+d+f+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("autoplay",e))+((b=a["$option?"]("nocontrols"))===c||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",e):c)+
((b=a["$option?"]("loop"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("loop",e))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"});a.defn(g,"$colist",function(a){var b,d,f,g,m,y=c,r=c,v=c,G=v=c,y=[],r=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',v=["colist",a.$style(),a.$role()].$compact(),v=' class="'+n(v," ")+'"';y["$<<"]("<div"+r+v+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))y["$<<"]('<div class="title">'+a.$title()+"</div>");
(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?(y["$<<"]("<ol>"),(b=(g=a.$items()).$each,b.$$p=(m=function(a){null==a&&(a=c);return y["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},m.$$s=this,m),b).call(g),y["$<<"]("</ol>")):(y["$<<"]("<table>"),G=a.$document()["$attr?"]("icons","font"),(b=(d=a.$items()).$each_with_index,b.$$p=(f=function(b,k){var d=f.$$s||this,v=c,v=c;null==d.void_element_slash&&(d.void_element_slash=c);null==b&&(b=c);null==k&&(k=c);v=e(k,1);v=!1!==G&&G!==c?'<i class="conum" data-value="'+
v+'"></i><b>'+v+"</b>":'<img src="'+a.$icon_uri("callouts/"+v)+'" alt="'+v+'"'+d.void_element_slash+">";return y["$<<"]("<tr>\n<td>"+v+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},f.$$s=this,f),b).call(d),y["$<<"]("</table>"));y["$<<"]("</div>");return n(y,J.get("EOL"))});a.defn(g,"$dlist",function(b){var k,e,d,f,g,y,r,v=c,G=c,K=c,x=K=K=c,m=G=c,v=[],G=(k=b.$id())===c||k.$$is_boolean&&1!=k?c:' id="'+b.$id()+'"',K=b.$style(),K=("qanda"["$==="](K)?["qlist","qanda",b.$role()]:"horizontal"["$==="](K)?["hdlist",
b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),K=' class="'+n(K," ")+'"';v["$<<"]("<div"+G+K+">");if((k=b["$title?"]())!==c&&(!k.$$is_boolean||1==k))v["$<<"]('<div class="title">'+b.$title()+"</div>");K=b.$style();"qanda"["$==="](K)?(v["$<<"]("<ol>"),(k=(e=b.$items()).$each,k.$$p=(d=function(b,k){var h=d.$$s||this,e,f,t;null==b&&(b=c);null==k&&(k=c);v["$<<"]("<li>");(e=(f=[].concat(a.to_a(b))).$each,e.$$p=(t=function(a){null==a&&(a=c);return v["$<<"]("<p><em>"+a.$text()+"</em></p>")},t.$$s=
h,t),e).call(f);if(!1!==k&&k!==c){if((e=k["$text?"]())!==c&&(!e.$$is_boolean||1==e))v["$<<"]("<p>"+k.$text()+"</p>");if((e=k["$blocks?"]())!==c&&(!e.$$is_boolean||1==e))v["$<<"](k.$content())}return v["$<<"]("</li>")},d.$$s=this,d),k).call(e),v["$<<"]("</ol>")):"horizontal"["$==="](K)?(x=this.void_element_slash,v["$<<"]("<table>"),(k=!1!==(f=b["$attr?"]("labelwidth"))&&f!==c?f:b["$attr?"]("itemwidth"))===c||k.$$is_boolean&&1!=k||(v["$<<"]("<colgroup>"),G=(k=b["$attr?"]("labelwidth"))===c||k.$$is_boolean&&
1!=k?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',v["$<<"]("<col"+G+x+">"),G=(k=b["$attr?"]("itemwidth"))===c||k.$$is_boolean&&1!=k?c:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"',v["$<<"]("<col"+G+x+">"),v["$<<"]("</colgroup>")),(k=(f=b.$items()).$each,k.$$p=(g=function(k,e){var d=g.$$s||this,f,t,r,y=c,G=c;null==k&&(k=c);null==e&&(e=c);v["$<<"]("<tr>");v["$<<"]('<td class="hdlist1'+((f=b["$option?"]("strong"))===c||f.$$is_boolean&&1!=f?c:" strong")+'">');y=[].concat(a.to_a(k));
G=y["$[]"](-1);(f=(t=y).$each,f.$$p=(r=function(a){var b;null==a&&(a=c);v["$<<"](a.$text());return(b=a["$!="](G))===c||b.$$is_boolean&&1!=b?c:v["$<<"]("<br"+x+">")},r.$$s=d,r),f).call(t);v["$<<"]("</td>");v["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==c){if((f=e["$text?"]())!==c&&(!f.$$is_boolean||1==f))v["$<<"]("<p>"+e.$text()+"</p>");if((f=e["$blocks?"]())!==c&&(!f.$$is_boolean||1==f))v["$<<"](e.$content())}v["$<<"]("</td>");return v["$<<"]("</tr>")},g.$$s=this,g),k).call(f),v["$<<"]("</table>")):
(v["$<<"]("<dl>"),m=(k=b.$style())===c||k.$$is_boolean&&1!=k?' class="hdlist1"':c,(k=(y=b.$items()).$each,k.$$p=(r=function(b,k){var h=r.$$s||this,e,f,d;null==b&&(b=c);null==k&&(k=c);(e=(f=[].concat(a.to_a(b))).$each,e.$$p=(d=function(a){null==a&&(a=c);return v["$<<"]("<dt"+m+">"+a.$text()+"</dt>")},d.$$s=h,d),e).call(f);if(!1!==k&&k!==c){v["$<<"]("<dd>");if((e=k["$text?"]())!==c&&(!e.$$is_boolean||1==e))v["$<<"]("<p>"+k.$text()+"</p>");if((e=k["$blocks?"]())!==c&&(!e.$$is_boolean||1==e))v["$<<"](k.$content());
return v["$<<"]("</dd>")}return c},r.$$s=this,r),k).call(y),v["$<<"]("</dl>"));v["$<<"]("</div>");return n(v,J.get("EOL"))});a.defn(g,"$example",function(a){var b,e=c,f=c,d=c,e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+' class="'+((b=d=a.$role())===c||b.$$is_boolean&&1!=b?"exampleblock":n(["exampleblock",d]," "))+'">\n'+f+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});
a.defn(g,"$floating_title",function(a){var b,f=c,d=c,g=c,f="h"+e(a.$level(),1),d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=[a.$style(),a.$role()].$compact();return"<"+f+d+' class="'+n(g," ")+'">'+a.$title()+"</"+f+">"});a.defn(g,"$image",function(a){var b,e,f,g=c,m=c,y=c,r=c,v=c,G=c,K=r=c,r=y=y=m=m=g=c,g=a.$attr("target"),m=(b=a["$attr?"]("width"))===c||b.$$is_boolean&&1!=b?c:' width="'+a.$attr("width")+'"',y=(b=a["$attr?"]("height"))===c||b.$$is_boolean&&1!=b?c:' height="'+a.$attr("height")+
'"';(b=(e=!1!==(f=a["$attr?"]("format","svg",!1))&&f!==c?f:g["$include?"](".svg"),!1!==e&&e!==c?d(a.$document().$safe(),J.get("SafeMode").$$scope.get("SECURE")):e))===c||b.$$is_boolean&&1!=b||(!1!==(b=r=a["$option?"]("inline"))&&b!==c?b:v=a["$option?"]("interactive"),!1!==r&&r!==c?G=!1!==(b=this.$read_svg_contents(a,g))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==v&&v!==c&&(r=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+
a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+m+y+this.void_element_slash+">",G='<object type="image/svg+xml" data="'+a.$image_uri(g)+'"'+m+y+">"+r+"</object>"));!1!==(b=G)&&b!==c?b:G='<img src="'+a.$image_uri(g)+'" alt="'+a.$attr("alt")+'"'+m+y+this.void_element_slash+">";(b=K=a.$attr("link"))===c||b.$$is_boolean&&1!=b||(G='<a class="image" href="'+K+'">'+G+"</a>");g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';m=["imageblock",a.$style(),a.$role()].$compact();m=' class="'+
n(m," ")+'"';y=[];if((b=a["$attr?"]("align"))!==c&&(!b.$$is_boolean||1==b))y["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))y["$<<"]("float: "+a.$attr("float"));y=(b=y["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+n(y,";")+'"':c;r=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+g+m+y+'>\n<div class="content">\n'+G+"\n</div>"+r+"\n</div>"});a.defn(g,"$listing",function(a){var b,
e=c,f=c,d=c,g=c,y=g=e=d=e=c,r=c,e=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(d=(b=f=a.$attr("language",c,!1))===c||b.$$is_boolean&&1!=b?c:' data-lang="'+f+'"',g=a.$document().$attr("source-highlighter"),"coderay"["$==="](g)?e=' class="CodeRay highlight'+(!1!==e&&e!==c?" nowrap":c)+'"':"pygments"["$==="](g)?e=' class="pygments highlight'+(!1!==e&&e!==c?" nowrap":c)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(e=' class="highlightjs highlight'+
(!1!==e&&e!==c?" nowrap":c)+'"',!1!==f&&f!==c&&(d=' class="language-'+f+'"'+d)):"prettify"["$==="](g)?(e=' class="prettyprint highlight'+(!1!==e&&e!==c?" nowrap":c)+((b=a["$attr?"]("linenums"))===c||b.$$is_boolean&&1!=b?c:" linenums")+'"',!1!==f&&f!==c&&(d=' class="language-'+f+'"'+d)):"html-pipeline"["$==="](g)?(e=!1!==f&&f!==c?' lang="'+f+'"':c,d=c):(e=' class="highlight'+(!1!==e&&e!==c?" nowrap":c)+'"',!1!==f&&f!==c&&(d=' class="language-'+f+'"'+d)),d="<pre"+e+"><code"+d+">",e="</code></pre>"):
(d="<pre"+(!1!==e&&e!==c?' class="nowrap"':c)+">",e="</pre>");g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';y=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+g+' class="listingblock'+(b=r=a.$role(),!1!==b&&b!==c?" "+r:b)+'">\n'+y+'<div class="content">\n'+d+a.$content()+e+"\n</div>\n</div>"});a.defn(g,"$literal",function(a){var b,e=c,f=c,d=c,g=c,e=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===
c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",d=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");return"<div"+e+' class="literalblock'+(b=g=a.$role(),!1!==b&&b!==c?" "+g:b)+'">\n'+f+'<div class="content">\n<pre'+(!1!==d&&d!==c?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"});a.defn(g,"$stem",function(b){var k,e,f=c,d=c,g=c,y=c,r=c,v=c,f=(k=b.$id())===c||k.$$is_boolean&&1!=k?c:' id="'+b.$id()+'"',d=(k=b["$title?"]())===c||
k.$$is_boolean&&1!=k?c:'<div class="title">'+b.$title()+"</div>\n";k=a.to_ary(J.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym()));g=null==k[0]?c:k[0];y=null==k[1]?c:k[1];if((k=(e=(r=b.$content())["$start_with?"](g),!1!==e&&e!==c?r["$end_with?"](y):e))===c||k.$$is_boolean&&1!=k)r=""+g+r+y;return"<div"+f+' class="'+((k=v=b.$role())===c||k.$$is_boolean&&1!=k?"stemblock":n(["stemblock",v]," "))+'">\n'+d+'<div class="content">\n'+r+"\n</div>\n</div>"});a.defn(g,"$olist",function(a){var b,e,f,
d=c,g=c,y=c,r=g=y=c,y=c,d=[],g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',y=["olist",a.$style(),a.$role()].$compact(),y=' class="'+n(y," ")+'"';d["$<<"]("<div"+g+y+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))d["$<<"]('<div class="title">'+a.$title()+"</div>");g=(b=r=a.$list_marker_keyword())===c||b.$$is_boolean&&1!=b?c:' type="'+r+'"';y=(b=a["$attr?"]("start"))===c||b.$$is_boolean&&1!=b?c:' start="'+a.$attr("start")+'"';d["$<<"]('<ol class="'+a.$style()+'"'+g+y+">");(b=
(e=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))d["$<<"](a.$content());return d["$<<"]("</li>")},f.$$s=this,f),b).call(e);d["$<<"]("</ol>");d["$<<"]("</div>");return n(d,J.get("EOL"))});a.defn(g,"$open",function(a){var b,e,d,f=c,g=c,y=c,r=c;if((f=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===
c||b.$$is_boolean&&1!=b)return g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',y=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+g+' class="quoteblock abstract'+(b=r=a.$role(),!1!==b&&b!==c?" "+r:b)+'">\n'+y+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=f["$=="]("partintro")?
!1!==(e=!1!==(d=a.$level()["$!="](0))&&d!==c?d:a.$parent().$context()["$!="]("section"))&&e!==c?e:a.$document().$doctype()["$!="]("book"):f["$=="]("partintro"))===c||b.$$is_boolean&&1!=b)return g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',y=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+g+' class="openblock'+((b=!1!==f&&f!==c?f["$!="]("open"):f)===c||b.$$is_boolean&&1!=b?"":" "+f)+(b=r=a.$role(),!1!==b&&b!==c?" "+r:b)+'">\n'+y+'<div class="content">\n'+
a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""});a.defn(g,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(g,"$paragraph",function(a){var b,e=c,e=c,e=(b=a.$role())===c||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',e=(b=a.$id())===c||b.$$is_boolean&&1!=b?e:'id="'+a.$id()+'" '+e;return(b=a["$title?"]())===
c||b.$$is_boolean&&1!=b?"<div "+e+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+e+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"});a.defn(g,"$preamble",function(a){var b,e,f,d=c,g=c,g=(b=(e=(f=(d=a.$document())["$attr?"]("toc-placement","preamble"),!1!==f&&f!==c?d["$sections?"]():f),!1!==e&&e!==c?d["$attr?"]("toc"):e))===c||b.$$is_boolean&&1!=b?c:'\n<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+this.$outline(d)+
"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"});a.defn(g,"$quote",function(a){var b,e,f=c,d=c,g=d=c,y=c,r=c,v=c,v=y=c,f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',d=["quoteblock",a.$role()].$compact(),d=' class="'+n(d," ")+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",y=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),r=(b=a["$attr?"]("citetitle"))===
c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(e=y)&&e!==c?e:r)===c||b.$$is_boolean&&1!=b?v=c:(v=!1!==r&&r!==c?"<cite>"+r+"</cite>":c,y=!1!==y&&y!==c?"&#8212; "+y+(!1!==r&&r!==c?"<br"+this.void_element_slash+">\n":c):c,v='\n<div class="attribution">\n'+y+v+"\n</div>");return"<div"+f+d+">"+g+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+v+"\n</div>"});a.defn(g,"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(g,"$sidebar",function(a){var b,e=c,d=c,f=c,e=(b=
a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',d=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n";return"<div"+e+' class="'+((b=f=a.$role())===c||b.$$is_boolean&&1!=b?"sidebarblock":n(["sidebarblock",f]," "))+'">\n<div class="content">\n'+d+a.$content()+"\n</div>\n</div>"});a.defn(g,"$table",function(a){var b,e,d,f,g,y,r,v,G,K,x=c,m=c,T=c,N=c,u=c,w=N=T=u=c,z=c,x=[],m=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',T=["tableblock","frame-"+
a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],N=[];if((b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b)if((u=a.$attr("tablepcwidth"))["$=="](100))T["$<<"]("spread");else N["$<<"]("width: "+u+"%;");if((b=u=a.$role())!==c&&(!b.$$is_boolean||1==b))T["$<<"](u);T=' class="'+n(T," ")+'"';if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))N["$<<"]("float: "+a.$attr("float")+";");N=(b=N["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+n(N," ")+'"':c;x["$<<"]("<table"+m+T+N+">");if((b=
a["$title?"]())!==c&&(!b.$$is_boolean||1==b))x["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");l(a.$attr("rowcount"),0)&&(w=this.void_element_slash,x["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b?(b=(f=a.$columns()).$each,b.$$p=(g=function(a){null==a&&(a=c);return x["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},g.$$s=this,g),b).call(f):(z="<col"+w+">",(b=(e=a.$columns().$size()).$times,b.$$p=(d=function(){return x["$<<"](z)},d.$$s=
this,d),b).call(e)),x["$<<"]("</colgroup>"),(b=(y=(v=(G=["head","foot","body"]).$select,v.$$p=(K=function(b){null==b&&(b=c);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},K.$$s=this,K),v).call(G)).$each,b.$$p=(r=function(b){var k=r.$$s||this,e,d,f;null==b&&(b=c);x["$<<"]("<t"+b+">");(e=(d=a.$rows()["$[]"](b)).$each,e.$$p=(f=function(k){var e=f.$$s||this,d,v,r;null==k&&(k=c);x["$<<"]("<tr>");(d=(v=k).$each,d.$$p=(r=function(k){var e=r.$$s||this,d,f,v,t,y=c,g=c,G=g=c,K=c,m=c,q=c;null==k&&(k=c);b["$=="]("head")?
y=k.$text():(g=k.$style(),"asciidoc"["$==="](g)?y="<div>"+k.$content()+"</div>":"verse"["$==="](g)?y='<div class="verse">'+k.$text()+"</div>":"literal"["$==="](g)?y='<div class="literal"><pre>'+k.$text()+"</pre></div>":(y="",(d=(f=k.$content()).$each,d.$$p=(v=function(a){null==a&&(a=c);return y=""+y+'<p class="tableblock">'+a+"</p>"},v.$$s=e,v),d).call(f)));g=(d=!1!==(t=b["$=="]("head"))&&t!==c?t:k.$style()["$=="]("header"))===c||d.$$is_boolean&&1!=d?"td":"th";G=' class="tableblock halign-'+k.$attr("halign")+
" valign-"+k.$attr("valign")+'"';K=(d=k.$colspan())===c||d.$$is_boolean&&1!=d?c:' colspan="'+k.$colspan()+'"';m=(d=k.$rowspan())===c||d.$$is_boolean&&1!=d?c:' rowspan="'+k.$rowspan()+'"';q=(d=a.$document()["$attr?"]("cellbgcolor"))===c||d.$$is_boolean&&1!=d?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return x["$<<"]("<"+g+G+K+m+q+">"+y+"</"+g+">")},r.$$s=e,r),d).call(v);return x["$<<"]("</tr>")},f.$$s=k,f),e).call(d);return x["$<<"]("</t"+b+">")},r.$$s=this,r),b).call(y));
x["$<<"]("</table>");return n(x,J.get("EOL"))});a.defn(g,"$toc",function(a){var b,e,d,f=c,g=c,y=c,r=c,v=c,G=c;if((b=(e=(d=(f=a.$document())["$attr?"]("toc-placement","macro"),!1!==d&&d!==c?f["$sections?"]():d),!1!==e&&e!==c?f["$attr?"]("toc"):e))===c||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===c||b.$$is_boolean&&1!=b?(g=' id="toc"',y=' id="toctitle"'):(g=' id="'+a.$id()+'"',y=' id="'+a.$id()+'title"');r=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?f.$attr("toc-title"):
a.$title();v=(b=a["$attr?"]("levels"))===c||b.$$is_boolean&&1!=b?c:a.$attr("levels").$to_i();G=(b=a["$role?"]())===c||b.$$is_boolean&&1!=b?f.$attr("toc-class","toc"):a.$role();return"<div"+g+' class="'+G+'">\n<div'+y+' class="title">'+r+"</div>\n"+this.$outline(f,A(["toclevels"],{toclevels:v}))+"\n</div>"});a.defn(g,"$ulist",function(a){var b,e,d,f=c,g=c,y=c,r=c,v=c,G=c,K=c,f=[],g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',y=["ulist",a.$style(),a.$role()].$compact(),v=r=c;(b=G=a["$option?"]("checklist"))===
c||b.$$is_boolean&&1!=b?K=(b=a.$style())===c||b.$$is_boolean&&1!=b?c:' class="'+a.$style()+'"':(y.$insert(1,"checklist"),K=' class="checklist"',(b=a["$option?"]("interactive"))===c||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b?(r="&#10003; ",v="&#10063; "):(r='<i class="fa fa-check-square-o"></i> ',v='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===c||b.$$is_boolean&&1!=b?(r='<input type="checkbox" data-item-complete="1" checked> ',
v='<input type="checkbox" data-item-complete="0"> '):(r='<input type="checkbox" data-item-complete="1" checked="checked"/> ',v='<input type="checkbox" data-item-complete="0"/> '));f["$<<"]("<div"+g+' class="'+n(y," ")+'">');if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))f["$<<"]('<div class="title">'+a.$title()+"</div>");f["$<<"]("<ul"+K+">");(b=(e=a.$items()).$each,b.$$p=(d=function(a){var b;null==a&&(a=c);f["$<<"]("<li>");if((b=!1!==G&&G!==c?a["$attr?"]("checkbox"):G)===c||b.$$is_boolean&&1!=
b)f["$<<"]("<p>"+a.$text()+"</p>");else f["$<<"]("<p>"+((b=a["$attr?"]("checked"))===c||b.$$is_boolean&&1!=b?v:r)+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))f["$<<"](a.$content());return f["$<<"]("</li>")},d.$$s=this,d),b).call(e);f["$<<"]("</ul>");f["$<<"]("</div>");return n(f,J.get("EOL"))});a.defn(g,"$verse",function(a){var b,e,d=c,f=c,g=f=c,y=c,r=c,v=c,v=y=c,d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=["verseblock",a.$role()].$compact(),f=' class="'+
n(f," ")+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",y=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),r=(b=a["$attr?"]("citetitle"))===c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(e=y)&&e!==c?e:r)===c||b.$$is_boolean&&1!=b?v=c:(v=!1!==r&&r!==c?"<cite>"+r+"</cite>":c,y=!1!==y&&y!==c?"&#8212; "+y+(!1!==r&&r!==c?"<br"+this.void_element_slash+">\n":c):c,v='\n<div class="attribution">\n'+y+v+"\n</div>");
return"<div"+d+f+">"+g+'\n<pre class="content">'+a.$content()+"</pre>"+v+"\n</div>"});a.defn(g,"$video",function(b){var k,e,d=this,f=c,g=c,y=c,r=c,v=c,G=c,K=c,x=c,m=c,l=c,N=c,u=c,w=c,z=c,H=c,J=c,A=c,D=c,B=c,E=c,Q=c,ca=c,X=c,O=c,aa=c,I=c,R=c,ja=c,ha=c,ia=c,V=c,f=b.$document()["$attr?"]("htmlsyntax","xml"),g=(k=b.$id())===c||k.$$is_boolean&&1!=k?c:' id="'+b.$id()+'"',y=["videoblock",b.$style(),b.$role()].$compact(),r=' class="'+n(y," ")+'"',v=(k=b["$title?"]())===c||k.$$is_boolean&&1!=k?c:'\n<div class="title">'+
b.$captioned_title()+"</div>",G=(k=b["$attr?"]("width"))===c||k.$$is_boolean&&1!=k?c:' width="'+b.$attr("width")+'"',K=(k=b["$attr?"]("height"))===c||k.$$is_boolean&&1!=k?c:' height="'+b.$attr("height")+'"';return function(){x=b.$attr("poster");if("vimeo"["$==="](x)){if((k=(m=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||k.$$is_boolean&&1!=k)m=""+m+":";l=(k=b["$attr?"]("start",c,!1))===c||k.$$is_boolean&&1!=k?c:"#at="+b.$attr("start");N="?";u=(k=b["$option?"]("autoplay"))===
c||k.$$is_boolean&&1!=k?c:""+N+"autoplay=1";!1!==u&&u!==c&&(N="&amp;");w=(k=b["$option?"]("loop"))===c||k.$$is_boolean&&1!=k?c:""+N+"loop=1";return"<div"+g+r+">"+v+'\n<div class="content">\n<iframe'+G+K+' src="'+m+"//player.vimeo.com/video/"+b.$attr("target")+l+u+w+'" frameborder="0"'+((k=b["$option?"]("nofullscreen"))===c||k.$$is_boolean&&1!=k?d.$append_boolean_attribute("allowfullscreen",f):c)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](x)){if((k=(m=b.$document().$attr("asset-uri-scheme",
"https"))["$empty?"]())===c||k.$$is_boolean&&1!=k)m=""+m+":";z=(k=b["$option?"]("related"))===c||k.$$is_boolean&&1!=k?0:1;H=(k=b["$attr?"]("start",c,!1))===c||k.$$is_boolean&&1!=k?c:"&amp;start="+b.$attr("start");J=(k=b["$attr?"]("end",c,!1))===c||k.$$is_boolean&&1!=k?c:"&amp;end="+b.$attr("end");u=(k=b["$option?"]("autoplay"))===c||k.$$is_boolean&&1!=k?c:"&amp;autoplay=1";w=(k=b["$option?"]("loop"))===c||k.$$is_boolean&&1!=k?c:"&amp;loop=1";A=(k=b["$option?"]("nocontrols"))===c||k.$$is_boolean&&
1!=k?c:"&amp;controls=0";(k=b["$option?"]("nofullscreen"))===c||k.$$is_boolean&&1!=k?(D=c,B=d.$append_boolean_attribute("allowfullscreen",f)):(D="&amp;fs=0",B=c);E=(k=b["$option?"]("modest"))===c||k.$$is_boolean&&1!=k?c:"&amp;modestbranding=1";Q=(k=b["$attr?"]("theme",c,!1))===c||k.$$is_boolean&&1!=k?c:"&amp;theme="+b.$attr("theme");ca=(k=b["$attr?"]("lang"))===c||k.$$is_boolean&&1!=k?c:"&amp;hl="+b.$attr("lang");k=a.to_ary(b.$attr("target").$split("/",2));X=null==k[0]?c:k[0];O=null==k[1]?c:k[1];
(k=!1!==(e=O)&&e!==c?e:O=b.$attr("list",c,!1))===c||k.$$is_boolean&&1!=k?(k=a.to_ary(X.$split(",",2)),X=null==k[0]?c:k[0],I=null==k[1]?c:k[1],aa=(k=!1!==(e=I)&&e!==c?e:I=b.$attr("playlist",c,!1))===c||k.$$is_boolean&&1!=k?!1!==w&&w!==c?"&amp;playlist="+X:c:"&amp;playlist="+I):aa="&amp;list="+O;return"<div"+g+r+">"+v+'\n<div class="content">\n<iframe'+G+K+' src="'+m+"//www.youtube.com/embed/"+X+"?rel="+z+H+J+u+w+A+aa+D+E+Q+ca+'" frameborder="0"'+B+"></iframe>\n</div>\n</div>"}R=(k=(""+(ja=b.$attr("poster")))["$empty?"]())===
c||k.$$is_boolean&&1!=k?' poster="'+b.$media_uri(ja)+'"':c;ha=b.$attr("start",c,!1);ia=b.$attr("end",c,!1);V=(k=!1!==(e=ha)&&e!==c?e:ia)===c||k.$$is_boolean&&1!=k?c:"#t="+ha+(!1!==ia&&ia!==c?",":c)+ia;return"<div"+g+r+">"+v+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+V+'"'+G+K+R+((k=b["$option?"]("autoplay"))===c||k.$$is_boolean&&1!=k?c:d.$append_boolean_attribute("autoplay",f))+((k=b["$option?"]("nocontrols"))===c||k.$$is_boolean&&1!=k?d.$append_boolean_attribute("controls",
f):c)+((k=b["$option?"]("loop"))===c||k.$$is_boolean&&1!=k?c:d.$append_boolean_attribute("loop",f))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()});a.defn(g,"$inline_anchor",function(a){var b,e,d=this,f=c,g=c,y=c,r=c,v=c,G=c,f=a.$target();return function(){g=a.$type();if("xref"["$==="](g))return y=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==c?b:f,r=!1!==(b=a.$text())&&b!==c?b:!1!==(e=a.$document().$references()["$[]"]("ids")["$[]"](y))&&e!==c?e:"["+y+"]",'<a href="'+
f+'">'+r+"</a>";if("ref"["$==="](g))return'<a id="'+f+'"></a>';if("link"["$==="](g)){v=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))v["$<<"](' id="'+a.$id()+'"');if((b=G=a.$role())!==c&&(!b.$$is_boolean||1==b))v["$<<"](' class="'+G+'"');if((b=a["$attr?"]("title",c,!1))!==c&&(!b.$$is_boolean||1==b))v["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",c,!1))!==c&&(!b.$$is_boolean||1==b))v["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+f+'"'+v.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](g)?
'<a id="'+f+'"></a>['+f+"]":d.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(g,"$inline_break",function(a){return""+a.$text()+"<br"+this.void_element_slash+">"});a.defn(g,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"});a.defn(g,"$inline_callout",function(a){var b,e=c;if((b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b)return'<b class="conum">('+
a.$text()+")</b>";e=a.$icon_uri("callouts/"+a.$text());return'<img src="'+e+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"});a.defn(g,"$inline_footnote",function(a){var b,e=c,f=c;if((b=e=a.$attr("index"))===c||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+
e+'" title="View footnote.">'+e+"</a>]</sup>";f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+f+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>"});a.defn(g,"$inline_image",function(a){var b,e,f,g,m,y,r,v,G=c,K=c,x=c,W=e=x=c,l=c,n=c,u=c,w=e=c,G=c;(b=(e=(G=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(G=a.$type())["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(b=(f=
G["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():G["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(e=a.$target(),W=(b=(f=["width","height","title"]).$map,b.$$p=(g=function(b){var k;null==b&&(b=c);return(k=a["$attr?"](b))===c||k.$$is_boolean&&1!=k?c:" "+b+'="'+a.$attr(b)+'"'},g.$$s=this,g),b).call(f).$join(),(b=(m=(y=(r=G["$!="]("icon"),!1!==r&&r!==c?!1!==(v=a["$attr?"]("format","svg",!1))&&v!==c?v:e["$include?"](".svg"):r),!1!==y&&y!==c?d(a.$document().$safe(),J.get("SafeMode").$$scope.get("SECURE")):
y),!1!==m&&m!==c?!1!==(y=l=a["$option?"]("inline"))&&y!==c?y:n=a["$option?"]("interactive"):m))===c||b.$$is_boolean&&1!=b||(!1!==l&&l!==c?x=!1!==(b=this.$read_svg_contents(a,e))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==n&&n!==c&&(u=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+W+this.void_element_slash+">",x='<object type="image/svg+xml" data="'+a.$image_uri(e)+
'"'+W+">"+u+"</object>")),!1!==(b=x)&&b!==c?b:x='<img src="'+(G["$=="]("icon")?a.$icon_uri(e):a.$image_uri(e))+'" alt="'+a.$attr("alt")+'"'+W+this.void_element_slash+">"):x="["+a.$attr("alt")+"]":(K="fa fa-"+a.$target(),(b=(e=A(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(f=function(b,k){var e;null==b&&(b=c);null==k&&(k=c);return(e=a["$attr?"](b))===c||e.$$is_boolean&&1!=e?c:K=""+K+" "+k+a.$attr(b)},f.$$s=this,f),b).call(e),x=(b=a["$attr?"]("title"))===
c||b.$$is_boolean&&1!=b?c:' title="'+a.$attr("title")+'"',x='<i class="'+K+'"'+x+"></i>");(b=a["$attr?"]("link"))===c||b.$$is_boolean&&1!=b||(e=(b=a["$attr?"]("window"))===c||b.$$is_boolean&&1!=b?c:' target="'+a.$attr("window")+'"',x='<a class="image" href="'+a.$attr("link")+'"'+e+">"+x+"</a>");K=(b=w=a.$role())===c||b.$$is_boolean&&1!=b?G:""+G+" "+w;G=(b=a["$attr?"]("float"))===c||b.$$is_boolean&&1!=b?c:' style="float: '+a.$attr("float")+'"';return'<span class="'+K+'"'+G+">"+x+"</span>"});a.defn(g,
"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""});a.defn(g,"$inline_kbd",function(a){var b,e,f,d=c,d=c;if((d=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+d["$[]"](0)+"</kbd>";d=(b=(e=d).$map,b.$$p=(f=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},f.$$s=this,f),b).call(e).$join().$chop();return'<span class="keyseq">'+d+"</span>"});a.defn(g,"$inline_menu",function(a){var b,e,f,d=c,g=c,y=g=c,d=a.$attr("menu");if((b=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===
c||b.$$is_boolean&&1!=b)return(b=y=a.$attr("menuitem"))===c||b.$$is_boolean&&1!=b?'<span class="menu">'+d+"</span>":'<span class="menuseq"><span class="menu">'+d+'</span>&#160;&#9656; <span class="menuitem">'+y+"</span></span>";g=(b=(e=g).$map,b.$$p=(f=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},f.$$s=this,f),b).call(e).$join().$chop();return'<span class="menuseq"><span class="menu">'+d+"</span>&#160;&#9656; "+g+' <span class="menuitem">'+a.$attr("menuitem")+
"</span></span>"});a.defn(g,"$inline_quoted",function(b){var k,e=c,f=c,d=c,g=c,e=c;k=a.to_ary(J.get("QUOTE_TAGS")["$[]"](b.$type()));e=null==k[0]?c:k[0];f=null==k[1]?c:k[1];d=null==k[2]?c:k[2];e=(k=g=b.$role())===c||k.$$is_boolean&&1!=k?""+e+b.$text()+f:!1!==d&&d!==c?""+e.$chop()+' class="'+g+'">'+b.$text()+f:'<span class="'+g+'">'+e+b.$text()+f+"</span>";return(k=b.$id())===c||k.$$is_boolean&&1!=k?e:'<a id="'+b.$id()+'"></a>'+e});a.defn(g,"$append_boolean_attribute",function(a,b){return!1!==b&&b!==
c?" "+a+'="'+a+'"':" "+a});return(a.defn(g,"$read_svg_contents",function(a,b){var e,f,d,g=c,y=c;(e=g=a.$read_contents(b,A(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||e.$$is_boolean&&1!=e||(g=g.$sub(J.get("SvgPreambleRx"),""),y=c,(e=(f=["width","height"]).$each,e.$$p=(d=function(b){var e;null==b&&(b=c);if((e=a["$attr?"](b))===c||e.$$is_boolean&&1!=e)return c;!1!==(e=y)&&e!==c?e:y=g.$match(J.get("SvgStartTagRx"))["$[]"](0).$gsub(J.get("DimensionAttributeRx"),
"");return y=""+y.$chop()+" "+b+'="'+a.$attr(b)+'px">'},d.$$s=this,d),e).call(f),!1!==y&&y!==c&&(g=g.$sub(J.get("SvgStartTagRx"),y)));return g}),c)&&"read_svg_contents"})(z.get("Converter"),z.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var m=a.nil,d=a.slice,e=a.module,c=a.klass,b=a.hash2,B=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $freeze $attribute_undefined $attribute_missing $detect $constants $key? $expand_path $pwd $>= $+ $length $fetch $delete_if $parse $restore_attributes $update_backend_attributes $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $to_i $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(A){A=e(A,"Asciidoctor").$$scope;(function(e,$super){function f(){}var p=f=c(e,$super,"Document",f),D=p.$$proto,g=p.$$scope,H,J,w;D.attributes=D.safe=D.reader=D.base_dir=D.parsed=D.parent_document=D.extensions=D.options=D.counters=D.references=D.doctype=D.backend=D.header=D.blocks=D.attributes_modified=D.id=D.callouts=D.header_attributes=D.attribute_overrides=D.converter=D.outfilesuffix=D.docinfo_processor_extensions=D.document=m;a.cdecl(g,"Footnote",a.get("Struct").$new("index","id",
"text"));(function(b,$super){function e(){}var f=e=c(b,$super,"AttributeEntry",e);f.$attr_reader("name","value","negate");a.defn(f,"$initialize",function(a,b,c){var e;null==c&&(c=m);this.name=a;this.value=b;return this.negate=(e=c["$nil?"]())===m||e.$$is_boolean&&1!=e?c:b["$nil?"]()});return(a.defn(f,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==m?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),m)&&"save_to"})(g.base,null);(function(e,$super){function f(){}var d=
f=c(e,$super,"Title",f),g=d.$$proto,l=d.$$scope;g.sanitized=g.subtitle=g.combined=m;d.$attr_reader("main");a.alias(d,"title","main");d.$attr_reader("subtitle");d.$attr_reader("combined");a.defn(d,"$initialize",function(c,e){var f,d,h,g=m;null==e&&(e=b([],{}));(f=(d=this.sanitized=e["$[]"]("sanitize"),!1!==d&&d!==m?c["$include?"]("<"):d))===m||f.$$is_boolean&&1!=f||(c=c.$gsub(l.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(f=!1!==(d=(g=!1!==(h=e["$[]"]("separator"))&&h!==m?h:":")["$empty?"]())&&
d!==m?d:c["$include?"](g=""+g+" ")["$!"]())===m||f.$$is_boolean&&1!=f?(f=a.to_ary(c.$rpartition(g)),this.main=null==f[0]?m:f[0],this.subtitle=null==f[2]?m:f[2]):(this.main=c,this.subtitle=m);return this.combined=c});a.defn(d,"$sanitized?",function(){return this.sanitized});a.defn(d,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(d,"$to_s",function(){return this.combined}),m)&&"to_s"})(g.base,null);p.$attr_reader("safe");p.$attr_reader("compat_mode");p.$attr_reader("sourcemap");
p.$attr_reader("references");p.$attr_reader("counters");p.$attr_reader("callouts");p.$attr_reader("header");p.$attr_reader("base_dir");p.$attr_reader("options");p.$attr_reader("outfilesuffix");p.$attr_reader("parent_document");p.$attr_reader("reader");p.$attr_reader("converter");p.$attr_reader("extensions");a.defn(p,"$initialize",H=function(c,e){var f,d,q,l,y,r,v,G,K,x,W,p,N=m,w=m,J=m,P=m,L=P=m,D=m,A=N=D=P=N=P=P=m;null==c&&(c=m);null==e&&(e=b([],{}));H.$$p=null;a.find_super_dispatcher(this,"initialize",
H,null).apply(this,[this,"document"]);if((f=N=e.$delete("parent"))===m||f.$$is_boolean&&1!=f){this.parent_document=m;this.references=b("ids footnotes links images indexterms includes".split(" "),{ids:b([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=g.get("Callouts").$new();w=b([],{});(f=(d=!1!==(v=e["$[]"]("attributes"))&&v!==m?v:b([],{})).$each,f.$$p=(r=function(a,b){var c;null==a&&(a=m);null==b&&(b=m);(c=a["$start_with?"]("!"))===m||c.$$is_boolean&&
1!=c?(c=a["$end_with?"]("!"))===m||c.$$is_boolean&&1!=c||(a=a.$chop(),b=m):(a=a["$[]"](B(1,-1,!1)),b=m);return w["$[]="](a.$downcase(),b)},r.$$s=this,r),f).call(d);this.attribute_overrides=w;if((f=(P=e["$[]"]("safe"))["$!"]())===m||f.$$is_boolean&&1!=f)if((f=a.get("Fixnum")["$==="](P))===m||f.$$is_boolean&&1!=f)try{this.safe=g.get("SafeMode").$const_get(P.$to_s().$upcase())}catch(Z){try{this.safe=g.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else this.safe=
P;else this.safe=g.get("SafeMode").$$scope.get("SECURE");this.sourcemap=e["$[]"]("sourcemap");this.compat_mode=!1;this.converter=m;try{J=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":m}catch(Z){if(Z.$$class===a.NameError)J=m;else throw Z;}this.extensions=m}else this.parent_document=N,f="base_dir",d=e,!1!==(q=d["$[]"](f))&&q!==m?q:d["$[]="](f,N.$base_dir()),this.references=(f=(d=N.$references()).$inject,f.$$p=(l=function(a,b){null==a&&(a=m);var c=b[0],e=b[1];if(c["$=="]("footnotes"))a["$[]="]("footnotes",
[]);else a["$[]="](c,e);return a},l.$$s=this,l),f).call(d,b([],{})),this.callouts=N.$callouts(),w=N.$attributes().$dup(),(f=(q=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,f.$$p=(y=function(a){null==a&&(a=m);return w.$delete(a)},y.$$s=this,y),f).call(q),this.attribute_overrides=w,this.safe=N.$safe(),this.compat_mode=N.$compat_mode(),this.sourcemap=N.$sourcemap(),this.converter=N.$converter(),J=!1,this.extensions=N.$extensions();this.parsed=!1;this.header=m;this.counters=b([],
{});this.attributes_modified=a.get("Set").$new();this.options=e;this.docinfo_processor_extensions=b([],{});P=(f="header_footer",v=e,!1!==(G=v["$[]"](f))&&G!==m?G:v["$[]="](f,!1));e.$freeze();L=this.attributes;L["$[]="]("sectids","");if(!1===P||P===m)L["$[]="]("notitle","");L["$[]="]("toc-placement","auto");L["$[]="]("stylesheet","");L["$[]="]("webfonts","");if(!1!==P&&P!==m)L["$[]="]("copycss","");L["$[]="]("prewrap","");L["$[]="]("attribute-undefined",g.get("Compliance").$attribute_undefined());
L["$[]="]("attribute-missing",g.get("Compliance").$attribute_missing());L["$[]="]("iconfont-remote","");L["$[]="]("caution-caption","Caution");L["$[]="]("important-caption","Important");L["$[]="]("note-caption","Note");L["$[]="]("tip-caption","Tip");L["$[]="]("warning-caption","Warning");L["$[]="]("appendix-caption","Appendix");L["$[]="]("example-caption","Example");L["$[]="]("figure-caption","Figure");L["$[]="]("table-caption","Table");L["$[]="]("toc-title","Table of Contents");L["$[]="]("manname-title",
"NAME");L["$[]="]("untitled-label","Untitled");L["$[]="]("version-label","Version");L["$[]="]("last-update-label","Last updated");w["$[]="]("asciidoctor","");w["$[]="]("asciidoctor-version",g.get("VERSION"));D=(f=(v=g.get("SafeMode").$constants()).$detect,f.$$p=(K=function(a){var b=K.$$s||this;null==b.safe&&(b.safe=m);null==a&&(a=m);return g.get("SafeMode").$const_get(a)["$=="](b.safe)},K.$$s=this,K),f).call(v).$to_s().$downcase();w["$[]="]("safe-mode-name",D);w["$[]="]("safe-mode-"+D,"");w["$[]="]("safe-mode-level",
this.safe);w["$[]="]("embedded",!1!==P&&P!==m?m:"");f="max-include-depth";G=w;!1!==(x=G["$[]"](f))&&x!==m?x:G["$[]="](f,64);if((f=w["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===m||f.$$is_boolean&&1!=f)w["$[]="]("allow-uri-read",m);w["$[]="]("user-home",g.get("USER_HOME"));if((f=w["$key?"]("numbered"))!==m&&(!f.$$is_boolean||1==f))w["$[]="]("sectnums",w.$delete("numbered"));(f=e["$[]"]("base_dir"))===m||f.$$is_boolean&&1!=f?(f=w["$[]"]("docdir"))===m||f.$$is_boolean&&1!=f?this.base_dir=w["$[]="]("docdir",
a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=w["$[]="]("docdir",a.get("File").$expand_path(w["$[]"]("docdir"))):this.base_dir=w["$[]="]("docdir",a.get("File").$expand_path(e["$[]"]("base_dir")));if((f=P=e["$[]"]("backend"))!==m&&(!f.$$is_boolean||1==f))w["$[]="]("backend",""+P);if((f=P=e["$[]"]("doctype"))!==m&&(!f.$$is_boolean||1==f))w["$[]="]("doctype",""+P);if(u(this.safe,g.get("SafeMode").$$scope.get("SERVER"))){f="copycss";G=w;!1!==(x=G["$[]"](f))&&x!==m?x:G["$[]="](f,m);f=
"source-highlighter";G=w;!1!==(x=G["$[]"](f))&&x!==m?x:G["$[]="](f,m);f="backend";G=w;!1!==(x=G["$[]"](f))&&x!==m?x:G["$[]="](f,g.get("DEFAULT_BACKEND"));if((f=(G=N["$!"](),!1!==G&&G!==m?w["$key?"]("docfile"):G))!==m&&(!f.$$is_boolean||1==f))w["$[]="]("docfile",w["$[]"]("docfile")["$[]"](B(n(w["$[]"]("docdir").$length(),1),-1,!1)));w["$[]="]("docdir","");w["$[]="]("user-home",".");if(u(this.safe,g.get("SafeMode").$$scope.get("SECURE"))){if((f=w.$fetch("linkcss","")["$nil?"]())===m||f.$$is_boolean&&
1!=f)w["$[]="]("linkcss","");f="icons";G=w;!1!==(x=G["$[]"](f))&&x!==m?x:G["$[]="](f,m)}}(f=(G=w).$delete_if,f.$$p=(W=function(b,c){var e,f,k=m;null==b&&(b=m);null==c&&(c=m);k=!1;(e=c["$nil?"]())===m||e.$$is_boolean&&1!=e?((e=(f=a.get("String")["$==="](c),!1!==f&&f!==m?c["$end_with?"]("@"):f))===m||e.$$is_boolean&&1!=e||(c=c.$chop(),k=!0),L["$[]="](b,c)):L.$delete(b);return k},W.$$s=this,W),f).call(G);(f=L["$key?"]("compat-mode"))===m||f.$$is_boolean&&1!=f||(this.compat_mode=!0);if(!1!==N&&N!==m)return f=
"doctype",x=L,!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,g.get("DEFAULT_DOCTYPE")),this.reader=g.get("Reader").$new(c,e["$[]"]("cursor")),g.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((f="backend",x=L,!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,g.get("DEFAULT_BACKEND")))["$=="]("manpage"))L["$[]="]("doctype",w["$[]="]("doctype","manpage"));else f="doctype",x=L,!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,g.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(L["$[]"]("backend"),
!0);N=a.get("Time").$now();P=(f="localdate",x=L,!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,N.$strftime("%Y-%m-%d")));if((f=D=L["$[]"]("localtime"))===m||f.$$is_boolean&&1!=f)try{D=L["$[]="]("localtime",N.$strftime("%H:%M:%S %Z"))}catch(Z){try{D=L["$[]="]("localtime",N.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}f="localdatetime";x=L;!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,""+P+" "+D);f="docdate";x=L;!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,P);f="doctime";x=L;!1!==(p=x["$[]"](f))&&
p!==m?p:x["$[]="](f,D);f="docdatetime";x=L;!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,""+P+" "+D);f="stylesdir";x=L;!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,".");f="iconsdir";x=L;!1!==(p=x["$[]"](f))&&p!==m?p:x["$[]="](f,a.get("File").$join(L.$fetch("imagesdir","./images"),"icons"));if(!1!==J&&J!==m){if((f=N=e["$[]"]("extensions_registry"))===m||f.$$is_boolean&&1!=f)N=(f=a.get("Proc")["$==="](A=e["$[]"]("extensions")))===m||f.$$is_boolean&&1!=f?g.get("Extensions").$$scope.get("Registry").$new():(f=
(x=g.get("Extensions")).$build_registry,f.$$p=A.$to_proc(),f).call(x);else if((f=!1!==(x=g.get("Extensions").$$scope.get("Registry")["$==="](N))&&x!==m?x:(p=a.get("RUBY_ENGINE_JRUBY"),!1!==p&&p!==m?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](N):p))===m||f.$$is_boolean&&1!=f)N=g.get("Extensions").$$scope.get("Registry").$new();this.extensions=N.$activate(this)}return this.reader=g.get("PreprocessorReader").$new(this,c,g.get("Reader").$$scope.get("Cursor").$new(L["$[]"]("docfile"),
this.base_dir))});a.defn(p,"$parse",function(a){var c,e,f,d,p,y=m,r=m;null==a&&(a=m);return(c=this.parsed)===m||c.$$is_boolean&&1!=c?(y=this,!1!==a&&a!==m&&(this.reader=g.get("PreprocessorReader").$new(y,a,g.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(c=(e=r=(f=this.parent_document)===m||f.$$is_boolean&&1!=f?this.extensions:m,!1!==e&&e!==m?r["$preprocessors?"]():e))===m||c.$$is_boolean&&1!=c||(c=(e=r.$preprocessors()).$each,c.$$p=(d=function(a){var b=
d.$$s||this,c;null==b.reader&&(b.reader=m);null==a&&(a=m);return b.reader=!1!==(c=a.$process_method()["$[]"](y,b.reader))&&c!==m?c:b.reader},d.$$s=this,d),c).call(e),g.get("Parser").$parse(this.reader,y,b(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(c=(f=!1!==r&&r!==m)?r["$treeprocessors?"]():r)===m||c.$$is_boolean&&1!=c||(c=(f=r.$treeprocessors()).$each,c.$$p=(p=function(a){var b,c,e,f=m;null==a&&(a=m);return(b=(c=(e=f=a.$process_method()["$[]"](y),
!1!==e&&e!==m?g.get("Document")["$==="](f):e),!1!==c&&c!==m?f["$!="](y):c))===m||b.$$is_boolean&&1!=b?m:y=f},p.$$s=this,p),c).call(f),this.parsed=!0,y):this});a.defn(p,"$counter",function(a,b){var c,e,f=m,d=m;null==b&&(b=m);if((c=(e=f=(d=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==e&&e!==m?this.counters["$key?"](a):e))===m||c.$$is_boolean&&1!=c)(c=b["$nil?"]())===m||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==f&&f!==m?d:0),this.counters["$[]="](a,
b);else this.counters["$[]="](a,this.$nextval(d));return this.attributes["$[]="](a,this.counters["$[]"](a))});a.defn(p,"$counter_increment",function(a,b){var c=m,c=this.$counter(a);g.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c});a.defn(p,"$nextval",function(b){var c,e=m;return(c=a.get("Integer")["$==="](b))===m||c.$$is_boolean&&1!=c?(e=b.$to_i(),(c=e.$to_s()["$!="](b.$to_s()))===m||c.$$is_boolean&&1!=c?n(e,1):n(b["$[]"](0).$ord(),1).$chr()):n(b,1)});a.defn(p,"$register",function(b,
c,e){var f,d,g,y=m,r=y=m;null==e&&(e=!1);y=b;"ids"["$==="](y)?(f=a.to_ary([].concat(a.to_a(c))),y=null==f[0]?m:f[0],r=null==f[1]?m:f[1],!1!==(f=r)&&f!==m?f:r=n(n("[",y),"]"),b=!1!==e&&e!==m?this.references["$[]"]("ids")["$[]="](y,r):(f=y,d=this.references["$[]"]("ids"),!1!==(g=d["$[]"](f))&&g!==m?g:d["$[]="](f,r))):b="footnotes"["$==="](y)||"indexterms"["$==="](y)?this.references["$[]"](b)["$<<"](c):(f=this.options["$[]"]("catalog_assets"))===m||f.$$is_boolean&&1!=f?m:this.references["$[]"](b)["$<<"](c);
return b});a.defn(p,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});a.defn(p,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(p,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(p,"$embedded?",function(){return this.attributes["$key?"]("embedded")});a.defn(p,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(p,"$source",function(){var a;return(a=this.reader)===m||a.$$is_boolean&&1!=
a?m:this.reader.$source()});a.defn(p,"$source_lines",function(){var a;return(a=this.reader)===m||a.$$is_boolean&&1!=a?m:this.reader.$source_lines()});a.defn(p,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==m?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(p,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==m?a:this.backend=this.attributes["$[]"]("backend")});a.defn(p,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});a.defn(p,"$title",
function(){return this.attributes["$[]"]("title")});a.defn(p,"$title=",function(a){var b,c;!1!==(b=this.header)&&b!==m?b:this.header=g.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]});a.defn(p,"$doctitle",function(a){var c,e,f=m,d=m,p=m;null==a&&(a=b([],{}));if((c=(f=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==m&&(!c.$$is_boolean||1==c))f=this.$title();else if((c=(e=d=this.$first_section(),!1!==e&&e!==m?d["$title?"]():e))!==m&&(!c.$$is_boolean||
1==c))f=d.$title();else if((c=(e=a["$[]"]("use_fallback"),!1!==e&&e!==m?f=this.attributes["$[]"]("untitled-label"):e))===m||c.$$is_boolean&&1!=c)return m;return(c=p=a["$[]"]("partition"))===m||c.$$is_boolean&&1!=c?(c=(e=a["$[]"]("sanitize"),!1!==e&&e!==m?f["$include?"]("<"):e))===m||c.$$is_boolean&&1!=c?f:f.$gsub(g.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():g.get("Title").$new(f,a.$merge(b(["separator"],{separator:p["$=="](!0)?this.attributes["$[]"]("title-separator"):p})))});a.alias(p,"name",
"doctitle");a.defn(p,"$author",function(){return this.attributes["$[]"]("author")});a.defn(p,"$revdate",function(){return this.attributes["$[]"]("revdate")});a.defn(p,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==m?this.attributes["$key?"]("notitle"):a});a.defn(p,"$noheader",function(){return this.attributes["$key?"]("noheader")});a.defn(p,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(p,"$first_section",function(){var a,
b,c,e;return(a=this["$has_header?"]())===m||a.$$is_boolean&&1!=a?(a=(b=!1!==(e=this.blocks)&&e!==m?e:[]).$detect,a.$$p=(c=function(a){null==a&&(a=m);return a.$context()["$=="]("section")},c.$$s=this,c),a).call(b):this.header});a.defn(p,"$has_header?",function(){var a;return(a=this.header)===m||a.$$is_boolean&&1!=a?!1:!0});a.alias(p,"header?","has_header?");a.defn(p,"$<<",J=function(b){var c=d.call(arguments,0),e=J.$$p;J.$$p=null;b.$context()["$=="]("section")&&this.$assign_index(b);return a.find_super_dispatcher(this,
"<<",J,e).apply(this,c)});a.defn(p,"$finalize_header",function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===m)a["$[]="]("invalid-header",!0);return a});a.defn(p,"$save_attributes",function(){var a,b,c,e,f=m,d=m,y=m,r=m,v=m,G=m,K=m,r=y=m;if((f=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==m?b:this.attributes_modified["$include?"]("toc"))===m||a.$$is_boolean&&1!=a)f["$[]="]("toc","");
if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==m?b:this.attributes_modified["$include?"]("sectnums"))===m||a.$$is_boolean&&1!=a)f["$[]="]("sectnums","")}if((a=!1!==(b=f["$key?"]("doctitle"))&&b!==m?b:(d=this.$doctitle())["$!"]())===m||a.$$is_boolean&&1!=a)f["$[]="]("doctitle",d);if((a=this.id)===m||a.$$is_boolean&&1!=a)this.id=f["$[]"]("css-signature");y=(a=r=(b=f.$delete("toc2"))===m||b.$$is_boolean&&1!=b?f["$[]"]("toc"):"left")===m||a.$$is_boolean&&1!=a?m:(a=(b=v=f.$fetch("toc-placement",
"macro"),!1!==b&&b!==m?v["$!="]("auto"):b))===m||a.$$is_boolean&&1!=a?f["$[]"]("toc-position"):v;if((a=(b=!1!==r&&r!==m)?!1!==(c=r["$empty?"]()["$!"]())&&c!==m?c:y["$nil_or_empty?"]()["$!"]():r)!==m&&(!a.$$is_boolean||1==a)){G="left";K="toc2";y=(a=y["$nil_or_empty?"]()["$!"]())===m||a.$$is_boolean&&1!=a?(a=r["$empty?"]()["$!"]())===m||a.$$is_boolean&&1!=a?G:r:y;f["$[]="]("toc","");f["$[]="]("toc-placement","auto");r=y;if("left"["$==="](r)||"<"["$==="](r)||"&lt;"["$==="](r))f["$[]="]("toc-position",
"left");else if("right"["$==="](r)||">"["$==="](r)||"&gt;"["$==="](r))f["$[]="]("toc-position","right");else if("top"["$==="](r)||"^"["$==="](r))f["$[]="]("toc-position","top");else if("bottom"["$==="](r)||"v"["$==="](r))f["$[]="]("toc-position","bottom");else"preamble"["$==="](r)||"macro"["$==="](r)?(f["$[]="]("toc-position","content"),f["$[]="]("toc-placement",y)):f.$delete("toc-position"),K=m;!1!==K&&K!==m&&(a="toc-class",b=f,!1!==(c=b["$[]"](a))&&c!==m?c:b["$[]="](a,K))}if((a=f["$key?"]("compat-mode"))===
m||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=f["$has_key?"]("language"))!==m&&(!a.$$is_boolean||1==a))f["$[]="]("source-language",f["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=f["$[]"]("outfilesuffix");this.header_attributes=f.$dup();return(a=this.parent_document)===m||a.$$is_boolean&&1!=a?(a=(b=g.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(e=function(a){var b=e.$$s||this,c,f;null==b.attribute_overrides&&(b.attribute_overrides=m);null==a&&(a=m);return(c=(f=b.attribute_overrides["$key?"](a),
!1!==f&&f!==m?b.attribute_overrides["$[]"](a):f))===m||c.$$is_boolean&&1!=c?m:b.attribute_overrides.$delete(a)},e.$$s=this,e),a).call(b):m});a.defn(p,"$restore_attributes",function(){var a;((a=this.parent_document)===m||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(p,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(p,"$playback_attributes",function(a){var b,c,e;return(b=a["$key?"]("attribute_entries"))===
m||b.$$is_boolean&&1!=b?m:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(e=function(a){var b=e.$$s||this,c,f=m;null==b.attributes&&(b.attributes=m);null==a&&(a=m);f=a.$name();if((c=a.$negate())===m||c.$$is_boolean&&1!=c)return b.attributes["$[]="](f,a.$value()),f["$=="]("compat-mode")?b.compat_mode=!0:m;b.attributes.$delete(f);return f["$=="]("compat-mode")?b.compat_mode=!1:m},e.$$s=this,e),b).call(c)});a.defn(p,"$set_attribute",function(a,b){var c,f=m;if((c=this["$attribute_locked?"](a))===m||
c.$$is_boolean&&1!=c){f=a;if("backend"["$==="](f))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](f))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0}return!1});a.defn(p,"$delete_attribute",function(a){var b;return(b=this["$attribute_locked?"](a))===m||b.$$is_boolean&&
1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1});a.defn(p,"$attribute_locked?",function(a){return this.attribute_overrides["$key?"](a)});a.defn(p,"$apply_attribute_value_subs",function(a){var b,c=m,f=m;if((b=c=g.get("AttributeEntryPassMacroRx").$match(a))===m||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=c["$[]"](1)["$empty?"]()["$!"]())===m||b.$$is_boolean&&1!=b)return c["$[]"](2);f=this.$resolve_pass_subs(c["$[]"](1));return(b=f["$empty?"]())===m||b.$$is_boolean&&
1!=b?this.$apply_subs(c["$[]"](2),f):c["$[]"](2)});a.defn(p,"$update_backend_attributes",function(a,b){var c,f,e=m,d=m,y=m,r=m,v=m,G=d=m,K=m,x=m,G=m;null==b&&(b=!1);if((c=!1!==(f=b)&&f!==m?f:!1!==a&&a!==m?a["$!="](this.attributes["$[]"]("backend")):a)===m||c.$$is_boolean&&1!=c)return m;e=this.attributes;d=e["$[]"]("backend");y=e["$[]"]("basebackend");r=e["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==m&&(!c.$$is_boolean||1==c))e["$[]="]("htmlsyntax","xml"),a=a["$[]"](B(1,-1,!1));else if(!((c=
a["$start_with?"]("html"))===m||c.$$is_boolean&&1!=c||e["$[]"]("htmlsyntax")["$=="]("xml")))e["$[]="]("htmlsyntax","html");(c=v=g.get("BACKEND_ALIASES")["$[]"](a))===m||c.$$is_boolean&&1!=c||(a=v);!1!==d&&d!==m&&(e.$delete("backend-"+d),!1!==r&&r!==m&&e.$delete("backend-"+d+"-doctype-"+r));!1!==r&&r!==m&&(e["$[]="]("doctype-"+r,""),e["$[]="]("backend-"+a+"-doctype-"+r,""));e["$[]="]("backend",a);e["$[]="]("backend-"+a,"");if((c=g.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=
this.$create_converter()))===m||c.$$is_boolean&&1!=c){if(d=a.$sub(g.get("TrailingDigitsRx"),""),K=!1!==(c=g.get("DEFAULT_EXTENSIONS")["$[]"](d))&&c!==m?c:".html",G=K["$[]"](B(1,-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===m||c.$$is_boolean&&1!=c)e["$[]="]("outfilesuffix",K)}else{d=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===m||c.$$is_boolean&&1!=c)e["$[]="]("outfilesuffix",this.converter.$outfilesuffix());G=this.converter.$filetype()}(c=x=e["$[]"]("filetype"))===
m||c.$$is_boolean&&1!=c||e.$delete("filetype-"+x);e["$[]="]("filetype",G);e["$[]="]("filetype-"+G,"");if((c=G=g.get("DEFAULT_PAGE_WIDTHS")["$[]"](d))===m||c.$$is_boolean&&1!=c)e.$delete("pagewidth");else e["$[]="]("pagewidth",G);if((c=d["$!="](y))!==m&&(!c.$$is_boolean||1==c)&&(!1!==y&&y!==m&&(e.$delete("basebackend-"+y),!1!==r&&r!==m&&e.$delete("basebackend-"+y+"-doctype-"+r)),e["$[]="]("basebackend",d),e["$[]="]("basebackend-"+d,""),!1!==r&&r!==m))e["$[]="]("basebackend-"+d+"-doctype-"+r,"");return this.backend=
m});a.defn(p,"$update_doctype_attributes",function(a){var b,c=m,e=m,f=m,d=m;if((b=!1!==a&&a!==m?a["$!="](this.attributes["$[]"]("doctype")):a)===m||b.$$is_boolean&&1!=b)return m;c=this.attributes;e=c["$[]"]("doctype");f=c["$[]"]("backend");d=c["$[]"]("basebackend");!1!==e&&e!==m&&(c.$delete("doctype-"+e),!1!==f&&f!==m&&c.$delete("backend-"+f+"-doctype-"+e),!1!==d&&d!==m&&c.$delete("basebackend-"+d+"-doctype-"+e));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==f&&f!==m)c["$[]="]("backend-"+
f+"-doctype-"+a,"");if(!1!==d&&d!==m)c["$[]="]("basebackend-"+d+"-doctype-"+a,"");return this.doctype=m});a.defn(p,"$create_converter",function(){var c,e=m,f=m,d=m,p=m,l=m,e=b([],{});e["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));f=(c=d=this.options["$[]"]("template_dir"))===m||c.$$is_boolean&&1!=c?(c=f=this.options["$[]"]("template_dirs"))===m||c.$$is_boolean&&1!=c?m:e["$[]="]("template_dirs",f):e["$[]="]("template_dirs",[d]);!1!==f&&f!==m&&(e["$[]="]("template_cache",this.options.$fetch("template_cache",
!0)),e["$[]="]("template_engine",this.options["$[]"]("template_engine")),e["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),e["$[]="]("eruby",this.options["$[]"]("eruby")),e["$[]="]("safe",this.safe));l=(c=p=this.options["$[]"]("converter"))===m||c.$$is_boolean&&1!=c?g.get("Converter").$$scope.get("Factory").$default(!1):g.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),p));return l.$create(this.$backend(),e)});a.defn(p,"$convert",
function(a){var c,e,f,d=m,p=m,y=m,r=m;null==a&&(a=b([],{}));((c=this.parsed)===m||c.$$is_boolean&&1!=c)&&this.$parse();if((c=!1!==(e=u(this.safe,g.get("SafeMode").$$scope.get("SERVER")))&&e!==m?e:a["$empty?"]())===m||c.$$is_boolean&&1!=c)((c=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===m||c.$$is_boolean&&1!=c)&&this.attributes.$delete("outfile"),((c=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===m||c.$$is_boolean&&1!=c)&&this.attributes.$delete("outdir");((c=this.converter)===
m||c.$$is_boolean&&1!=c)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?p=(c=(e=d=this.blocks["$[]"](0),!1!==e&&e!==m?d.$content_model()["$!="]("compound"):e))===m||c.$$is_boolean&&1!=c?m:d.$content():(y=(c=(e=a["$key?"]("header_footer"))===m||e.$$is_boolean&&1!=e?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===m||c.$$is_boolean&&1!=c?"embedded":"document",p=this.converter.$convert(this,
y));!((c=this.parent_document)===m||c.$$is_boolean&&1!=c)||(c=(e=r=this.extensions,!1!==e&&e!==m?r["$postprocessors?"]():e))===m||c.$$is_boolean&&1!=c||(c=(e=r.$postprocessors()).$each,c.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=m);return p=a.$process_method()["$[]"](b,p)},f.$$s=this,f),c).call(e);return p});a.alias(p,"render","convert");a.defn(p,"$write",function(b,c){var e,f,d;if((e=g.get("Writer")["$==="](this.converter))===m||e.$$is_boolean&&1!=e){if((e=c["$respond_to?"]("write"))===m||
e.$$is_boolean&&1!=e)(e=(f=a.get("File")).$open,e.$$p=(d=function(a){null==a&&(a=m);return a.$write(b)},d.$$s=this,d),e).call(f,c,"w");else if((e=b["$nil_or_empty?"]())===m||e.$$is_boolean&&1!=e)c.$write(b.$chomp()),c.$write(g.get("EOL"));return m}return this.converter.$write(b,c)});a.defn(p,"$content",w=function(){var b=d.call(arguments,0),c=w.$$p;w.$$p=null;this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",w,c).apply(this,b)});a.defn(p,"$docinfo",function(a,c){var e,
f,d,p,y=m,r=m,v=m,G=m,K=y=m,x=m,r=r=m;null==a&&(a="head");null==c&&(c=m);if(u(this.$safe(),g.get("SafeMode").$$scope.get("SECURE")))return"";y=a["$=="]("footer")?"-footer":m;if(!1===c||c===m)c=this.outfilesuffix;r=this.attributes["$[]"]("docinfodir");v=m;G=(e=(G=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===m||e.$$is_boolean&&1!=e?(e=(f=G.$split(",")).$map,e.$$p="strip".$to_proc(),e).call(f):(e=this.attributes["$key?"]("docinfo2"))===m||e.$$is_boolean&&1!=e?(e=this.attributes["$key?"]("docinfo1"))===
m||e.$$is_boolean&&1!=e?!1!==G&&G!==m?["private"]:m:["shared"]:["private","shared"];if(!1!==G&&G!==m){y="docinfo"+y+c;if((e=G["$&"](["shared","shared-"+a])["$empty?"]())===m||e.$$is_boolean&&1!=e)K=this.$normalize_system_path(y,r),(e=v=this.$read_asset(K,b(["normalize"],{normalize:!0})))===m||e.$$is_boolean&&1!=e||(e=!1!==(d=x)&&d!==m?d:x=this.$resolve_docinfo_subs())===m||e.$$is_boolean&&1!=e||(v=(e=x["$=="]("attributes"))===m||e.$$is_boolean&&1!=e?this.$apply_subs(v,x):this.$sub_attributes(v));
if((e=!1!==(d=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&d!==m?d:G["$&"](["private","private-"+a])["$empty?"]())===m||e.$$is_boolean&&1!=e)K=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+y,r),(e=r=this.$read_asset(K,b(["normalize"],{normalize:!0})))===m||e.$$is_boolean&&1!=e||((e=!1!==(d=x)&&d!==m?d:x=this.$resolve_docinfo_subs())===m||e.$$is_boolean&&1!=e||(r=(e=x["$=="]("attributes"))===m||e.$$is_boolean&&1!=e?this.$apply_subs(r,x):this.$sub_attributes(r)),v=
!1!==v&&v!==m?""+v+g.get("EOL")+r:r)}(e=(d=this.extensions,!1!==d&&d!==m?this["$docinfo_processors?"](a):d))===m||e.$$is_boolean&&1!=e||(r=l((e=(d=this.docinfo_processor_extensions["$[]"](a)).$map,e.$$p=(p=function(a){var b=p.$$s||this;null==a&&(a=m);return a.$process_method()["$[]"](b)},p.$$s=this,p),e).call(d).$compact(),g.get("EOL")),v=!1!==v&&v!==m?""+v+g.get("EOL")+r:r);return""+v});a.defn(p,"$resolve_docinfo_subs",function(){var a,b=m;if((a=this.attributes["$key?"]("docinfosubs"))===m||a.$$is_boolean&&
1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",m,"docinfo");return(a=b["$empty?"]())===m||a.$$is_boolean&&1!=a?b:m});a.defn(p,"$docinfo_processors?",function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===m||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==m?this.document.$extensions()["$docinfo_processors?"](a):c))===m||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,
this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)});return(a.defn(p,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](m))===m||a.$$is_boolean&&1!=a?m:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),m)&&"to_s"})(A.base,A.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.module,l=a.klass,m=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(d){d=n(d,"Asciidoctor").$$scope;(function(e,$super){function b(){}var d=b=l(e,$super,"Inline",b),n;d.$attr_reader("text");d.$attr_reader("type");d.$attr_accessor("target");a.defn(d,"$initialize",n=function(b,e,f,d){var l,g=u;null==f&&(f=u);null==d&&
(d=m([],{}));n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,[b,e]);this.node_name="inline_"+e;this.text=f;this.id=d["$[]"]("id");this.type=d["$[]"]("type");this.target=d["$[]"]("target");return(l=(g=d["$[]"]("attributes"))["$nil_or_empty?"]())===u||l.$$is_boolean&&1!=l?this.$update_attributes(g):u});a.defn(d,"$block?",function(){return!1});a.defn(d,"$inline?",function(){return!0});a.defn(d,"$convert",function(){return this.$converter().$convert(this)});return a.alias(d,"render",
"convert")})(d.base,d.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.slice,l=a.module,m=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(d){d=l(d,"Asciidoctor").$$scope;(function(e,$super){function b(){}var d=b=m(e,$super,"List",b),l=d.$$proto,E,z;l.context=
l.document=l.style=u;a.alias(d,"items","blocks");a.alias(d,"content","blocks");a.alias(d,"items?","blocks?");a.defn(d,"$initialize",E=function(b,e){var d=n.call(arguments,0),g=E.$$p;E.$$p=null;return a.find_super_dispatcher(this,"initialize",E,g).apply(this,d)});a.defn(d,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==u?a:this.context["$=="]("olist")});a.defn(d,"$convert",z=function(){var b=n.call(arguments,0),e=z.$$p,d=u;z.$$p=null;return this.context["$=="]("colist")?
(d=a.find_super_dispatcher(this,"convert",z,e).apply(this,b),this.document.$callouts().$next_list(),d):a.find_super_dispatcher(this,"convert",z,e).apply(this,b)});a.alias(d,"render","convert");return(a.defn(d,"$to_s",function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),u)&&"to_s"})(d.base,d.get("AbstractBlock"));(function(e,$super){function b(){}var d=b=m(e,$super,"ListItem",b),l=
d.$$proto,n=d.$$scope,z;l.text=l.blocks=u;d.$attr_accessor("marker");a.defn(d,"$initialize",z=function(b,e){null==e&&(e=u);z.$$p=null;a.find_super_dispatcher(this,"initialize",z,null).apply(this,[b,"list_item"]);this.text=e;return this.level=b.$level()});a.defn(d,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(d,"$text",function(){return this.$apply_subs(this.text)});a.defn(d,"$simple?",function(){var a,b,e=u;return!1!==(a=this.blocks["$empty?"]())&&a!==u?a:(b=this.blocks.$size()["$=="](1)?
n.get("List")["$==="](e=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==u?e["$outline?"]():b)});a.defn(d,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(d,"$fold_first",function(a,b){var e,d,m,l,w,h,k=u,t=u;null==a&&(a=!1);null==b&&(b=!1);(e=(d=(m=k=this.blocks["$[]"](0),!1!==m&&m!==u?n.get("Block")["$==="](k):m),!1!==d&&d!==u?!1!==(m=k.$context()["$=="]("paragraph")?a["$!"]():k.$context()["$=="]("paragraph"))&&m!==u?m:(l=(w=!1!==(h=b)&&h!==u?h:a["$!"](),!1!==w&&
w!==u?k.$context()["$=="]("literal"):w),!1!==l&&l!==u?k["$option?"]("listparagraph"):l):d))===u||e.$$is_boolean&&1!=e||(t=this.$blocks().$shift(),((e=this.text["$nil_or_empty?"]())===u||e.$$is_boolean&&1!=e)&&t.$lines().$unshift(this.text),this.text=t.$source());return u});return(a.defn(d,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==u?a:[]).$size()+
"}>"}),u)&&"to_s"})(d.base,d.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var b=a.nil,B=a.breaker,A=a.module,E=a.klass,z=a.hash2,f=a.hash,p=a.range,D=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $detect $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $is_a? $apply_header_subs $map $each_with_index $zero? $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_col_specs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cell_spec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cell_spec $close_cell $cell_open? $columns $assign_col_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(g){(function(g,$super){function w(){}var h=w=E(g,$super,"Parser",w),k=h.$$scope,t,C,q,F;a.cdecl(k,"BlockMatchData",k.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(k,"TabRx",/\t/);a.cdecl(k,"TabIndentRx",/^\t+/);a.cdecl(k,"StartOfBlockProc",(t=h.$lambda,t.$$p=(C=function(a){var c=C.$$s||this,e,f;null==a&&(a=b);return!1!==(e=(f=a["$start_with?"]("["),!1!==f&&f!==b?k.get("BlockAttributeLineRx")["$=~"](a):f))&&e!==b?e:c["$is_delimited_block?"](a)},C.$$s=h,C),t).call(h));
a.cdecl(k,"StartOfListProc",(t=h.$lambda,t.$$p=(q=function(a){null==a&&(a=b);return k.get("AnyListRx")["$=~"](a)},q.$$s=h,q),t).call(h));a.cdecl(k,"StartOfBlockOrListProc",(t=h.$lambda,t.$$p=(F=function(a){var c=F.$$s||this,e,f,d;null==a&&(a=b);return!1!==(e=!1!==(f=c["$is_delimited_block?"](a))&&f!==b?f:(d=a["$start_with?"]("["),!1!==d&&d!==b?k.get("BlockAttributeLineRx")["$=~"](a):d))&&e!==b?e:k.get("AnyListRx")["$=~"](a)},F.$$s=h,F),t).call(h));a.cdecl(k,"NoOp",b);a.defn(h,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});
a.defs(h,"$parse",function(c,e,f){var d,k,g=b,h=b;null==f&&(f=z([],{}));g=this.$parse_document_header(c,e);if((d=f["$[]"]("header_only"))===b||d.$$is_boolean&&1!=d)for(;(k=c["$has_more_lines?"]())!==b&&(!k.$$is_boolean||1==k);)if(k=a.to_ary(this.$next_section(c,e,g)),h=null==k[0]?b:k[0],g=null==k[1]?b:k[1],!1!==h&&h!==b)e["$<<"](h);return e});a.defs(h,"$parse_document_header",function(c,e){var d,k,g=b,h=b,m=b,p=b,l=b,t=b,n=h=l=b,h=h=b,g=this.$parse_block_metadata_lines(c,e);if((d=(k=h=this["$is_next_line_document_title?"](c,
g),!1!==k&&k!==b?g["$has_key?"]("title"):k))!==b&&(!d.$$is_boolean||1==d))return e.$finalize_header(g,!1);m=b;if((d=(p=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||d.$$is_boolean&&1!=d)d=[m=p],k=e,k["$title="].apply(k,d),d[d.length-1];l=b;if(!1!==h&&h!==b){(d=e.$sourcemap())===b||d.$$is_boolean&&1!=d||(t=c.$cursor());d=a.to_ary(this.$parse_section_title(c,e));e["$id="](null==d[0]?b:d[0]);l=null==d[2]?b:d[2];h=null==d[4]?b:d[4];if(!1===m||m===b)d=[m=l],k=e,k["$title="].apply(k,d),
d[d.length-1];!1!==h&&h!==b||e.$set_attribute("compat-mode","");(d=n=g.$delete("separator"))===b||d.$$is_boolean&&1!=d||e.$set_attribute("title-separator",n);!1!==t&&t!==b&&(d=[t],k=e.$header(),k["$source_location="].apply(k,d),d[d.length-1]);e.$attributes()["$[]="]("doctitle",l);if((d=e.$id())===b||d.$$is_boolean&&1!=d){if(!((d=h=g.$delete(1))===b||d.$$is_boolean&&1!=d||(h=f(1,h),this.$parse_style_attribute(h,c),(d=h["$key?"]("id"))===b||d.$$is_boolean&&1!=d)))g["$[]="]("id",h["$[]"]("id"));d=[g.$delete("id")];
k=e;k["$id="].apply(k,d);d[d.length-1]}else g.$delete(1),g.$delete("id");this.$parse_header_metadata(c,e)}if((d=!1!==(k=(p=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&k!==b?k:p["$=="](l))===b||d.$$is_boolean&&1!=d)d=[m=p],k=e,k["$title="].apply(k,d),d[d.length-1];if(!1!==m&&m!==b)e.$attributes()["$[]="]("doctitle",m);e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,e);return e.$finalize_header(g)});a.defs(h,"$parse_manpage_header",function(a,c){var e,f=b,f=f=b;(e=f=k.get("ManpageTitleVolnumRx").$match(c.$attributes()["$[]"]("doctitle")))===
b||e.$$is_boolean&&1!=e?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),c.$attributes()["$[]="]("mantitle",c.$attributes()["$[]"]("doctitle")),c.$attributes()["$[]="]("manvolnum","1")):(c.$attributes()["$[]="]("mantitle",c.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),c.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip()));a.$skip_blank_lines();if((e=this["$is_next_line_section?"](a,z([],{})))===b||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: ERROR: "+
a.$prev_line_info()+": name section expected");f=this.$initialize_section(a,c,z([],{}));if(f.$level()["$=="](1)){f=a.$read_lines_until(z(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((e=f=k.get("ManpageNamePurposeRx").$match(f))===b||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");c.$attributes()["$[]="]("manname",c.$sub_attributes(f["$[]"](1)));c.$attributes()["$[]="]("manpurpose",f["$[]"](2));
return c.$backend()["$=="]("manpage")?(c.$attributes()["$[]="]("docname",c.$attributes()["$[]"]("manname")),c.$attributes()["$[]="]("outfilesuffix","."+c.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")});a.defs(h,"$next_section",function(c,e,f){var d,g,h,m,p=b,t=b,q=b,C=b,w=b,F=b,D=b,H=b,A=D=b,B=A=A=b,E=b,w=t=b;null==f&&(f=z([],{}));q=t=p=!1;(d=(g=(h=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():
e.$context()["$=="]("document"),!1!==g&&g!==b?!1!==(h=!1!==(m=C=e["$has_header?"]())&&m!==b?m:f.$delete("invalid-header"))&&h!==b?h:this["$is_next_line_section?"](c,f)["$!"]():g))===b||d.$$is_boolean&&1!=d?(w=e.$document().$doctype(),F=this.$initialize_section(c,e,f),f=(d=D=f["$[]"]("title"))===b||d.$$is_boolean&&1!=d?z([],{}):z(["title"],{title:D}),D=F.$level(),(d=(g=D["$=="](0))?w["$=="]("book"):D["$=="](0))===b||d.$$is_boolean&&1!=d?H=[u(D,1)]:(t=F.$special()["$!"](),H=(d=(g=F.$special(),!1!==
g&&g!==b?["preface","appendix"]["$include?"](F.$sectname()):g))===b||d.$$is_boolean&&1!=d?[u(D,1)]:[u(D,2)])):(w=e.$doctype(),(d=!1!==(g=C)&&g!==b?g:(h=w["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):w["$=="]("book"))===b||d.$$is_boolean&&1!=d||(p=q=k.get("Block").$new(e,"preamble",z(["content_model"],{content_model:"compound"})),(d=(g=w["$=="]("book"))?e["$attr?"]("preface-title"):w["$=="]("book"))===b||d.$$is_boolean&&1!=d||(d=[e.$attr("preface-title")],g=p,g["$title="].apply(g,d),d[d.length-1]),
e["$<<"](p)),F=e,D=0,H=(d=e.$attributes()["$has_key?"]("fragment"))===b||d.$$is_boolean&&1!=d?w["$=="]("book")?[0,1]:[1]:b);for(c.$skip_blank_lines();(g=c["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);){this.$parse_block_metadata_lines(c,F,f);if((g=A=this["$is_next_line_section?"](c,f))===b||g.$$is_boolean&&1!=g)(A=c.$line_info(),(g=B=this.$next_block(c,!1!==(h=q)&&h!==b?h:F,f,z(["parse_metadata"],{parse_metadata:!1})))===b||g.$$is_boolean&&1!=g)||(!1!==t&&t!==b&&((g=F["$blocks?"]()["$!"]())===
b||g.$$is_boolean&&1!=g?F.$blocks().$size()["$=="](1)&&((E=F.$blocks()["$[]"](0),(g=(h=q["$!"](),!1!==h&&h!==b?E.$content_model()["$=="]("compound"):h))===b||g.$$is_boolean&&1!=g)?(g=E.$content_model()["$!="]("compound"))===b||g.$$is_boolean&&1!=g||(q=k.get("Block").$new(F,"open",z(["content_model"],{content_model:"compound"})),g=["partintro"],h=q,h["$style="].apply(h,g),g[g.length-1],F.$blocks().$shift(),E.$style()["$=="]("partintro")&&(g=["paragraph"],h=E,h["$context="].apply(h,g),g[g.length-1],
g=[b],h=E,h["$style="].apply(h,g),g[g.length-1]),g=[q],h=E,h["$parent="].apply(h,g),g[g.length-1],q["$<<"](E),g=[q],h=B,h["$parent="].apply(h,g),g[g.length-1],F["$<<"](q)):this.$warn("asciidoctor: ERROR: "+A+": illegal block content outside of partintro block")):(g=B.$style()["$!="]("partintro"))===b||g.$$is_boolean&&1!=g||(B.$context()["$=="]("paragraph")?(g=["open"],h=B,h["$context="].apply(h,g),g[g.length-1],g=["partintro"],h=B,h["$style="].apply(h,g),g[g.length-1]):(q=k.get("Block").$new(F,"open",
z(["content_model"],{content_model:"compound"})),g=["partintro"],h=q,h["$style="].apply(h,g),g[g.length-1],g=[q],h=B,h["$parent="].apply(h,g),g[g.length-1],F["$<<"](q)))),(!1!==(g=q)&&g!==b?g:F)["$<<"](B),f=z([],{}));else if(A=u(A,F.$document().$attr("leveloffset",0).$to_i()),(g=!1!==(h=n(A,D))&&h!==b?h:F.$context()["$=="]("document")?A["$=="](0):F.$context()["$=="]("document"))===b||g.$$is_boolean&&1!=g){(g=(h=A["$=="](0))?w["$!="]("book"):A["$=="](0))===b||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: ERROR: "+
c.$line_info()+": only book doctypes can contain level 0 sections");break}else(g=(h=A["$=="](0))?w["$!="]("book"):A["$=="](0))===b||g.$$is_boolean&&1!=g?(g=(h=!1!==H&&H!==b)?H["$include?"](A)["$!"]():H)===b||g.$$is_boolean&&1!=g||this.$warn(u(u("asciidoctor: WARNING: "+c.$line_info()+": section title out of sequence: ","expected "+(n(H.$size(),1)?"levels":"level")+" "+l(H," or ")+", "),"got level "+A)):this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections"),
g=a.to_ary(this.$next_section(c,F,f)),A=null==g[0]?b:g[0],f=null==g[1]?b:g[1],F["$<<"](A);c.$skip_blank_lines()}if(!1!==t&&t!==b)((d=(g=F["$blocks?"](),!1!==g&&g!==b?F.$blocks()["$[]"](-1).$context()["$=="]("section"):g))===b||d.$$is_boolean&&1!=d)&&this.$warn("asciidoctor: ERROR: "+c.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==p&&p!==b)if(t=e,(d=p["$blocks?"]())===b||d.$$is_boolean&&1!=d)t.$blocks().$shift();else if((d=(g=(h=k.get("Compliance").$unwrap_standalone_preamble(),
!1!==h&&h!==b?t.$blocks().$size()["$=="](1):h),!1!==g&&g!==b?w["$!="]("book"):g))!==b&&(!d.$$is_boolean||1==d))for(t.$blocks().$shift();(g=w=p.$blocks().$shift())!==b&&(!g.$$is_boolean||1==g);)g=[t],h=w,h["$parent="].apply(h,g),g[g.length-1],t["$<<"](w);return[(d=F["$!="](e))===b||d.$$is_boolean&&1!=d?b:F,f.$dup()]});a.defs(h,"$next_block",function(c,e,f,g){var h,x,l,t,q,w,C,F,D,A,H,B=b,E=b,ba=b,Q=b,ca=b,X=b,O=b,aa=b,I=b,R=b,ja=b,ha=b,ia=b,V=b,S=q=b,la=b,fa=b,Y=b,da=Y=b,ka=q=Y=q=b,ga=Y=I=I=b,pa=b,
ma=b,na=q=I=I=ga=Y=q=I=ga=b,oa=V=S=q=Y=q=q=b,sa=b,ta=b,ua=V=S=S=b,qa=B=b,va=b;null==f&&(f=z([],{}));null==g&&(g=z([],{}));B=c.$skip_blank_lines();if((h=c["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h)return b;(h=(x=E=g["$[]"]("text"),!1!==x&&x!==b?n(B,0):x))===b||h.$$is_boolean&&1!=h||(g.$delete("text"),E=!1);ba=g.$fetch("parse_metadata",!0);Q=e.$document();(h=ca=Q.$extensions())===b||h.$$is_boolean&&1!=h?X=O=!1:(X=ca["$blocks?"](),O=ca["$block_macros?"]());aa=k.get("ListItem")["$==="](e);ja=R=
I=b;ha=Q.$sourcemap();for(ia=b;(x=(l=I["$!"](),!1!==l&&l!==b?c["$has_more_lines?"]():l))!==b&&(!x.$$is_boolean||1==x);)if((x=(l=!1!==ba&&ba!==b)?this.$parse_block_metadata_line(c,Q,f,g):ba)===b||x.$$is_boolean&&1!=x){!1!==ha&&ha!==b&&(ia=c.$cursor());V=c.$read_line();q=!1;fa=la=S=b;(x=f["$[]"](1))===b||x.$$is_boolean&&1!=x||(x=a.to_ary(this.$parse_style_attribute(f,c)),R=null==x[0]?b:x[0],ja=null==x[1]?b:x[1]);(x=Y=this["$is_delimited_block?"](V,!0))===b||x.$$is_boolean&&1!=x||((q=!0,S=la=Y.$context(),
fa=Y.$terminator(),(x=R["$!"]())===b||x.$$is_boolean&&1!=x)?(x=R["$!="](S.$to_s()))===b||x.$$is_boolean&&1!=x||((x=Y.$masq()["$include?"](R))===b||x.$$is_boolean&&1!=x?(x=(l=Y.$masq()["$include?"]("admonition"),!1!==l&&l!==b?k.get("ADMONITION_STYLES")["$include?"](R):l))===b||x.$$is_boolean&&1!=x?(x=(l=!1!==X&&X!==b)?ca["$registered_for_block?"](R,S):X)===b||x.$$is_boolean&&1!=x?(this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for "+S+" block: "+R),R=S.$to_s()):S=R.$to_sym():
S="admonition":S=R.$to_sym()):R=f["$[]="]("style",S.$to_s()));if(!1===q||q===b)for(;(l=!0)!==b&&(!l.$$is_boolean||1==l);){if((l=(t=(q=!1!==R&&R!==b)?k.get("Compliance").$strict_verbatim_paragraphs():R,!1!==t&&t!==b?k.get("VERBATIM_STYLES")["$include?"](R):t))!==b&&(!l.$$is_boolean||1==l)){S=R.$to_sym();c.$unshift_line(V);break}if(!1===E||E===b)if(Y=(l=k.get("Compliance").$markdown_syntax())===b||l.$$is_boolean&&1!=l?V.$chr():V.$lstrip().$chr(),(l=(t=(q=k.get("LAYOUT_BREAK_LINES")["$has_key?"](Y),
!1!==q&&q!==b?m(V.$length(),3):q),!1!==t&&t!==b?((q=k.get("Compliance").$markdown_syntax())===b||q.$$is_boolean&&1!=q?k.get("LayoutBreakLineRx"):k.get("LayoutBreakLinePlusRx"))["$=~"](V):t))!==b&&(!l.$$is_boolean||1==l)){I=k.get("Block").$new(e,k.get("LAYOUT_BREAK_LINES")["$[]"](Y),z(["content_model"],{content_model:"empty"}));break}else if((l=(t=V["$end_with?"]("]"),!1!==t&&t!==b?da=k.get("MediaBlockMacroRx").$match(V):t))!==b&&(!l.$$is_boolean||1==l)){q=da["$[]"](1).$to_sym();I=k.get("Block").$new(e,
q,z(["content_model"],{content_model:"empty"}));Y=q["$=="]("image")?["alt","width","height"]:q["$=="]("video")?["poster","width","height"]:[];if((l=!1!==(t=R["$!"]())&&t!==b?t:ja)===b||l.$$is_boolean&&1!=l){if(q["$=="]("image"))f["$[]="]("alt",R);f.$delete("style");R=b}I.$parse_attributes(da["$[]"](3),Y,z(["unescape_input","sub_input","sub_result","into"],{unescape_input:q["$=="]("image"),sub_input:!0,sub_result:!1,into:f}));q=I.$sub_attributes(da["$[]"](2),z(["attribute_missing"],{attribute_missing:"drop-line"}));
if((l=q["$empty?"]())!==b&&(!l.$$is_boolean||1==l)){if(Q.$attributes().$fetch("attribute-missing",k.get("Compliance").$attribute_missing())["$=="]("skip"))return k.get("Block").$new(e,"paragraph",z(["content_model","source"],{content_model:"simple",source:[V]}));f.$clear();return b}f["$[]="]("target",q);break}else if((l=(t=Y["$=="]("t"))?da=k.get("TocBlockMacroRx").$match(V):Y["$=="]("t"))!==b&&(!l.$$is_boolean||1==l)){I=k.get("Block").$new(e,"toc",z(["content_model"],{content_model:"empty"}));I.$parse_attributes(da["$[]"](1),
[],z(["sub_result","into"],{sub_result:!1,into:f}));break}else if((l=(t=(q=!1!==O&&O!==b)?da=k.get("GenericBlockMacroRx").$match(V):O,!1!==t&&t!==b?ka=ca["$registered_for_block_macro?"](da["$[]"](1)):t))!==b&&(!l.$$is_boolean||1==l)){q=da["$[]"](2);I=da["$[]"](3);if(ka.$config()["$[]"]("content_model")["$=="]("attributes"))((l=I["$empty?"]())===b||l.$$is_boolean&&1!=l)&&Q.$parse_attributes(I,!1!==(l=ka.$config()["$[]"]("pos_attrs"))&&l!==b?l:[],z(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,
into:f}));else f["$[]="]("text",I);(l=I=ka.$config()["$[]"]("default_attrs"))===b||l.$$is_boolean&&1!=l||(l=(t=I).$each,l.$$p=(w=function(a,c){var e,d,k;null==a&&(a=b);null==c&&(c=b);return e=a,d=f,!1!==(k=d["$[]"](e))&&k!==b?k:d["$[]="](e,c)},w.$$s=this,w),l).call(t);if((l=I=ka.$process_method()["$[]"](e,q,f.$dup()))===b||l.$$is_boolean&&1!=l)return f.$clear(),b;f.$replace(I.$attributes());break}if((l=da=k.get("CalloutListRx").$match(V))!==b&&(!l.$$is_boolean||1==l)){I=k.get("List").$new(e,"colist");
f["$[]="]("style","arabic");c.$unshift_line(V);for(Y=1;(q=!1!==(C=da)&&C!==b?C:(F=c["$has_more_lines?"](),!1!==F&&F!==b?da=k.get("CalloutListRx").$match(c.$peek_line()):F))!==b&&(!q.$$is_boolean||1==q);){(q=da["$[]"](1).$to_i()["$!="](Y))===b||q.$$is_boolean&&1!=q||this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+d(c.$lineno(),2)+": callout list item index: expected "+Y+" got "+da["$[]"](1));ga=this.$next_list_item(c,I,da);Y=u(Y,1);if(!1!==ga&&ga!==b)if(I["$<<"](ga),pa=Q.$callouts().$callout_ids(I.$items().$size()),
(q=pa["$empty?"]()["$!"]())===b||q.$$is_boolean&&1!=q)this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+d(c.$lineno(),2)+": no callouts refer to list item "+I.$items().$size());else ga.$attributes()["$[]="]("coids",pa);da=b}Q.$callouts().$next_list();break}else if((l=k.get("UnorderedListRx")["$=~"](V))!==b&&(!l.$$is_boolean||1==l)){c.$unshift_line(V);I=this.$next_outline_list(c,"ulist",e);break}else if((l=da=k.get("OrderedListRx").$match(V))!==b&&(!l.$$is_boolean||1==l)){c.$unshift_line(V);
I=this.$next_outline_list(c,"olist",e);if((l=(q=f["$[]"]("style")["$!"](),!1!==q&&q!==b?I.$attributes()["$[]"]("style")["$!"]():q))!==b&&(!l.$$is_boolean||1==l))if(ma=I.$items()["$[]"](0).$marker(),(l=ma["$start_with?"]("."))===b||l.$$is_boolean&&1!=l)R=(l=(q=k.get("ORDERED_LIST_STYLES")).$detect,l.$$p=(D=function(a){null==a&&(a=b);return k.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](ma)},D.$$s=this,D),l).call(q),f["$[]="]("style",(!1!==(l=R)&&l!==b?l:k.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());
else f["$[]="]("style",(!1!==(l=k.get("ORDERED_LIST_STYLES")["$[]"](d(ma.$length(),1)))&&l!==b?l:k.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((l=da=k.get("DefinitionListRx").$match(V))!==b&&(!l.$$is_boolean||1==l)){c.$unshift_line(V);I=this.$next_labeled_list(c,da,e);break}else if((l=(C=!1!==(F=R["$=="]("float"))&&F!==b?F:R["$=="]("discrete"),!1!==C&&C!==b?this["$is_section_title?"](V,(F=k.get("Compliance").$underline_style_section_titles())===b||F.$$is_boolean&&1!=F?b:c.$peek_line(!0)):
C))!==b&&(!l.$$is_boolean||1==l)){c.$unshift_line(V);l=a.to_ary(this.$parse_section_title(c,Q));ga=null==l[0]?b:l[0];I=null==l[1]?b:l[1];q=null==l[2]?b:l[2];Y=null==l[3]?b:l[3];if(!1!==I&&I!==b)f["$[]="]("reftext",I);(l=f["$has_key?"]("id"))===b||l.$$is_boolean&&1!=l||(!1!==(l=ga)&&l!==b?l:ga=f["$[]"]("id"));I=k.get("Block").$new(e,"floating_title",z(["content_model"],{content_model:"empty"}));(l=ga["$nil_or_empty?"]())===b||l.$$is_boolean&&1!=l?l=[ga]:(ga=k.get("Section").$new(e),l=[q],C=ga,C["$title="].apply(C,
l),l[l.length-1],l=[ga.$generate_id()]);C=I;C["$id="].apply(C,l);l[l.length-1];l=[Y];C=I;C["$level="].apply(C,l);l[l.length-1];l=[q];C=I;C["$title="].apply(C,l);l[l.length-1];break}else if((l=(C=!1!==R&&R!==b)?R["$!="]("normal"):R)!==b&&(!l.$$is_boolean||1==l))if((l=k.get("PARAGRAPH_STYLES")["$include?"](R))===b||l.$$is_boolean&&1!=l)if((l=k.get("ADMONITION_STYLES")["$include?"](R))===b||l.$$is_boolean&&1!=l)if((l=(C=!1!==X&&X!==b)?ca["$registered_for_block?"](R,"paragraph"):X)===b||l.$$is_boolean&&
1!=l)this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for paragraph: "+R),R=b;else{S=R.$to_sym();la="paragraph";c.$unshift_line(V);break}else{S="admonition";la="paragraph";c.$unshift_line(V);break}else{S=R.$to_sym();la="paragraph";c.$unshift_line(V);break}I=(l=B["$=="](0))?aa:B["$=="](0);if((l=(C=R["$!="]("normal"),!1!==C&&C!==b?k.get("LiteralParagraphRx")["$=~"](V):C))===b||l.$$is_boolean&&1!=l){c.$unshift_line(V);I=this.$read_paragraph_lines(c,I,z(["skip_line_comments"],
{skip_line_comments:!0}));if((l=I["$empty?"]())!==b&&(!l.$$is_boolean||1==l))return c.$advance(),b;this.$catalog_inline_anchors(I.$join(k.get("EOL")),Q);q=I["$[]"](0);if((l=(C=E["$!"](),!1!==C&&C!==b?na=k.get("AdmonitionParagraphRx").$match(q):C))===b||l.$$is_boolean&&1!=l)if((l=(C=(F=E["$!"](),!1!==F&&F!==b?k.get("Compliance").$markdown_syntax():F),!1!==C&&C!==b?q["$start_with?"]("> "):C))===b||l.$$is_boolean&&1!=l)if((l=(F=E["$!"](),!1!==F&&F!==b?this["$blockquote?"](I,q):F))===b||l.$$is_boolean&&
1!=l){if(R["$=="]("normal"))this["$adjust_indentation!"](I);I=k.get("Block").$new(e,"paragraph",z(["content_model","source","attributes"],{content_model:"simple",source:I,attributes:f}))}else{I["$[]="](0,q["$[]"](p(1,-1,!1)));l=a.to_ary(I.$pop()["$[]"](p(3,-1,!1)).$split(", ",2));q=null==l[0]?b:l[0];for(Y=null==l[1]?b:l[1];(F=I["$[]"](-1)["$empty?"]())!==b&&(!F.$$is_boolean||1==F);)I.$pop();I["$[]="](-1,I["$[]"](-1).$chop());f["$[]="]("style","quote");if(!1!==q&&q!==b)f["$[]="]("attribution",q);if(!1!==
Y&&Y!==b)f["$[]="]("citetitle",Y);I=k.get("Block").$new(e,"quote",z(["content_model","source","attributes"],{content_model:"simple",source:I,attributes:f}))}else{(l=(C=I)["$map!"],l.$$p=(A=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](p(1,-1,!1)):(c=a["$start_with?"]("> "))===b||c.$$is_boolean&&1!=c?a:a["$[]"](p(2,-1,!1))},A.$$s=this,A),l).call(C);if((l=I["$[]"](-1)["$start_with?"]("-- "))===b||l.$$is_boolean&&1!=l)l=a.to_ary(b),q=null==l[0]?b:l[0],Y=null==l[1]?b:l[1];else for(l=
a.to_ary(I.$pop()["$[]"](p(3,-1,!1)).$split(", ",2)),q=null==l[0]?b:l[0],Y=null==l[1]?b:l[1];(F=I["$[]"](-1)["$empty?"]())!==b&&(!F.$$is_boolean||1==F);)I.$pop();f["$[]="]("style","quote");if(!1!==q&&q!==b)f["$[]="]("attribution",q);if(!1!==Y&&Y!==b)f["$[]="]("citetitle",Y);I=this.$build_block("quote","compound",!1,e,k.get("Reader").$new(I),f)}else I["$[]="](0,na.$post_match().$lstrip()),f["$[]="]("style",na["$[]"](1)),f["$[]="]("name",q=na["$[]"](1).$downcase()),l="caption",C=f,!1!==(F=C["$[]"](l))&&
F!==b?F:C["$[]="](l,Q.$attributes()["$[]"](""+q+"-caption")),I=k.get("Block").$new(e,"admonition",z(["content_model","source","attributes"],{content_model:"simple",source:I,attributes:f}))}else c.$unshift_line(V),I=this.$read_paragraph_lines(c,I,z(["skip_line_comments"],{skip_line_comments:E})),this["$adjust_indentation!"](I),I=k.get("Block").$new(e,"literal",z(["content_model","source","attributes"],{content_model:"verbatim",source:I,attributes:f})),!1!==aa&&aa!==b&&I.$set_option("listparagraph");
break}if((x=(l=I["$!"](),!1!==l&&l!==b?S:l))!==b&&(!x.$$is_boolean||1==x))if((x=!1!==(l=S["$=="]("abstract"))&&l!==b?l:S["$=="]("partintro"))===b||x.$$is_boolean&&1!=x||(S="open"),q=S,"admonition"["$==="](q))f["$[]="]("name",q=R.$downcase()),x="caption",l=f,!1!==(F=l["$[]"](x))&&F!==b?F:l["$[]="](x,Q.$attributes()["$[]"](""+q+"-caption")),I=this.$build_block(S,"compound",fa,e,c,f);else{if("comment"["$==="](q))return this.$build_block(S,"skip",fa,e,c,f),b;if("example"["$==="](q))I=this.$build_block(S,
"compound",fa,e,c,f);else if("listing"["$==="](q)||"fenced_code"["$==="](q)||"source"["$==="](q)){if(S["$=="]("fenced_code")){R=f["$[]="]("style","source");x=a.to_ary(V["$[]"](p(3,-1,!1)).$tr(" ","").$split(",",2));S=null==x[0]?b:x[0];V=null==x[1]?b:x[1];if((x=S["$nil_or_empty?"]()["$!"]())!==b&&(!x.$$is_boolean||1==x)){if(f["$[]="]("language",S),(x=V["$nil_or_empty?"]())===b||x.$$is_boolean&&1!=x)f["$[]="]("linenums","")}else if((x=oa=Q.$attributes()["$[]"]("source-language"))!==b&&(!x.$$is_boolean||
1==x))f["$[]="]("language",oa);if((x=(l=f["$key?"]("indent")["$!"](),!1!==l&&l!==b?Q.$attributes()["$key?"]("source-indent"):l))!==b&&(!x.$$is_boolean||1==x))f["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"));fa=fa["$[]"](p(0,2,!1))}else if(S["$=="]("source")){k.get("AttributeList").$rekey(f,[b,"language","linenums"]);if(((x=f["$key?"]("language"))===b||x.$$is_boolean&&1!=x)&&(x=oa=Q.$attributes()["$[]"]("source-language"))!==b&&(!x.$$is_boolean||1==x))f["$[]="]("language",oa);if((x=(l=f["$key?"]("indent")["$!"](),
!1!==l&&l!==b?Q.$attributes()["$key?"]("source-indent"):l))!==b&&(!x.$$is_boolean||1==x))f["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"))}I=this.$build_block("listing","verbatim",fa,e,c,f)}else if("literal"["$==="](q))I=this.$build_block(S,"verbatim",fa,e,c,f);else if("pass"["$==="](q))I=this.$build_block(S,"raw",fa,e,c,f);else if("stem"["$==="](q)||"latexmath"["$==="](q)||"asciimath"["$==="](q)){if(S["$=="]("stem"))f["$[]="]("style",(x=sa=f["$[]"](2))===b||x.$$is_boolean&&1!=x?(x=(ta=
Q.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||x.$$is_boolean&&1!=x?ta:"asciimath":(x=sa["$include?"]("tex"))===b||x.$$is_boolean&&1!=x?"asciimath":"latexmath");I=this.$build_block("stem","raw",fa,e,c,f)}else if("open"["$==="](q)||"sidebar"["$==="](q))I=this.$build_block(S,"compound",fa,e,c,f);else if("table"["$==="](q)){S=c.$cursor();S=k.get("Reader").$new(c.$read_lines_until(z(["terminator","skip_line_comments"],{terminator:fa,skip_line_comments:!0})),S);q=fa.$chr();if(","["$==="](q))f["$[]="]("format",
"csv");else if(":"["$==="](q))f["$[]="]("format","dsv");I=this.$next_table(S,e,f)}else if("quote"["$==="](q)||"verse"["$==="](q))k.get("AttributeList").$rekey(f,[b,"attribution","citetitle"]),I=this.$build_block(S,S["$=="]("verse")?"verbatim":"compound",fa,e,c,f);else if((x=(l=!1!==X&&X!==b)?ka=ca["$registered_for_block?"](S,la):X)===b||x.$$is_boolean&&1!=x)this.$raise("Unsupported block type "+S+" at "+c.$line_info());else if((x=(V=ka.$config()["$[]"]("content_model"))["$!="]("skip"))===b||x.$$is_boolean&&
1!=x||((x=(ua=!1!==(l=ka.$config()["$[]"]("pos_attrs"))&&l!==b?l:[])["$empty?"]()["$!"]())===b||x.$$is_boolean&&1!=x||k.get("AttributeList").$rekey(f,[b].$concat(ua)),(x=I=ka.$config()["$[]"]("default_attrs"))===b||x.$$is_boolean&&1!=x||(x=(l=I).$each,x.$$p=(H=function(a,c){var e,d,k;null==a&&(a=b);null==c&&(c=b);return e=a,d=f,!1!==(k=d["$[]"](e))&&k!==b?k:d["$[]="](e,c)},H.$$s=this,H),x).call(l)),I=this.$build_block(S,V,fa,e,c,f,z(["extension"],{extension:ka})),(x=(F=!1!==I&&I!==b)?V["$!="]("skip"):
I)===b||x.$$is_boolean&&1!=x)return f.$clear(),b}}else c.$advance();if(!1!==I&&I!==b){!1!==ia&&ia!==b&&(h=[ia],x=I,x["$source_location="].apply(x,h),h[h.length-1]);if((h=I["$title?"]())===b||h.$$is_boolean&&1!=h)h=[f["$[]"]("title")],x=I,x["$title="].apply(x,h),h[h.length-1];if(I.$context()["$=="]("image")){if(B=f["$[]"]("target"),I.$document().$register("images",B),h="alt",x=f,!1!==(F=x["$[]"](h))&&F!==b?F:x["$[]="](h,k.get("Helpers").$basename(B,!0).$tr("_-"," ")),f["$[]="]("alt",I.$sub_specialchars(f["$[]"]("alt"))),
I.$assign_caption(f.$delete("caption"),"figure"),!((h=qa=f["$[]"]("scaledwidth"))===b||h.$$is_boolean&&1!=h||(h=p(48,57,!1)["$include?"]((!1!==(x=qa["$[]"](-1))&&x!==b?x:0).$ord()))===b||h.$$is_boolean&&1!=h))f["$[]="]("scaledwidth",""+qa+"%")}else h=I,!1!==(x=h.$caption())&&x!==b?x:h["$caption="](f.$delete("caption"));h=[f["$[]"]("style")];x=I;x["$style="].apply(x,h);h[h.length-1];(h=va=(x=I,!1!==(F=x.$id())&&F!==b?F:x["$id="](f["$[]"]("id"))))===b||h.$$is_boolean&&1!=h||Q.$register("ids",[va,!1!==
(h=f["$[]"]("reftext"))&&h!==b?h:(x=I["$title?"]())===b||x.$$is_boolean&&1!=x?b:I.$title()]);((h=f["$empty?"]())===b||h.$$is_boolean&&1!=h)&&I.$attributes().$update(f);I.$lock_in_subs();(h=I["$sub?"]("callouts"))===b||h.$$is_boolean&&1!=h||!((h=this.$catalog_callouts(I.$source(),Q))===b||h.$$is_boolean&&1!=h)||I.$remove_sub("callouts")}return I});a.defs(h,"$blockquote?",function(a,c){var e,f,d;null==c&&(c=b);return e=(f=n(a.$size(),1)?(!1!==(d=c)&&d!==b?d:a["$[]"](0))["$start_with?"]('"'):n(a.$size(),
1),!1!==f&&f!==b?a["$[]"](-1)["$start_with?"]("-- "):f),!1!==e&&e!==b?a["$[]"](-2)["$end_with?"]('"'):e});a.defs(h,"$read_paragraph_lines",function(a,c,e){var f,d=b;null==e&&(e=z([],{}));e["$[]="]("break_on_blank_lines",!0);e["$[]="]("break_on_list_continuation",!0);e["$[]="]("preserve_last_line",!0);d=!1!==c&&c!==b?(f=k.get("Compliance").$block_terminates_paragraph())===b||f.$$is_boolean&&1!=f?k.get("StartOfListProc"):k.get("StartOfBlockOrListProc"):(f=k.get("Compliance").$block_terminates_paragraph())===
b||f.$$is_boolean&&1!=f?k.get("NoOp"):k.get("StartOfBlockProc");return(f=a.$read_lines_until,f.$$p=d.$to_proc(),f).call(a,e)});a.defs(h,"$is_delimited_block?",function(f,g){var h,m,t=b,x=b,q=b,C=b,q=t=m=b;null==g&&(g=!1);if((h=(m=n(t=f.$length(),1))?k.get("DELIMITED_BLOCK_LEADERS")["$include?"](f["$[]"](p(0,1,!1))):n(t=f.$length(),1))===b||h.$$is_boolean&&1!=h)return b;if(t["$=="](2))x=f,q=2;else{e(t,4)?(x=f,q=t):(x=f["$[]"](p(0,3,!1)),q=4);C=!1;if((h=k.get("Compliance").$markdown_syntax())!==b&&
(!h.$$is_boolean||1==h)&&(m=q["$=="](4)?x.$chop():x,m["$=="]("```"))){if((h=q["$=="](4)?x["$end_with?"]("`"):q["$=="](4))!==b&&(!h.$$is_boolean||1==h))return b;x=m;q=3;C=!0}if((h=(m=q["$=="](3))?C["$!"]():q["$=="](3))!==b&&(!h.$$is_boolean||1==h))return b}return(h=k.get("DELIMITED_BLOCKS")["$has_key?"](x))===b||h.$$is_boolean&&1!=h?b:(h=!1!==(m=c(q,4))&&m!==b?m:q["$=="](t))===b||h.$$is_boolean&&1!=h?(""+x+l(x["$[]"](p(-1,-1,!1)),d(t,q)))["$=="](f)?!1!==g&&g!==b?(h=a.to_a(k.get("DELIMITED_BLOCKS")["$[]"](x)),
t=null==h[0]?b:h[0],q=null==h[1]?b:h[1],k.get("BlockMatchData").$new(t,q,x,f)):!0:b:!1!==g&&g!==b?(h=a.to_a(k.get("DELIMITED_BLOCKS")["$[]"](x)),t=null==h[0]?b:h[0],q=null==h[1]?b:h[1],k.get("BlockMatchData").$new(t,q,x,x)):!0});a.defs(h,"$build_block",function(a,c,e,f,d,g,h){var l,m,t=b,q=b,p=t=q=b,p=p=p=p=b;null==h&&(h=z([],{}));(l=!1!==(m=c["$=="]("skip"))&&m!==b?m:c["$=="]("raw"))===b||l.$$is_boolean&&1!=l?(t=!1,q=c):(t=c["$=="]("skip"),q="simple");(l=e["$nil?"]())===b||l.$$is_boolean&&1!=l?(l=
q["$!="]("compound"))===b||l.$$is_boolean&&1!=l?e["$=="](!1)?(q=b,t=d):(q=b,p=d.$cursor(),t=k.get("Reader").$new(d.$read_lines_until(z(["terminator","skip_processing"],{terminator:e,skip_processing:t})),p)):(q=d.$read_lines_until(z(["terminator","skip_processing"],{terminator:e,skip_processing:t})),t=b):(q["$=="]("verbatim")?q=d.$read_lines_until(z(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(c["$=="]("compound")&&(c="simple"),q=
this.$read_paragraph_lines(d,!1,z(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),t=b);if(c["$=="]("skip"))return g.$clear(),q;if(c["$=="]("verbatim"))if((l=p=g["$[]"]("indent"))!==b&&(!l.$$is_boolean||1==l))this["$adjust_indentation!"](q,p,!1!==(l=g["$[]"]("tabsize"))&&l!==b?l:f.$document().$attributes()["$[]"]("tabsize"));else if(n(p=(!1!==(l=g["$[]"]("tabsize"))&&l!==b?l:f.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))this["$adjust_indentation!"](q,
b,p);if((l=p=h["$[]"]("extension"))===b||l.$$is_boolean&&1!=l)p=k.get("Block").$new(f,a,z(["content_model","source","attributes"],{content_model:c,source:q,attributes:g}));else{g.$delete("style");if((l=p=p.$process_method()["$[]"](f,!1!==(m=t)&&m!==b?m:k.get("Reader").$new(q),g.$dup()))===b||l.$$is_boolean&&1!=l)return b;g.$replace(p.$attributes());(l=(m=p.$content_model()["$=="]("compound"))?(q=p.$lines())["$nil_or_empty?"]()["$!"]():p.$content_model()["$=="]("compound"))===b||l.$$is_boolean&&1!=
l||(c="compound",t=k.get("Reader").$new(q))}(l=(m=g["$has_key?"]("title"),!1!==m&&m!==b?p.$document()["$attr?"](""+p.$context()+"-caption"):m))===b||l.$$is_boolean&&1!=l||(l=[g.$delete("title")],m=p,m["$title="].apply(m,l),l[l.length-1],p.$assign_caption(g.$delete("caption")));c["$=="]("compound")&&this.$parse_blocks(t,p);return p});a.defs(h,"$parse_blocks",function(a,c){for(var e,f=b;(e=a["$has_more_lines?"]())!==b&&(!e.$$is_boolean||1==e);)if(f=k.get("Parser").$next_block(a,c),!1!==f&&f!==b)c["$<<"](f)});
a.defs(h,"$next_outline_list",function(a,e,f){var d,g,h,l=b,m=b,t=d=b,p=b,q=b,l=k.get("List").$new(f,e);d=f.$context()["$=="](e)?[u(f.$level(),1)]:[1];g=l;g["$level="].apply(g,d);for(d[d.length-1];(g=(h=a["$has_more_lines?"](),!1!==h&&h!==b?m=k.get("ListRxMap")["$[]"](e).$match(a.$peek_line()):h))!==b&&(!g.$$is_boolean||1==g);){d=this.$resolve_list_marker(e,m["$[]"](1));if((g=(h=l["$items?"](),!1!==h&&h!==b?d["$!="](l.$items()["$[]"](0).$marker()):h))===b||g.$$is_boolean&&1!=g)t=l.$level();else for(t=
u(l.$level(),1),p=f;p.$context()["$=="](e);){if(d["$=="](p.$items()["$[]"](0).$marker())){t=p.$level();break}p=p.$parent()}if((g=!1!==(h=l["$items?"]()["$!"]())&&h!==b?h:t["$=="](l.$level()))!==b&&(!g.$$is_boolean||1==g))q=this.$next_list_item(a,l,m);else if(c(t,l.$level()))break;else if(n(t,l.$level()))l.$items()["$[]"](-1)["$<<"](this.$next_block(a,l));if(!1!==q&&q!==b)l["$<<"](q);q=b;a.$skip_blank_lines()}return l});a.defs(h,"$catalog_callouts",function(a,c){var e,f,d=b,d=!1;(e=a["$include?"]("<"))===
b||e.$$is_boolean&&1!=e||(e=a.$scan,e.$$p=(f=function(){var a,e=b;null==D["~"]&&(D["~"]=b);e=D["~"];(a=e["$[]"](0).$chr()["$!="]("\\"))===b||a.$$is_boolean&&1!=a||c.$callouts().$register(e["$[]"](2));return d=!0},f.$$s=this,f),e).call(a,k.get("CalloutQuickScanRx"));return d});a.defs(h,"$catalog_inline_anchors",function(a,c){var e,f;(e=a["$include?"]("["))===b||e.$$is_boolean&&1!=e||(e=a.$scan,e.$$p=(f=function(){var a,e=b,f=b,e=b;null==D["~"]&&(D["~"]=b);e=D["~"];if((a=e["$[]"](0)["$start_with?"]("\\"))!==
b&&(!a.$$is_boolean||1==a))return b;f=!1!==(a=e["$[]"](1))&&a!==b?a:e["$[]"](3);e=!1!==(a=e["$[]"](2))&&a!==b?a:e["$[]"](4);return c.$register("ids",[f,e])},f.$$s=this,f),e).call(a,k.get("InlineAnchorRx"));return b});a.defs(h,"$next_labeled_list",function(c,e,f){for(var d,g,h,l=b,m=b,t=b,p=b,q=b,l=k.get("List").$new(f,"dlist"),m=b,t=k.get("DefinitionListSiblingRx")["$[]"](e["$[]"](2));(d=!1!==(g=e)&&g!==b?g:(h=c["$has_more_lines?"](),!1!==h&&h!==b?e=t.$match(c.$peek_line()):h))!==b&&(!d.$$is_boolean||
1==d);){d=a.to_ary(this.$next_list_item(c,l,e,t));p=null==d[0]?b:d[0];q=null==d[1]?b:d[1];if((d=(g=!1!==m&&m!==b)?m["$[]"](-1)["$!"]():m)===b||d.$$is_boolean&&1!=d)l.$items()["$<<"](m=[[p],q]);else m.$pop(),m["$[]"](0)["$<<"](p),m["$<<"](q);e=b}return l});a.defs(h,"$next_list_item",function(a,c,e,f){var d,g,h=b,l=b,m=b,t=b,q=m=b,n=q=q=t=b,C=b,w=C=n=b,u=b;null==f&&(f=b);if((h=c.$context())["$=="]("dlist"))l=k.get("ListItem").$new(c,e["$[]"](1)),m=k.get("ListItem").$new(c,e["$[]"](3)),t=e["$[]"](3)["$nil_or_empty?"]()["$!"]();
else{m=e["$[]"](2);q=!1;(d=(g=h["$=="]("ulist"))?m["$start_with?"]("["):h["$=="]("ulist"))===b||d.$$is_boolean&&1!=d||((d=m["$start_with?"]("[ ] "))===b||d.$$is_boolean&&1!=d?(d=!1!==(g=m["$start_with?"]("[x] "))&&g!==b?g:m["$start_with?"]("[*] "))===b||d.$$is_boolean&&1!=d||(t=q=!0,m=m["$[]"](p(3,-1,!1)).$lstrip()):(q=!0,t=!1,m=m["$[]"](p(3,-1,!1)).$lstrip()));m=k.get("ListItem").$new(c,m);if(!1!==q&&q!==b&&(c.$attributes()["$[]="]("checklist-option",""),m.$attributes()["$[]="]("checkbox",""),!1!==
t&&t!==b))m.$attributes()["$[]="]("checked","");!1!==(d=f)&&d!==b?d:f=this.$resolve_list_marker(h,e["$[]"](1),c.$items().$size(),!0,a);d=[f];g=m;g["$marker="].apply(g,d);d[d.length-1];t=!0}a.$advance();q=a.$cursor();q=k.get("Reader").$new(this.$read_lines_for_list_item(a,h,f,t),q);if((d=q["$has_more_lines?"]())!==b&&(!d.$$is_boolean||1==d)){n=q.$skip_line_comments();C=q.$peek_line();((d=n["$empty?"]())===b||d.$$is_boolean&&1!=d)&&q.$unshift_lines(n);(d=C["$nil?"]()["$!"]())===b||d.$$is_boolean&&1!=
d?C=n=!1:(n=C["$empty?"](),(d=(g=n["$!"](),!1!==g&&g!==b?h["$!="]("dlist"):g))===b||d.$$is_boolean&&1!=d||(t=!1),C=(d=n["$!"](),!1!==d&&d!==b?C["$empty?"]()["$!"]():d));for(w=z(["text"],{text:t["$!"]()});(g=q["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);)if((g=u=this.$next_block(q,m,z([],{}),w))!==b&&(!g.$$is_boolean||1==g))m["$<<"](u);m.$fold_first(n,C)}if(h["$=="]("dlist")){if((d=!1!==(g=m["$text?"]())&&g!==b?g:m["$blocks?"]())===b||d.$$is_boolean&&1!=d)m=b;return[l,m]}return m});a.defs(h,
"$read_lines_for_list_item",function(a,c,e,f){var d,g,h,l,m,t,q,p,n,C,w,u,F,A=b,H=b,B=b,E=b,O=b,aa=b,aa=l=b;null==D["~"]&&(D["~"]=b);null==e&&(e=b);null==f&&(f=!0);A=[];H="inactive";B=!1;for(E=b;(g=a["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);){O=a.$read_line();if((g=this["$is_sibling_list_item?"](O,c,e))!==b&&(!g.$$is_boolean||1==g))break;aa=(g=A["$empty?"]())===b||g.$$is_boolean&&1!=g?A["$[]"](-1):b;if(aa["$=="](k.get("LIST_CONTINUATION"))){if(H["$=="]("inactive")&&(H="active",f=!0,!1===
B||B===b))A["$[]="](-1,"");if(O["$=="](k.get("LIST_CONTINUATION"))){(g=H["$!="]("frozen"))===b||g.$$is_boolean&&1!=g||(H="frozen",A["$<<"](O));O=b;continue}}if((g=l=this["$is_delimited_block?"](O,!0))===b||g.$$is_boolean&&1!=g)if((g=(h=(l=c["$=="]("dlist"))?H["$!="]("active"):c["$=="]("dlist"),!1!==h&&h!==b?k.get("BlockAttributeLineRx")["$=~"](O):h))===b||g.$$is_boolean&&1!=g)if((g=(h=H["$=="]("active"))?O["$empty?"]()["$!"]():H["$=="]("active"))===b||g.$$is_boolean&&1!=g)if((g=(l=aa["$nil?"]()["$!"](),
!1!==l&&l!==b?aa["$empty?"]():l))===b||g.$$is_boolean&&1!=g)(g=O["$empty?"]()["$!"]())===b||g.$$is_boolean&&1!=g||(f=!0),(g=aa=(w=(u=!1!==B&&B!==b?["dlist"]:k.get("NESTABLE_LIST_CONTEXTS")).$detect,w.$$p=(F=function(a){null==a&&(a=b);return k.get("ListRxMap")["$[]"](a)["$=~"](O)},F.$$s=this,F),w).call(u))===b||g.$$is_boolean&&1!=g||(B=!0,(g=(w=aa["$=="]("dlist"))?D["~"]["$[]"](3)["$nil_or_empty?"]():aa["$=="]("dlist"))===b||g.$$is_boolean&&1!=g||(f=!1)),A["$<<"](O);else{if(!((g=O["$empty?"]())===
b||g.$$is_boolean&&1!=g||(a.$skip_blank_lines(),O=a.$read_line(),(g=!1!==(l=O["$nil?"]())&&l!==b?l:this["$is_sibling_list_item?"](O,c,e))===b||g.$$is_boolean&&1!=g)))break;if(O["$=="](k.get("LIST_CONTINUATION")))E=A.$size(),A["$<<"](O);else if(!1!==f&&f!==b)if((g=this["$is_sibling_list_item?"](O,c,e))===b||g.$$is_boolean&&1!=g)if((g=aa=(l=(p=k.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(n=function(a){null==a&&(a=b);return k.get("ListRxMap")["$[]"](a)["$=~"](O)},n.$$s=this,n),l).call(p))===b||g.$$is_boolean&&
1!=g)if((g=k.get("LiteralParagraphRx")["$=~"](O))===b||g.$$is_boolean&&1!=g)break;else a.$unshift_line(O),A.$concat((g=(l=a).$read_lines_until,g.$$p=(C=function(a){var f=C.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?f["$is_sibling_list_item?"](a,c,e):c["$=="]("dlist")},C.$$s=this,C),g).call(l,z(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else A["$<<"](O),B=!0,(g=(l=aa["$=="]("dlist"))?
D["~"]["$[]"](3)["$nil_or_empty?"]():aa["$=="]("dlist"))===b||g.$$is_boolean&&1!=g||(f=!1);else break;else!1!==B&&B!==b||A.$pop(),A["$<<"](O),f=!0}else if((g=k.get("LiteralParagraphRx")["$=~"](O))===b||g.$$is_boolean&&1!=g)if((g=!1!==(l=!1!==(t=k.get("BlockTitleRx")["$=~"](O))&&t!==b?t:k.get("BlockAttributeLineRx")["$=~"](O))&&l!==b?l:k.get("AttributeEntryRx")["$=~"](O))===b||g.$$is_boolean&&1!=g)(g=aa=(l=(t=!1!==B&&B!==b?["dlist"]:k.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(q=function(a){null==
a&&(a=b);return k.get("ListRxMap")["$[]"](a)["$=~"](O)},q.$$s=this,q),l).call(t))===b||g.$$is_boolean&&1!=g||(B=!0,(g=(l=aa["$=="]("dlist"))?D["~"]["$[]"](3)["$nil_or_empty?"]():aa["$=="]("dlist"))===b||g.$$is_boolean&&1!=g||(f=!1)),A["$<<"](O),H="inactive";else A["$<<"](O);else a.$unshift_line(O),A.$concat((g=(h=a).$read_lines_until,g.$$p=(m=function(a){var f=m.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?f["$is_sibling_list_item?"](a,c,e):c["$=="]("dlist")},m.$$s=this,m),g).call(h,z(["preserve_last_line",
"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),H="inactive";else break;else if(H["$=="]("active"))A["$<<"](O),A.$concat(a.$read_lines_until(z(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),H="inactive";else break;O=b}!1!==O&&O!==b&&a.$unshift_line(O);for(!1!==E&&E!==b&&A.$delete_at(E);(g=(w=A["$empty?"]()["$!"](),!1!==w&&w!==b?A["$[]"](-1)["$empty?"]():w))!==b&&(!g.$$is_boolean||
1==g);)A.$pop();(d=(g=A["$empty?"]()["$!"](),!1!==g&&g!==b?A["$[]"](-1)["$=="](k.get("LIST_CONTINUATION")):g))===b||d.$$is_boolean&&1!=d||A.$pop();return A});a.defs(h,"$initialize_section",function(c,e,f){var d,g=b,h=b,l=b,m=b,t=b,q=b,p=l=m=b;null==f&&(f=z([],{}));g=e.$document();(d=g.$sourcemap())===b||d.$$is_boolean&&1!=d||(h=c.$cursor());d=a.to_ary(this.$parse_section_title(c,g));l=null==d[0]?b:d[0];m=null==d[1]?b:d[1];t=null==d[2]?b:d[2];q=null==d[3]?b:d[3];if(!1!==m&&m!==b)f["$[]="]("reftext",
m);m=k.get("Section").$new(e,q,g.$attributes()["$has_key?"]("sectnums"));!1!==h&&h!==b&&(d=[h],e=m,e["$source_location="].apply(e,d),d[d.length-1]);d=[l];e=m;e["$id="].apply(e,d);d[d.length-1];d=[t];e=m;e["$title="].apply(e,d);d[d.length-1];(d=f["$[]"](1))===b||d.$$is_boolean&&1!=d?((d=t.$downcase()["$=="]("synopsis")?g.$doctype()["$=="]("manpage"):t.$downcase()["$=="]("synopsis"))===b||d.$$is_boolean&&1!=d?d=["sect"+m.$level()]:(d=[!0],e=m,e["$special="].apply(e,d),d[d.length-1],d=["synopsis"]),
e=m,e["$sectname="].apply(e,d),d[d.length-1]):(d=a.to_ary(this.$parse_style_attribute(f,c)),l=null==d[0]?b:d[0],!1!==l&&l!==b?(d=[l],e=m,e["$sectname="].apply(e,d),d[d.length-1],d=[!0],e=m,e["$special="].apply(e,d),d[d.length-1],(d=(e=m.$sectname()["$=="]("abstract"))?g.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))===b||d.$$is_boolean&&1!=d||(d=["sect1"],e=m,e["$sectname="].apply(e,d),d[d.length-1],d=[!1],e=m,e["$special="].apply(e,d),d[d.length-1],d=[1],e=m,e["$level="].apply(e,d),
d[d.length-1])):(d=["sect"+m.$level()],e=m,e["$sectname="].apply(e,d),d[d.length-1]));(d=(e=m.$id()["$!"](),!1!==e&&e!==b?p=f["$[]"]("id"):e))===b||d.$$is_boolean&&1!=d?(d=m,!1!==(e=d.$id())&&e!==b?e:d["$id="](m.$generate_id())):(d=[p],e=m,e["$id="].apply(e,d),d[d.length-1]);(d=m.$id())===b||d.$$is_boolean&&1!=d||m.$document().$register("ids",[m.$id(),!1!==(d=f["$[]"]("reftext"))&&d!==b?d:m.$title()]);m.$update_attributes(f);c.$skip_blank_lines();return m});a.defs(h,"$section_level",function(a){return k.get("SECTION_LEVELS")["$[]"](a.$chr())});
a.defs(h,"$single_line_section_level",function(a){return d(a.$length(),1)});a.defs(h,"$is_next_line_section?",function(c,e){var f,d,g,h,l=b,m=b;return(f=(d=(g=(l=e["$[]"](1))["$nil?"]()["$!"](),!1!==g&&g!==b?!1!==(h=(m=l["$[]"](0).$ord())["$=="](100))&&h!==b?h:m["$=="](102):g),!1!==d&&d!==b?l["$=~"](k.get("FloatingTitleStyleRx")):d))!==b&&(!f.$$is_boolean||1==f)||(f=c["$has_more_lines?"]())===b||f.$$is_boolean&&1!=f?!1:(f=k.get("Compliance").$underline_style_section_titles())===b||f.$$is_boolean&&
1!=f?this["$is_section_title?"](c.$peek_line()):(f=this)["$is_section_title?"].apply(f,a.to_a(c.$peek_lines(2)))});a.defs(h,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(h,"$is_section_title?",function(a,c){var e,f=b;null==c&&(c=b);return(e=f=this["$is_single_line_section_title?"](a))===b||e.$$is_boolean&&1!=e?(e=!1!==c&&c!==b?f=this["$is_two_line_section_title?"](a,c):c)===b||e.$$is_boolean&&1!=e?!1:f:f});a.defs(h,"$is_single_line_section_title?",
function(a){var c,e,f,d,g=b,h=b,g=!1!==a&&a!==b?a.$chr():b;return(c=(e=!1!==(f=g["$=="]("="))&&f!==b?f:(d=k.get("Compliance").$markdown_syntax(),!1!==d&&d!==b?g["$=="]("#"):d),!1!==e&&e!==b?h=k.get("AtxSectionRx").$match(a):e))===b||c.$$is_boolean&&1!=c?!1:this.$single_line_section_level(h["$[]"](1))});a.defs(h,"$is_two_line_section_title?",function(a,c){var f,g,h,l,m;return(f=(g=(h=(l=(m=!1!==a&&a!==b?c:a,!1!==m&&m!==b?k.get("SECTION_LEVELS")["$has_key?"](c.$chr()):m),!1!==l&&l!==b?c["$=~"](k.get("SetextSectionLineRx")):
l),!1!==h&&h!==b?a["$=~"](k.get("SetextSectionTitleRx")):h),!1!==g&&g!==b?e(d(this.$line_length(a),this.$line_length(c)).$abs(),1):g))===b||f.$$is_boolean&&1!=f?!1:this.$section_level(c)});a.defs(h,"$parse_section_title",function(a,c){var f,g,h,l,t,q=b,p=b,n=b,C=b,w=b,F=b,z=b,A=b,H=b,D=b,B=b,q=a.$read_line(),n=p=b,C=-1,w=b,F=!0,z=q.$chr();(f=(g=!1!==(h=z["$=="]("="))&&h!==b?h:(l=k.get("Compliance").$markdown_syntax(),!1!==l&&l!==b?z["$=="]("#"):l),!1!==g&&g!==b?A=k.get("AtxSectionRx").$match(q):g))===
b||f.$$is_boolean&&1!=f?(f=k.get("Compliance").$underline_style_section_titles())===b||f.$$is_boolean&&1!=f||(f=(g=(h=(l=(t=D=a.$peek_line(!0),!1!==t&&t!==b?k.get("SECTION_LEVELS")["$has_key?"](D.$chr()):t),!1!==l&&l!==b?D["$=~"](k.get("SetextSectionLineRx")):l),!1!==h&&h!==b?B=k.get("SetextSectionTitleRx").$match(q):h),!1!==g&&g!==b?e(d(this.$line_length(q),this.$line_length(D)).$abs(),1):g))===b||f.$$is_boolean&&1!=f||(n=B["$[]"](1),(f=(g=n["$end_with?"]("]]"),!1!==g&&g!==b?H=k.get("InlineSectionAnchorRx").$match(n):
g))===b||f.$$is_boolean&&1!=f||(f=H["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&1!=f||(n=H["$[]"](1),p=H["$[]"](3),w=H["$[]"](4)),C=this.$section_level(D),F=!1,a.$advance()):(C=this.$single_line_section_level(A["$[]"](1)),n=A["$[]"](2),(f=(g=n["$end_with?"]("]]"),!1!==g&&g!==b?H=k.get("InlineSectionAnchorRx").$match(n):g))===b||f.$$is_boolean&&1!=f||(f=H["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&1!=f||(n=H["$[]"](1),p=H["$[]"](3),w=H["$[]"](4)));m(C,0)&&(C=u(C,c.$attr("leveloffset",0).$to_i()));return[p,
w,n,C,F]});a.defs(h,"$line_length",function(a){var c;return(c=k.get("FORCE_UNICODE_LINE_LENGTH"))===b||c.$$is_boolean&&1!=c?a.$length():a.$scan(k.get("UnicodeCharScanRx")).$length()});a.defs(h,"$parse_header_metadata",function(c,e){var f,d,g,h,l,m,t=b,q=b,C=b,w=b,F=w=b,A=b,H=F=b,C=q=b;null==e&&(e=b);this.$process_attribute_entries(c,e);t=z([],{});C=q=b;if((f=(d=c["$has_more_lines?"](),!1!==d&&d!==b?c["$next_line_empty?"]()["$!"]():d))!==b&&(!f.$$is_boolean||1==f)){w=this.$process_authors(c.$read_line());
if((f=w["$empty?"]())===b||f.$$is_boolean&&1!=f)!1!==e&&e!==b&&((f=(d=w).$each,f.$$p=(g=function(c,f){var d;null==c&&(c=b);null==f&&(f=b);return(d=e.$attributes()["$has_key?"](c))===b||d.$$is_boolean&&1!=d?e.$attributes()["$[]="](c,(d=f["$is_a?"](a.get("String")))===b||d.$$is_boolean&&1!=d?f:e.$apply_header_subs(f)):b},g.$$s=this,g),f).call(d),q=e.$attributes()["$[]"]("author"),C=e.$attributes()["$[]"]("authors")),t=w;this.$process_attribute_entries(c,e);w=z([],{});if((f=(h=c["$has_more_lines?"](),
!1!==h&&h!==b?c["$next_line_empty?"]()["$!"]():h))!==b&&(!f.$$is_boolean||1==f))if(F=c.$read_line(),(f=A=k.get("RevisionInfoLineRx").$match(F))===b||f.$$is_boolean&&1!=f)c.$unshift_line(F);else{if((f=A["$[]"](1))!==b&&(!f.$$is_boolean||1==f))w["$[]="]("revnumber",A["$[]"](1).$rstrip());if(!(F=A["$[]"](2).$strip())["$=="](""))if((f=(h=A["$[]"](1)["$!"](),!1!==h&&h!==b?F["$start_with?"]("v"):h))===b||f.$$is_boolean&&1!=f)w["$[]="]("revdate",F);else w["$[]="]("revnumber",F["$[]"](p(1,-1,!1)));if((f=
A["$[]"](3))!==b&&(!f.$$is_boolean||1==f))w["$[]="]("revremark",A["$[]"](3).$rstrip())}if((f=w["$empty?"]())===b||f.$$is_boolean&&1!=f)!1!==e&&e!==b&&(f=(h=w).$each,f.$$p=(l=function(a,c){var f;null==a&&(a=b);null==c&&(c=b);return(f=e.$attributes()["$has_key?"](a))===b||f.$$is_boolean&&1!=f?e.$attributes()["$[]="](a,e.$apply_header_subs(c)):b},l.$$s=this,l),f).call(h),t.$update(w);this.$process_attribute_entries(c,e);c.$skip_blank_lines()}if(!1!==e&&e!==b){w=b;if((f=(m=e.$attributes()["$has_key?"]("author"),
!1!==m&&m!==b?(H=e.$attributes()["$[]"]("author"))["$!="](q):m))===b||f.$$is_boolean&&1!=f)if((f=(m=e.$attributes()["$has_key?"]("authors"),!1!==m&&m!==b?(H=e.$attributes()["$[]"]("authors"))["$!="](C):m))===b||f.$$is_boolean&&1!=f){q=[];for(C="author_"+u(q.$size(),1);(m=e.$attributes()["$has_key?"](C))!==b&&(!m.$$is_boolean||1==m);)q["$<<"](e.$attributes()["$[]"](C)),C="author_"+u(q.$size(),1);q.$size()["$=="](1)?w=this.$process_authors(q["$[]"](0),!0,!1):n(q.$size(),1)&&(w=this.$process_authors(q.$join("; "),
!0))}else w=this.$process_authors(H,!0);else w=this.$process_authors(H,!0,!1);if(!1!==w&&w!==b&&(e.$attributes().$update(w),(f=(m=e.$attributes()["$has_key?"]("email")["$!"](),!1!==m&&m!==b?e.$attributes()["$has_key?"]("email_1"):m))!==b&&(!f.$$is_boolean||1==f)))e.$attributes()["$[]="]("email",e.$attributes()["$[]"]("email_1"))}return t});a.defs(h,"$process_authors",function(a,c,e){var f,d,g,h,l,m=this,q=b,t=b,C=b;null==c&&(c=!1);null==e&&(e=!0);q=z([],{});t="author authorinitials firstname middlename lastname email".split(" ");
C=function(){return!1!==e&&e!==b?(f=(d=a.$split(";")).$map,f.$$p=(g=function(a){null==a&&(a=b);return a.$strip()},g.$$s=m,g),f).call(d):[a]}();(f=(h=C).$each_with_index,f.$$p=(l=function(a,e){var f=l.$$s||this,d,g,h,m,y,v,x,C=b,w=b,G=b,K=G=b,F=b;null==a&&(a=b);null==e&&(e=b);if((d=a["$empty?"]())!==b&&(!d.$$is_boolean||1==d))return b;C=z([],{});(d=e["$zero?"]())===b||d.$$is_boolean&&1!=d?(d=(m=t).$each,d.$$p=(y=function(a){null==a&&(a=b);return C["$[]="](a.$to_sym(),""+a+"_"+u(e,1))},y.$$s=f,y),d).call(m):
(d=(g=t).$each,d.$$p=(h=function(a){null==a&&(a=b);return C["$[]="](a.$to_sym(),a)},h.$$s=f,h),d).call(g);w=b;!1!==c&&c!==b?n((w=a.$split(" ")).$size(),3)&&(w=w["$[]"](p(0,1,!1)).$push(w["$[]"](p(2,-1,!1)).$join(" "))):(d=G=k.get("AuthorInfoLineRx").$match(a))===b||d.$$is_boolean&&1!=d||(w=G.$to_a(),w.$shift());if((d=w["$nil?"]())===b||d.$$is_boolean&&1!=d){if(q["$[]="](C["$[]"]("firstname"),G=w["$[]"](0).$tr("_"," ")),q["$[]="](C["$[]"]("author"),G),q["$[]="](C["$[]"]("authorinitials"),G["$[]"](0,
1)),(d=(v=w["$[]"](1)["$nil?"]()["$!"](),!1!==v&&v!==b?w["$[]"](2)["$nil?"]()["$!"]():v))===b||d.$$is_boolean&&1!=d?(d=w["$[]"](1)["$nil?"]()["$!"]())===b||d.$$is_boolean&&1!=d||(q["$[]="](C["$[]"]("lastname"),F=w["$[]"](1).$tr("_"," ")),q["$[]="](C["$[]"]("author"),[G,F].$join(" ")),q["$[]="](C["$[]"]("authorinitials"),[G["$[]"](0,1),F["$[]"](0,1)].$join())):(q["$[]="](C["$[]"]("middlename"),K=w["$[]"](1).$tr("_"," ")),q["$[]="](C["$[]"]("lastname"),F=w["$[]"](2).$tr("_"," ")),q["$[]="](C["$[]"]("author"),
[G,K,F].$join(" ")),q["$[]="](C["$[]"]("authorinitials"),[G["$[]"](0,1),K["$[]"](0,1),F["$[]"](0,1)].$join())),(d=!1!==(v=c)&&v!==b?v:w["$[]"](3)["$nil?"]())===b||d.$$is_boolean&&1!=d)q["$[]="](C["$[]"]("email"),w["$[]"](3))}else q["$[]="](C["$[]"]("author"),q["$[]="](C["$[]"]("firstname"),G=a.$strip().$tr_s(" "," "))),q["$[]="](C["$[]"]("authorinitials"),G["$[]"](0,1));q["$[]="]("authorcount",u(e,1));e["$=="](1)&&(d=(v=t).$each,d.$$p=(x=function(a){var c;null==a&&(a=b);return(c=q["$has_key?"](a))===
b||c.$$is_boolean&&1!=c?b:q["$[]="](""+a+"_1",q["$[]"](a))},x.$$s=f,x),d).call(v);return(d=e["$zero?"]())===b||d.$$is_boolean&&1!=d?q["$[]="]("authors",""+q["$[]"]("authors")+", "+q["$[]"](C["$[]"]("author"))):q["$[]="]("authors",q["$[]"](C["$[]"]("author")))},l.$$s=m,l),f).call(h);return q});a.defs(h,"$parse_block_metadata_lines",function(a,c,e,f){var d;null==e&&(e=z([],{}));for(null==f&&(f=z([],{}));(d=this.$parse_block_metadata_line(a,c,e,f))!==b&&(!d.$$is_boolean||1==d);)a.$advance(),a.$skip_blank_lines();
return e});a.defs(h,"$parse_block_metadata_line",function(a,c,e,f){var d,g,h,l=b,m=b,q=b,m=l=b;null==f&&(f=z([],{}));if((d=a["$has_more_lines?"]())===b||d.$$is_boolean&&1!=d)return!1;l=a.$peek_line();if((d=(g=m=l["$start_with?"]("//"),!1!==g&&g!==b?q=k.get("CommentBlockRx").$match(l):g))!==b&&(!d.$$is_boolean||1==d))l=q["$[]"](0),a.$read_lines_until(z(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0}));
else if((d=(g=!1!==m&&m!==b)?k.get("CommentLineRx")["$=~"](l):m)===b||d.$$is_boolean&&1!=d)if((d=(g=(h=f["$[]"]("text")["$!"](),!1!==h&&h!==b?l["$start_with?"](":"):h),!1!==g&&g!==b?q=k.get("AttributeEntryRx").$match(l):g))!==b&&(!d.$$is_boolean||1==d))this.$process_attribute_entry(a,c,e,q);else if((d=(g=m=(h=l["$start_with?"]("["),!1!==h&&h!==b?l["$end_with?"]("]"):h),!1!==g&&g!==b?q=k.get("BlockAnchorRx").$match(l):g))===b||d.$$is_boolean&&1!=d)if((d=(g=!1!==m&&m!==b)?q=k.get("BlockAttributeListRx").$match(l):
m)===b||d.$$is_boolean&&1!=d){if((d=(g=f["$[]"]("text")["$!"](),!1!==g&&g!==b?q=k.get("BlockTitleRx").$match(l):g))===b||d.$$is_boolean&&1!=d)return!1;e["$[]="]("title",q["$[]"](1))}else c.$document().$parse_attributes(q["$[]"](1),[],z(["sub_input","into"],{sub_input:!0,into:e}));else if((d=q["$[]"](1)["$nil_or_empty?"]())===b||d.$$is_boolean&&1!=d)if(e["$[]="]("id",q["$[]"](1)),(d=q["$[]"](2)["$nil?"]())===b||d.$$is_boolean&&1!=d)e["$[]="]("reftext",q["$[]"](2));return!0});a.defs(h,"$process_attribute_entries",
function(a,c,e){var f;null==e&&(e=b);for(a.$skip_comment_lines();(f=this.$process_attribute_entry(a,c,e))!==b&&(!f.$$is_boolean||1==f);)a.$advance(),a.$skip_comment_lines()});a.defs(h,"$process_attribute_entry",function(a,c,e,f){var d,g,h=b,l=b,m=b,q=b,t=b,p=b;null==e&&(e=b);null==f&&(f=b);!1!==(d=f)&&d!==b?d:f=(g=a["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g?b:k.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==f&&f!==b){h=f["$[]"](1);if(((d=(l=!1!==(g=f["$[]"](2))&&g!==b?g:"")["$empty?"]())===
b||d.$$is_boolean&&1!=d)&&(d=!1!==(g=l["$end_with?"](m=k.get("LINE_CONTINUATION")))&&g!==b?g:l["$end_with?"](m=k.get("LINE_CONTINUATION_LEGACY")))!==b&&(!d.$$is_boolean||1==d))for(l=l.$chop().$rstrip();(g=a.$advance())!==b&&(!g.$$is_boolean||1==g)&&((g=(q=a.$peek_line().$strip())["$empty?"]())===b||g.$$is_boolean&&1!=g)&&((g=t=q["$end_with?"](m))===b||g.$$is_boolean&&1!=g||(q=q.$chop().$rstrip()),p=(g=l["$end_with?"](k.get("LINE_BREAK")))===b||g.$$is_boolean&&1!=g?" ":k.get("EOL"),l=""+l+p+q,!1!==
t&&t!==b););this.$store_attribute(h,l,!1!==c&&c!==b?c.$document():b,e);return!0}return!1});a.defs(h,"$store_attribute",function(a,c,e,f){var g,h=b,h=b;null==e&&(e=b);null==f&&(f=b);(g=a["$end_with?"]("!"))===b||g.$$is_boolean&&1!=g?(g=a["$start_with?"]("!"))===b||g.$$is_boolean&&1!=g||(c=b,a=a["$[]"](p(1,-1,!1))):(c=b,a=a.$chop());a=this.$sanitize_attribute_name(a);h=!0;!1!==e&&e!==b&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==c&&c!==b&&(h=c.$chr(),"+"["$==="](h)?c=u(e.$attr("leveloffset",
0).$to_i(),(!1!==(g=c["$[]"](p(1,-1,!1)))&&g!==b?g:0).$to_i()).$to_s():"-"["$==="](h)&&(c=d(e.$attr("leveloffset",0).$to_i(),(!1!==(g=c["$[]"](p(1,-1,!1)))&&g!==b?g:0).$to_i()).$to_s())),h=!1!==c&&c!==b?e.$set_attribute(a,c):e.$delete_attribute(a));(g=!1!==h&&h!==b?f:h)===b||g.$$is_boolean&&1!=g||(!1!==c&&c!==b&&(c=e.$attributes()["$[]"](a)),k.get("Document").$$scope.get("AttributeEntry").$new(a,c).$save_to(f));return[a,c]});a.defs(h,"$resolve_list_marker",function(a,c,e,f,d){var g;null==e&&(e=0);
null==f&&(f=!1);null==d&&(d=b);return(g=a["$=="]("olist")?c["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":c:this.$resolve_ordered_list_marker(c,e,f,d)});a.defs(h,"$resolve_ordered_list_marker",function(a,c,e,f){var d,g,h,l=b,m=b,q=b,l=b;null==c&&(c=0);null==e&&(e=!1);null==f&&(f=b);l=(d=(g=k.get("ORDERED_LIST_STYLES")).$detect,d.$$p=(h=function(c){null==c&&(c=b);return k.get("OrderedListMarkerRxMap")["$[]"](c)["$=~"](a)},h.$$s=this,h),d).call(g);
m=q=b;"arabic"["$==="](l)?(!1!==e&&e!==b&&(m=u(c,1),q=a.$to_i()),a="1."):"loweralpha"["$==="](l)?(!1!==e&&e!==b&&(m=u("a"["$[]"](0).$ord(),c).$chr(),q=a.$chomp(".")),a="a."):"upperalpha"["$==="](l)?(!1!==e&&e!==b&&(m=u("A"["$[]"](0).$ord(),c).$chr(),q=a.$chomp(".")),a="A."):"lowerroman"["$==="](l)?(!1!==e&&e!==b&&(m=u(c,1),q=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](l)&&(!1!==e&&e!==b&&(m=u(c,1),q=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(d=!1!==e&&e!==b?m["$!="](q):
e)===b||d.$$is_boolean&&1!=d||this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+m+", got "+q);return a});a.defs(h,"$is_sibling_list_item?",function(c,e,f){var d,g=b,h=b,l=b;(d=f["$is_a?"](a.get("Regexp")))===b||d.$$is_boolean&&1!=d?(g=k.get("ListRxMap")["$[]"](e),h=f):(g=f,h=!1);return(d=l=g.$match(c))===b||d.$$is_boolean&&1!=d?!1:!1!==h&&h!==b?h["$=="](this.$resolve_list_marker(e,l["$[]"](1))):!0});a.defs(h,"$next_table",function(c,e,f){var d,g,h,l,m,q=b,t=b,C=b,n=
b,w=b,F=b,z=b,A=b,H=b,D=b,B=b,z=b,q=k.get("Table").$new(e,f);(d=f["$has_key?"]("title"))===b||d.$$is_boolean&&1!=d||(d=[f.$delete("title")],g=q,g["$title="].apply(g,d),d[d.length-1],q.$assign_caption(f.$delete("caption")));(d=(g=f["$key?"]("cols"),!1!==g&&g!==b?(t=this.$parse_col_specs(f["$[]"]("cols")))["$empty?"]()["$!"]():g))===b||d.$$is_boolean&&1!=d?C=!1:(q.$create_columns(t),C=!0);n=c.$skip_blank_lines();w=k.get("Table").$$scope.get("ParserContext").$new(c,q,f);for(F=-1;(g=c["$has_more_lines?"]())!==
b&&(!g.$$is_boolean||1==g);){F=u(F,1);z=c.$read_line();(g=(h=(l=(m=n["$=="](0)?F["$zero?"]():n["$=="](0),!1!==m&&m!==b?f["$has_key?"]("options")["$!"]():m),!1!==l&&l!==b?(A=c.$peek_line())["$nil?"]()["$!"]():l),!1!==h&&h!==b?A["$empty?"]():h))===b||g.$$is_boolean&&1!=g||(g=[!0],h=q,h["$has_header_option="].apply(h,g),g[g.length-1],q.$set_option("header"));w.$format()["$=="]("psv")&&((g=w["$starts_with_delimiter?"](z))===b||g.$$is_boolean&&1!=g?(g=a.to_ary(this.$parse_cell_spec(z,"start",w.$delimiter())),
H=null==g[0]?b:g[0],z=null==g[1]?b:g[1],(g=H["$nil?"]()["$!"]())===b||g.$$is_boolean&&1!=g||w.$close_open_cell(H)):(z=z["$[]"](p(1,-1,!1)),w.$close_open_cell()));for(D=!1;(h=!1!==(l=D["$!"]())&&l!==b?l:z["$empty?"]()["$!"]())!==b&&(!h.$$is_boolean||1==h);)if(D=!0,(h=B=w.$match_delimiter(z))===b||h.$$is_boolean&&1!=h)h=[""+w.$buffer()+z+k.get("EOL")],l=w,l["$buffer="].apply(l,h),h[h.length-1],w.$format()["$=="]("csv")&&(h=[""+w.$buffer().$rstrip()+" "],l=w,l["$buffer="].apply(l,h),h[h.length-1]),z=
"",(h=!1!==(l=w.$format()["$=="]("psv"))&&l!==b?l:(m=w.$format()["$=="]("csv"))?w["$buffer_has_unclosed_quotes?"]():w.$format()["$=="]("csv"))===b||h.$$is_boolean&&1!=h?w.$close_cell(!0):w.$keep_cell_open();else{if(w.$format()["$=="]("csv")){if((h=w["$buffer_has_unclosed_quotes?"](B.$pre_match()))!==b&&(!h.$$is_boolean||1==h)){z=w.$skip_matched_delimiter(B);continue}}else if((h=B.$pre_match()["$end_with?"]("\\"))!==b&&(!h.$$is_boolean||1==h)){if((h=(z=w.$skip_matched_delimiter(B,!0))["$empty?"]())!==
b&&(!h.$$is_boolean||1==h)){h=[""+w.$buffer()+k.get("EOL")];l=w;l["$buffer="].apply(l,h);h[h.length-1];w.$keep_cell_open();break}continue}w.$format()["$=="]("psv")?(h=a.to_ary(this.$parse_cell_spec(B.$pre_match(),"end")),H=null==h[0]?b:h[0],z=null==h[1]?b:h[1],w.$push_cell_spec(H),h=[""+w.$buffer()+z]):h=[""+w.$buffer()+B.$pre_match()];l=w;l["$buffer="].apply(l,h);h[h.length-1];(z=B.$post_match())["$=="]("")&&(D=!1);w.$close_cell()}if((g=w["$cell_open?"]())===b||g.$$is_boolean&&1!=g)n=c.$skip_blank_lines();
if((g=c["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g)(g=w["$cell_open?"]())===b||g.$$is_boolean&&1!=g||w.$close_cell(!0)}((d=!1!==(g=(h="colcount",l=q.$attributes(),!1!==(m=l["$[]"](h))&&m!==b?m:l["$[]="](h,q.$columns().$size()))["$=="](0))&&g!==b?g:C)===b||d.$$is_boolean&&1!=d)&&q.$assign_col_widths();q.$partition_header_footer(f);return q});a.defs(h,"$parse_col_specs",function(c){var e,f,d,g,h,l=b;(e=c["$include?"](" "))===b||e.$$is_boolean&&1!=e||(c=c.$tr(" ",""));if(c["$=="](c.$to_i().$to_s()))return(e=
(f=a.get("Array")).$new,e.$$p=(d=function(){return z(["width"],{width:1})},d.$$s=this,d),e).call(f,c.$to_i());l=[];(e=(g=c.$split(",",-1)).$each,e.$$p=(h=function(c){var e=h.$$s||this,f,d,g,m=b,q=b,t=b,r=b;null==c&&(c=b);if(c["$=="](""))return l["$<<"](z(["width"],{width:1}));if((f=m=k.get("ColumnSpecRx").$match(c))===b||f.$$is_boolean&&1!=f)return b;q=z([],{});if((f=m["$[]"](2))!==b&&(!f.$$is_boolean||1==f)){f=a.to_ary(m["$[]"](2).$split("."));t=null==f[0]?b:f[0];r=null==f[1]?b:f[1];if((f=(d=t["$nil_or_empty?"]()["$!"](),
!1!==d&&d!==b?k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](t):d))!==b&&(!f.$$is_boolean||1==f))q["$[]="]("halign",k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](t));if((f=(d=r["$nil_or_empty?"]()["$!"](),!1!==d&&d!==b?k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](r):d))!==b&&(!f.$$is_boolean||1==f))q["$[]="]("valign",k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](r))}q["$[]="]("width",(f=m["$[]"](3))===b||f.$$is_boolean&&1!=f?1:m["$[]"](3).$to_i());
if((f=(d=m["$[]"](4),!1!==d&&d!==b?k.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](m["$[]"](4)):d))!==b&&(!f.$$is_boolean||1==f))q["$[]="]("style",k.get("Table").$$scope.get("TEXT_STYLES")["$[]"](m["$[]"](4)));return(f=m["$[]"](1))===b||f.$$is_boolean&&1!=f?l["$<<"](q):(f=(d=1).$upto,f.$$p=(g=function(){return l["$<<"](q.$dup())},g.$$s=e,g),f).call(d,m["$[]"](1).$to_i())},h.$$s=this,h),e).call(g);return l});a.defs(h,"$parse_cell_spec",function(c,e,f){var d,g,h=b,l=b,m=b,q=m=h=b,t=b;null==e&&
(e="start");null==f&&(f=b);h=b;l="";m=e;if("start"["$==="](m)){if((d=c["$include?"](f))===b||d.$$is_boolean&&1!=d)return[b,c];d=a.to_ary(c.$split(f,2));h=null==d[0]?b:d[0];l=null==d[1]?b:d[1];if((d=h=k.get("CellSpecStartRx").$match(h))===b||d.$$is_boolean&&1!=d)return[b,c];if((d=h["$[]"](0)["$empty?"]())!==b&&(!d.$$is_boolean||1==d))return[z([],{}),l]}else if("end"["$==="](m)){if((d=h=k.get("CellSpecEndRx").$match(c))===b||d.$$is_boolean&&1!=d)return[z([],{}),c];if((d=h["$[]"](0).$lstrip()["$empty?"]())!==
b&&(!d.$$is_boolean||1==d))return[z([],{}),c.$rstrip()];l=h.$pre_match()}m=z([],{});if((d=h["$[]"](1))!==b&&(!d.$$is_boolean||1==d))if(d=a.to_ary(h["$[]"](1).$split(".")),q=null==d[0]?b:d[0],t=null==d[1]?b:d[1],q=(d=q["$nil_or_empty?"]())===b||d.$$is_boolean&&1!=d?q.$to_i():1,t=(d=t["$nil_or_empty?"]())===b||d.$$is_boolean&&1!=d?t.$to_i():1,h["$[]"](2)["$=="]("+")){if(!q["$=="](1))m["$[]="]("colspan",q);if(!t["$=="](1))m["$[]="]("rowspan",t)}else if(h["$[]"](2)["$=="]("*")&&!q["$=="](1))m["$[]="]("repeatcol",
q);if((d=h["$[]"](3))!==b&&(!d.$$is_boolean||1==d)){d=a.to_ary(h["$[]"](3).$split("."));q=null==d[0]?b:d[0];t=null==d[1]?b:d[1];if((d=(g=q["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](q):g))!==b&&(!d.$$is_boolean||1==d))m["$[]="]("halign",k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](q));if((d=(g=t["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](t):g))!==b&&(!d.$$is_boolean||
1==d))m["$[]="]("valign",k.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](t))}if((d=(g=h["$[]"](4),!1!==g&&g!==b?k.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):g))!==b&&(!d.$$is_boolean||1==d))m["$[]="]("style",k.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4)));return[m,l]});a.defs(h,"$parse_style_attribute",function(a,c){var e,f,d,g,h,m,q,t=b,p=b,C=b,w=b,n=b,F=b,A=p=d=b;null==c&&(c=b);t=a["$[]"]("style");p=a["$[]"](1);if((e=(f=(d=!1!==p&&p!==b)?p["$include?"](" ")["$!"]():
p,!1!==f&&f!==b?k.get("Compliance").$shorthand_property_syntax():f))===b||e.$$is_boolean&&1!=e)return a["$[]="]("style",p),[p,t];C="style";w=[];n=z([],{});F=(e=(f=this).$lambda,e.$$p=(g=function(){var a=g.$$s||this,e,f,d=b;return(e=w["$empty?"]())===b||e.$$is_boolean&&1!=e?(d=C,"role"["$==="](d)||"option"["$==="](d)?(e=C,a=n,!1!==(f=a["$[]"](e))&&f!==b?f:a["$[]="](e,[]),n["$[]"](C).$push(w.$join())):("id"["$==="](d)&&((e=n["$has_key?"]("id"))===b||e.$$is_boolean&&1!=e||a.$warn("asciidoctor: WARNING:"+
((e=c["$nil?"]())===b||e.$$is_boolean&&1!=e?" "+c.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),n["$[]="](C,w.$join())),w=[]):(e=C["$!="]("style"))===b||e.$$is_boolean&&1!=e?b:a.$warn("asciidoctor: WARNING:"+((e=c["$nil?"]())===b||e.$$is_boolean&&1!=e?" "+c.$prev_line_info()+":":b)+" invalid empty "+C+" detected in style attribute")},g.$$s=this,g),e).call(f);(e=(d=p).$each_char,e.$$p=(h=function(a){var c,e,f,d=b;null==a&&(a=b);if((c=!1!==(e=!1!==(f=a["$=="]("."))&&f!==b?f:
a["$=="]("#"))&&e!==b?e:a["$=="]("%"))===b||c.$$is_boolean&&1!=c)return w.$push(a);F.$call();d=a;return"."["$==="](d)?C="role":"#"["$==="](d)?C="id":"%"["$==="](d)?C="option":b},h.$$s=this,h),e).call(d);if(C["$=="]("style"))d=a["$[]="]("style",p);else{F.$call();d=(e=n["$has_key?"]("style"))===b||e.$$is_boolean&&1!=e?b:a["$[]="]("style",n["$[]"]("style"));if((e=n["$has_key?"]("id"))!==b&&(!e.$$is_boolean||1==e))a["$[]="]("id",n["$[]"]("id"));if((e=n["$has_key?"]("role"))!==b&&(!e.$$is_boolean||1==
e))a["$[]="]("role",l(n["$[]"]("role")," "));if((e=n["$has_key?"]("option"))!==b&&(!e.$$is_boolean||1==e))if((e=(m=p=n["$[]"]("option")).$each,e.$$p=(q=function(c){null==c&&(c=b);return a["$[]="](""+c+"-option","")},q.$$s=this,q),e).call(m),(e=A=a["$[]"]("options"))===b||e.$$is_boolean&&1!=e)a["$[]="]("options",l(p,","));else a["$[]="]("options",l(u(p,A.$split(",")),","))}return[d,t]});a.defs(h,"$adjust_indentation!",function(a,c,e){var f,g,h,m,q,t,C,w=b,F=b,z=b;null==c&&(c=0);null==e&&(e=0);if((f=
a["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return b;(f=(g=n(e=e.$to_i(),0))?a.$join()["$include?"](k.get("TAB")):n(e=e.$to_i(),0))===b||f.$$is_boolean&&1!=f||(w=l(" ",e),(f=(g=a)["$map!"],f.$$p=(h=function(a){var c=h.$$s||this,f,g,m,q,t,p=b;null==a&&(a=b);if((f=a["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return a;(f=a["$start_with?"](k.get("TAB")))===b||f.$$is_boolean&&1!=f||(f=(g=a)["$sub!"],f.$$p=(m=function(a){null==a&&(a=b);return l(w,a.$length())},m.$$s=c,m),f).call(g,k.get("TabIndentRx"));
if((f=a["$include?"](k.get("TAB")))===b||f.$$is_boolean&&1!=f)return a;p=0;return(f=(q=a)["$gsub!"],f.$$p=(t=function(){var a=b,c=b;null==D["~"]&&(D["~"]=b);if((a=u(D["~"].$begin(0),p))["$%"](e)["$=="](0))return p=u(p,d(e,1)),w;(c=d(e,a["$%"](e)))["$=="](1)||(p=u(p,d(c,1)));return l(" ",c)},t.$$s=c,t),f).call(q,k.get("TabRx"))},h.$$s=this,h),f).call(g));if((f=(g=!1!==c&&c!==b)?n(c=c.$to_i(),-1):c)===b||f.$$is_boolean&&1!=f)return b;F=b;(f=(g=a).$each,f.$$p=(m=function(a){var c,e=b;null==a&&(a=b);
return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?(e=d(a.$length(),a.$lstrip().$length()))["$=="](0)?(F=b,B.$v=b,B):(c=!1!==F&&F!==b?n(e,F):F)===b||c.$$is_boolean&&1!=c?F=e:b:b},m.$$s=this,m),f).call(g);c["$=="](0)?!1!==F&&F!==b&&(f=a["$map!"],f.$$p=(q=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?a["$[]"](p(F,-1,!1)):a},q.$$s=this,q),f).call(a):(z=l(" ",c),!1!==F&&F!==b?(f=a["$map!"],f.$$p=(t=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&
1!=c?u(z,a["$[]"](p(F,-1,!1))):a},t.$$s=this,t),f).call(a):(f=a["$map!"],f.$$p=(C=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?u(z,a):a},C.$$s=this,C),f).call(a));return b});a.defs(h,"$sanitize_attribute_name",function(a){return a.$gsub(k.get("InvalidAttributeNameCharsRx"),"").$downcase()});return(a.defs(h,"$roman_numeral_to_int",function(a){var e,f,g,k=b,h=b;a=a.$downcase();k=z(["i","v","x"],{i:1,v:5,x:10});h=0;(e=(f=p(0,d(a.$length(),1),!1)).$each,e.$$p=(g=
function(e){var f,g=b;null==e&&(e=b);g=k["$[]"](a["$[]"](p(e,e,!1)));return(f=c(u(e,1),a.$length())?n(k["$[]"](a["$[]"](p(u(e,1),u(e,1),!1))),g):c(u(e,1),a.$length()))===b||f.$$is_boolean&&1!=f?h=u(h,g):h=d(h,g)},g.$$s=this,g),e).call(f);return h}),b)&&"roman_numeral_to_int"})(A(g,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var n=a.nil,l=a.module,m=a.klass,d=a.hash2,e=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $uri_prefix $<< $+ $chomp".split(" "));
return function(c){(function(b,$super){function c(){}var l=c=m(b,$super,"PathResolver",c),z=l.$$proto,f=l.$$scope;z.file_separator=z._partition_path_web=z._partition_path_sys=z.working_dir=n;a.cdecl(f,"DOT",".");a.cdecl(f,"DOT_DOT","..");a.cdecl(f,"DOT_SLASH","./");a.cdecl(f,"SLASH","/");a.cdecl(f,"BACKSLASH","\\");a.cdecl(f,"DOUBLE_SLASH","//");a.cdecl(f,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);l.$attr_accessor("file_separator");l.$attr_accessor("working_dir");a.defn(l,"$initialize",function(b,c){var e;
null==b&&(b=n);null==c&&(c=n);this.file_separator=!1!==b&&b!==n?b:!1!==(e=a.get("File").$$scope.get("ALT_SEPARATOR"))&&e!==n?e:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==c&&c!==n?(e=this["$is_root?"](c))===n||e.$$is_boolean&&1!=e?a.get("File").$expand_path(c):c:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=d([],{});return this._partition_path_web=d([],{})});a.defn(l,"$is_root?",function(b){var c,e,d;return(c=b["$start_with?"](f.get("SLASH")))===n||c.$$is_boolean&&
1!=c?(c=this.file_separator["$=="](f.get("BACKSLASH"))?f.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](f.get("BACKSLASH")))===n||c.$$is_boolean&&1!=c?(c=(e=(d=a.get("RUBY_ENGINE_OPAL"),!1!==d&&d!==n?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):d),!1!==e&&e!==n?b["$start_with?"]("file:///"):e))===n||c.$$is_boolean&&1!=c?!1:!0:!0:!0});a.defn(l,"$is_unc?",function(a){return a["$start_with?"](f.get("DOUBLE_SLASH"))});a.defn(l,"$is_web_root?",function(a){return a["$start_with?"](f.get("SLASH"))});
a.defn(l,"$posixfy",function(a){var b;return(b=a["$nil_or_empty?"]())===n||b.$$is_boolean&&1!=b?(b=a["$include?"](f.get("BACKSLASH")))===n||b.$$is_boolean&&1!=b?a:a.$tr(f.get("BACKSLASH"),f.get("SLASH")):""});a.defn(l,"$expand_path",function(b){var c=n,e=n;b=a.to_ary(this.$partition_path(b));c=null==b[0]?n:b[0];e=null==b[1]?n:b[1];return this.$join_path(c,e)});a.defn(l,"$partition_path",function(a,b){var c,d=n,l=d=n,m=n;null==b&&(b=!1);if((c=d=!1!==b&&b!==n?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==
n&&(!c.$$is_boolean||1==c))return d;d=this.$posixfy(a);l=!1!==b&&b!==n?(c=this["$is_web_root?"](d))===n||c.$$is_boolean&&1!=c?(c=d["$start_with?"](f.get("DOT_SLASH")))===n||c.$$is_boolean&&1!=c?n:f.get("DOT_SLASH"):f.get("SLASH"):(c=this["$is_root?"](d))===n||c.$$is_boolean&&1!=c?(c=d["$start_with?"](f.get("DOT_SLASH")))===n||c.$$is_boolean&&1!=c?n:f.get("DOT_SLASH"):(c=this["$is_unc?"](d))===n||c.$$is_boolean&&1!=c?(c=d["$start_with?"](f.get("SLASH")))===n||c.$$is_boolean&&1!=c?d["$[]"](e(0,d.$index(f.get("SLASH")),
!1)):f.get("SLASH"):f.get("DOUBLE_SLASH");m=d.$split(f.get("SLASH"));l["$=="](f.get("DOUBLE_SLASH"))?m=m["$[]"](e(2,-1,!1)):!1!==l&&l!==n&&m.$shift();m.$delete(f.get("DOT"));return(!1!==b&&b!==n?this._partition_path_web:this._partition_path_sys)["$[]="](a,[m,l,d])});a.defn(l,"$join_path",function(a,b){null==b&&(b=n);return!1!==b&&b!==n?""+b+u(a,f.get("SLASH")):u(a,f.get("SLASH"))});a.defn(l,"$system_path",function(b,c,e,l){var m,w,h,k=n,t=n,C=n,q=n,F=n,y=F=C=n,r=n;null==e&&(e=n);null==l&&(l=d([],
{}));!1!==e&&e!==n&&(((m=this["$is_root?"](e))===n||m.$$is_boolean&&1!=m)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+e),e=this.$posixfy(e));(m=b["$nil_or_empty?"]())===n||m.$$is_boolean&&1!=m?(m=a.to_ary(this.$partition_path(b)),k=null==m[0]?n:m[0],t=null==m[1]?n:m[1]):k=[];if((m=k["$empty?"]())!==n&&(!m.$$is_boolean||1==m))if((m=c["$nil_or_empty?"]())===n||m.$$is_boolean&&1!=m){if((m=this["$is_root?"](c))===n||m.$$is_boolean&&1!=m)return this.$system_path(c,e,e,l);if(!1===
e||e===n)return this.$expand_path(c)}else return!1!==e&&e!==n?e:this.working_dir;if(!((m=(w=!1!==t&&t!==n)?t["$!="](f.get("DOT_SLASH")):t)===n||m.$$is_boolean&&1!=m||(C=this.$join_path(k,t),(m=!1!==(w=e["$!"]())&&w!==n?w:C["$start_with?"](e))===n||m.$$is_boolean&&1!=m)))return C;c=(m=c["$nil_or_empty?"]())===n||m.$$is_boolean&&1!=m?(m=this["$is_root?"](c))===n||m.$$is_boolean&&1!=m?this.$system_path(c,e,e,l):this.$posixfy(c):!1!==e&&e!==n?e:this.working_dir;e["$=="](c)?(m=a.to_ary(this.$partition_path(e)),
q=null==m[0]?n:m[0],F=null==m[1]?n:m[1],C=q.$dup()):(!1!==e&&e!==n?(((m=c["$start_with?"](e))===n||m.$$is_boolean&&1!=m)&&this.$raise(a.get("SecurityError"),""+(!1!==(m=l["$[]"]("target_name"))&&m!==n?m:"Start path")+" "+c+" is outside of jail: "+e+" (disallowed in safe mode)"),m=a.to_ary(this.$partition_path(c)),C=null==m[0]?n:m[0],F=null==m[1]?n:m[1],m=a.to_ary(this.$partition_path(e)),q=null==m[0]?n:m[0]):(m=a.to_ary(this.$partition_path(c)),C=null==m[0]?n:m[0]),F=null==m[1]?n:m[1]);y=C.$dup();
r=!1;(m=(w=k).$each,m.$$p=(h=function(c){var d=h.$$s||this,k;null==c&&(c=n);if(c["$=="](f.get("DOT_DOT"))){if(!1!==e&&e!==n){c=y.$length();var m=q.$length();if("number"===typeof c&&"number"===typeof m?c>m:c["$>"](m))return y.$pop();if((k=(!1!==n&&n!==n?n:l.$fetch("recover",!0))["$!"]())===n||k.$$is_boolean&&1!=k){if((k=r["$!"]())===n||k.$$is_boolean&&1!=k)return n;d.$warn("asciidoctor: WARNING: "+(!1!==(k=l["$[]"]("target_name"))&&k!==n?k:"path")+" has illegal reference to ancestor of jail, auto-recovering");
return r=!0}return d.$raise(a.get("SecurityError"),""+(!1!==(k=l["$[]"]("target_name"))&&k!==n?k:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)")}return y.$pop()}return y.$push(c)},h.$$s=this,h),m).call(w);return this.$join_path(y,F)});a.defn(l,"$web_path",function(b,c){var d,l,m,w=n,h=n,k=n,t=n;null==c&&(c=n);b=this.$posixfy(b);c=this.$posixfy(c);w=n;if((d=!1!==(l=c["$nil_or_empty?"]())&&l!==n?l:this["$is_web_root?"](b))===n||d.$$is_boolean&&1!=d)b=""+c+f.get("SLASH")+
b,(d=w=f.get("Helpers").$uri_prefix(b))===n||d.$$is_boolean&&1!=d||(b=b["$[]"](e(w.$length(),-1,!1)));d=a.to_ary(this.$partition_path(b,!0));h=null==d[0]?n:d[0];k=null==d[1]?n:d[1];t=[];(d=(l=h).$each,d.$$p=(m=function(a){var b;null==a&&(a=n);return a["$=="](f.get("DOT_DOT"))?(b=t["$empty?"]())===n||b.$$is_boolean&&1!=b?t["$[]"](-1)["$=="](f.get("DOT_DOT"))?t["$<<"](a):t.$pop():(b=!1!==k&&k!==n?k["$!="](f.get("DOT_SLASH")):k)===n||b.$$is_boolean&&1!=b?t["$<<"](a):n:t["$<<"](a)},m.$$s=this,m),d).call(l);
return!1!==w&&w!==n?""+w+this.$join_path(t,k):this.$join_path(t,k)});return(a.defn(l,"$relative_path",function(a,b){var c,f,d=n;if((c=(f=this["$is_root?"](a),!1!==f&&f!==n?this["$is_root?"](b):f))===n||c.$$is_boolean&&1!=c)return a;c=b.$chomp(this.file_separator).$length();d="number"===typeof c?c+1:c["$+"](1);return a["$[]"](e(d,-1,!1))}),n)&&"relative_path"})(l(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var e=a.nil,c=a.breaker,b=
a.slice,B=a.module,A=a.klass,E=a.hash2,z=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $is_a? $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $=== $detect $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(f){f=B(f,"Asciidoctor").$$scope;(function(b,$super){function f(){}var d=f=A(b,$super,"Reader",f),B=d.$$proto,w=d.$$scope,h;B.file=B.dir=B.lines=B.process_lines=B.look_ahead=B.eof=B.unescape_next_line=B.lineno=B.path=B.source_lines=e;(function(b,$super){function c(){}var d=c=A(b,$super,"Cursor",c);d.$attr_accessor("file");d.$attr_accessor("dir");d.$attr_accessor("path");d.$attr_accessor("lineno");a.defn(d,"$initialize",function(a,b,c,d){null==b&&(b=e);null==c&&(c=e);null==d&&(d=e);
this.file=a;this.dir=b;this.path=c;return this.lineno=d});a.defn(d,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(d,"to_s","line_info")})(w.base,null);d.$attr_reader("file");d.$attr_reader("dir");d.$attr_reader("path");d.$attr_reader("lineno");d.$attr_reader("source_lines");d.$attr_accessor("process_lines");a.defn(d,"$initialize",function(b,c,d){var f;null==b&&(b=e);null==c&&(c=e);null==d&&(d=E(["normalize"],{normalize:!1}));if((f=c["$!"]())===e||f.$$is_boolean&&
1!=f)if((f=c["$is_a?"](a.get("String")))===e||f.$$is_boolean&&1!=f){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(f=c.$path())&&f!==e?f:"<stdin>";if((f=this.file)!==e&&(!f.$$is_boolean||1==f)){if((f=this.dir)===e||f.$$is_boolean&&1!=f)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=e);if((f=c.$path())===e||f.$$is_boolean&&1!=f)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(f=c.$lineno())&&f!==e?f:1}else this.file=c,f=a.to_ary(a.get("File").$split(this.file)),
this.dir=null==f[0]?e:f[0],this.path=null==f[1]?e:f[1],this.lineno=1;else this.file=this.dir=e,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==e?this.$prepare_lines(b,d):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(d,"$prepare_lines",function(b,c){var d;null==c&&(c=E([],{}));return(d=b["$is_a?"](a.get("String")))===e||d.$$is_boolean&&1!=d?(d=c["$[]"]("normalize"))===e||d.$$is_boolean&&
1!=d?b.$dup():w.get("Helpers").$normalize_lines_array(b):(d=c["$[]"]("normalize"))===e||d.$$is_boolean&&1!=d?b.$split(w.get("EOL")):w.get("Helpers").$normalize_lines_from_string(b)});a.defn(d,"$process_line",function(a){var b;(b=this.process_lines)===e||b.$$is_boolean&&1!=b||(this.look_ahead=u(this.look_ahead,1));return a});a.defn(d,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==e?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()});a.defn(d,"$next_line_empty?",function(){return this.$peek_line()["$nil_or_empty?"]()});
a.defn(d,"$peek_line",function(a){var b,c,d=e;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==e?c:n(this.look_ahead,0))===e||b.$$is_boolean&&1!=b){if((b=!1!==(c=this.eof)&&c!==e?c:this.lines["$empty?"]())===e||b.$$is_boolean&&1!=b)return(b=(d=this.$process_line(this.lines["$[]"](0)))["$!"]())===e||b.$$is_boolean&&1!=b?d:this.$peek_line();this.eof=!0;this.look_ahead=0;return e}return(b=this.unescape_next_line)===e||b.$$is_boolean&&1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](z(1,-1,!1))});a.defn(d,
"$peek_lines",function(a,b){var d,f,g,h,l,m=e,p=e;null==a&&(a=1);null==b&&(b=!0);m=this.look_ahead;p=[];(d=(f=a).$times,d.$$p=(g=function(){var a,d=e;return(a=d=(g.$$s||this).$read_line(b))===e||a.$$is_boolean&&1!=a?(c.$v=e,c):p["$<<"](d)},g.$$s=this,g),d).call(f);if((d=p["$empty?"]())===e||d.$$is_boolean&&1!=d)(d=(h=p).$reverse_each,d.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=e);return b.$unshift(a)},l.$$s=this,l),d).call(h),!1!==b&&b!==e&&(this.look_ahead=m);return p});a.defn(d,"$read_line",
function(a){var b,c,d;null==a&&(a=!1);return(b=!1!==(c=!1!==(d=a)&&d!==e?d:n(this.look_ahead,0))&&c!==e?c:this["$has_more_lines?"]())===e||b.$$is_boolean&&1!=b?e:this.$shift()});a.defn(d,"$read_lines",function(){for(var a,b=e,b=[];(a=this["$has_more_lines?"]())!==e&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b});a.alias(d,"readlines","read_lines");a.defn(d,"$read",function(){return l(this.$read_lines(),w.get("EOL"))});a.defn(d,"$advance",function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});
a.defn(d,"$unshift_line",function(a){this.$unshift(a);return e});a.alias(d,"restore_line","unshift_line");a.defn(d,"$unshift_lines",function(a){var b,c;(b=a.$reverse_each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);return b.$unshift(a)},c.$$s=this,c),b).call(a);return e});a.alias(d,"restore_lines","unshift_lines");a.defn(d,"$replace_next_line",function(a){this.$advance();this.$unshift(a);return e});a.alias(d,"replace_line","replace_next_line");a.defn(d,"$skip_blank_lines",function(){var a,
b,c=e,d=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return 0;for(c=0;!((b=d=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=d["$empty?"]())===e||b.$$is_boolean&&1!=b);)this.$advance(),c=u(c,1);return c});a.defn(d,"$skip_comment_lines",function(b){var c,d,f=e,g=e,h=e,l=e,m=e;null==b&&(b=E([],{}));if((c=this["$eof?"]())!==e&&(!c.$$is_boolean||1==c))return[];f=[];for(g=b["$[]"]("include_blank_lines");(d=h=this.$peek_line())!==e&&(!d.$$is_boolean||1==d);)if((d=(b=!1!==g&&g!==e)?h["$empty?"]():
g)===e||d.$$is_boolean&&1!=d)if((d=(b=l=h["$start_with?"]("//"),!1!==b&&b!==e?m=w.get("CommentBlockRx").$match(h):b))===e||d.$$is_boolean&&1!=d)if((b=!1!==l&&l!==e?w.get("CommentLineRx")["$=~"](h):l)===e||b.$$is_boolean&&1!=b)break;else f["$<<"](this.$shift());else f["$<<"](this.$shift()),(d=f).$push.apply(d,a.to_a(this.$read_lines_until(E(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,skip_processing:!0}))));else f["$<<"](this.$shift());return f});a.defn(d,
"$skip_line_comments",function(){var a,b,c=e,d=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return[];for(c=[];!((b=d=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=w.get("CommentLineRx")["$=~"](d))===e||b.$$is_boolean&&1!=b);)c["$<<"](this.$shift());return c});a.defn(d,"$terminate",function(){this.lineno=u(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return e});a.defn(d,"$eof?",function(){return this["$has_more_lines?"]()["$!"]()});a.alias(d,"empty?",
"eof?");a.defn(d,"$read_lines_until",h=function(b){var d,f,g,l,p,r=h.$$p||e,v=e,n=e,u=e,x=e,z=e,A=e,B=e,H=e,J=e,P=e;null==b&&(b=E([],{}));h.$$p=null;v=[];(d=b["$[]"]("skip_first_line"))===e||d.$$is_boolean&&1!=d||this.$advance();(d=(f=this.process_lines,!1!==f&&f!==e?b["$[]"]("skip_processing"):f))===e||d.$$is_boolean&&1!=d?n=!1:(this.process_lines=!1,n=!0);(d=u=b["$[]"]("terminator"))===e||d.$$is_boolean&&1!=d?(x=b["$[]"]("break_on_blank_lines"),z=b["$[]"]("break_on_list_continuation")):z=x=!1;A=
b["$[]"]("skip_line_comments");for(J=H=B=!1;(f=(g=J["$!"](),!1!==g&&g!==e?P=this.$read_line():g))!==e&&(!f.$$is_boolean||1==f);)if(J=function(){for(;(g=!0)!==e&&(!g.$$is_boolean||1==g);)return((g=(l=!1!==u&&u!==e)?P["$=="](u):u)===e||g.$$is_boolean&&1!=g)&&((g=(l=!1!==x&&x!==e)?P["$empty?"]():x)===e||g.$$is_boolean&&1!=g)?(g=(l=(p=!1!==z&&z!==e)?B:z,!1!==l&&l!==e?P["$=="](w.get("LIST_CONTINUATION")):l))===e||g.$$is_boolean&&1!=g?(g=(l=r!==e)?(p=a.yield1(r,P))===c?c.$v:p:r!==e)===e||g.$$is_boolean&&
1!=g?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return e}(),!1!==J&&J!==e)(f=b["$[]"]("read_last_line"))===e||f.$$is_boolean&&1!=f||(v["$<<"](P),B=!0),(f=b["$[]"]("preserve_last_line"))===e||f.$$is_boolean&&1!=f||(this.$unshift(P),H=!0);else if((f=(g=(l=!1!==A&&A!==e)?P["$start_with?"]("//"):A,!1!==g&&g!==e?w.get("CommentLineRx")["$=~"](P):g))===e||f.$$is_boolean&&1!=f)v["$<<"](P),B=!0;!1!==n&&n!==e&&(this.process_lines=!0,(d=(f=!1!==H&&H!==e)?u["$!"]():H)===e||d.$$is_boolean&&1!=d||(this.look_ahead=
m(this.look_ahead,1)));return v});a.defn(d,"$shift",function(){this.lineno=u(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=m(this.look_ahead,1));return this.lines.$shift()});a.defn(d,"$unshift",function(a){this.lineno=m(this.lineno,1);this.look_ahead=u(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)});a.defn(d,"$cursor",function(){return w.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(d,"$line_info",function(){return""+this.path+": line "+this.lineno});
a.alias(d,"next_line_info","line_info");a.defn(d,"$prev_line_info",function(){return""+this.path+": line "+m(this.lineno,1)});a.defn(d,"$lines",function(){return this.lines.$dup()});a.defn(d,"$string",function(){return l(this.lines,w.get("EOL"))});a.defn(d,"$source",function(){return l(this.source_lines,w.get("EOL"))});return(a.defn(d,"$to_s",function(){return this.$line_info()}),e)&&"to_s"})(f.base,null);(function(f,$super){function g(){}var B=g=A(f,$super,"PreprocessorReader",g),J=B.$$proto,w=B.$$scope,
h,k,t,C;J.document=J.lineno=J.process_lines=J.look_ahead=J.skipping=J.include_stack=J.conditional_stack=J.path=J.include_processor_extensions=J.maxdepth=J.dir=J.lines=J.file=J.includes=J.unescape_next_line=e;B.$attr_reader("include_stack");B.$attr_reader("includes");a.defn(B,"$initialize",h=function(b,c,d){var f,g,k=e;null==c&&(c=e);null==d&&(d=e);h.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",h,null).apply(this,[c,d,E(["normalize"],{normalize:!0})]);k=b.$attributes().$fetch("max-include-depth",
64).$to_i();if("number"===typeof k?0>k:k["$<"](0))k=0;this.maxdepth=E(["abs","rel"],{abs:k,rel:k});this.include_stack=[];this.includes=(f=b.$references(),!1!==(g=f["$[]"]("includes"))&&g!==e?g:f["$[]="]("includes",[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=e});a.defn(B,"$prepare_lines",k=function(c,d){var f=b.call(arguments,0),g,h,m,t=k.$$p,p=e,n=e,C=e,z=e;null==d&&(d=E([],{}));k.$$p=null;p=a.find_super_dispatcher(this,"prepare_lines",k,t).apply(this,
f);if(!((g=(h=this.document,!1!==h&&h!==e?this.document.$attributes()["$has_key?"]("skip-front-matter"):h))===e||g.$$is_boolean&&1!=g||(g=n=this["$skip_front_matter!"](p))===e||g.$$is_boolean&&1!=g))this.document.$attributes()["$[]="]("front-matter",l(n,w.get("EOL")));if((g=d.$fetch("condense",!0))!==e&&(!g.$$is_boolean||1==g)){for(;(h=(m=C=p["$[]"](0),!1!==m&&m!==e?C["$empty?"]():m))!==e&&(!h.$$is_boolean||1==h);)h=p.$shift(),!1!==h&&h!==e?this.lineno=u(this.lineno,1):h;for(;(h=(m=z=p["$[]"](-1),
!1!==m&&m!==e?z["$empty?"]():m))!==e&&(!h.$$is_boolean||1==h);)p.$pop()}if((g=d["$[]"]("indent"))!==e&&(!g.$$is_boolean||1==g))w.get("Parser")["$adjust_indentation!"](p,d["$[]"]("indent"),this.document.$attr("tabsize"));return p});a.defn(B,"$process_line",function(b){var c,d,f,g,h=e,k=e;if((c=this.process_lines)===e||c.$$is_boolean&&1!=c)return b;if((c=b["$empty?"]())!==e&&(!c.$$is_boolean||1==c))return this.look_ahead=u(this.look_ahead,1),"";if((c=(d=(f=b["$end_with?"]("]"),!1!==f&&f!==e?b["$start_with?"]("[")["$!"]():
f),!1!==d&&d!==e?b["$include?"]("::"):d))===e||c.$$is_boolean&&1!=c){if((c=this.skipping)===e||c.$$is_boolean&&1!=c)return this.look_ahead=u(this.look_ahead,1),b;this.$advance();return e}if((c=(d=b["$include?"]("if"),!1!==d&&d!==e?h=w.get("ConditionalDirectiveRx").$match(b):d))===e||c.$$is_boolean&&1!=c){if((c=this.skipping)===e||c.$$is_boolean&&1!=c)return(c=(f=!1!==(g=k=b["$start_with?"]("\\include::"))&&g!==e?g:b["$start_with?"]("include::"),!1!==f&&f!==e?h=w.get("IncludeDirectiveRx").$match(b):
f))===e||c.$$is_boolean&&1!=c?(this.look_ahead=u(this.look_ahead,1),b):!1!==k&&k!==e?(this.unescape_next_line=!0,this.look_ahead=u(this.look_ahead,1),b["$[]"](z(1,-1,!1))):(c=this.$preprocess_include(h["$[]"](1),h["$[]"](2).$strip()))===e||c.$$is_boolean&&1!=c?(this.look_ahead=u(this.look_ahead,1),b):e;this.$advance();return e}if((c=b["$start_with?"]("\\"))===e||c.$$is_boolean&&1!=c){if((c=(d=this).$preprocess_conditional_inclusion.apply(d,a.to_a(h.$captures())))===e||c.$$is_boolean&&1!=c)return this.look_ahead=
u(this.look_ahead,1),b;this.$advance();return e}this.unescape_next_line=!0;this.look_ahead=u(this.look_ahead,1);return b["$[]"](z(1,-1,!1))});a.defn(B,"$peek_line",t=function(c){var d=b.call(arguments,0),f,g=t.$$p,h=e;null==c&&(c=!1);t.$$p=null;return(f=h=a.find_super_dispatcher(this,"peek_line",t,g).apply(this,d))===e||f.$$is_boolean&&1!=f?(f=this.include_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?(this.$pop_include(),this.$peek_line(c)):e:h});a.defn(B,"$preprocess_conditional_inclusion",function(a,
b,c,d){var f,g,h,k,l,m,t,p,C,u,z=e,A=z=e,B=e,H=B=A=z=e,A=e;if((f=!1!==(g=(h=!1!==(k=a["$=="]("ifdef"))&&k!==e?k:a["$=="]("ifndef"),!1!==h&&h!==e?b["$empty?"]():h))&&g!==e?g:(h=a["$=="]("endif"))?d:a["$=="]("endif"))!==e&&(!f.$$is_boolean||1==f))return!1;b=b.$downcase();if(a["$=="]("endif"))return z=this.conditional_stack.$size(),n(z,0)?(z=this.conditional_stack["$[]"](-1),(f=!1!==(g=b["$empty?"]())&&g!==e?g:b["$=="](z["$[]"]("target")))===e||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+
this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+z["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(f=this.conditional_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;A=!1;if((f=this.skipping)===e||f.$$is_boolean&&1!=f)if(B=a,"ifdef"["$==="](B))B=c,e["$==="](B)?A=this.document.$attributes()["$has_key?"](b)["$!"]():
","["$==="](B)?A=(f=(g=b.$split(",")).$detect,f.$$p=(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},l.$$s=this,l),f).call(g)["$!"]():"+"["$==="](B)&&(A=(f=(h=b.$split("+")).$detect,f.$$p=(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},m.$$s=this,m),f).call(h));else if("ifndef"["$==="](B))B=c,e["$==="](B)?A=this.document.$attributes()["$has_key?"](b):
","["$==="](B)?A=(f=(k=b.$split(",")).$detect,f.$$p=(t=function(a){var b=t.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},t.$$s=this,t),f).call(k)["$!"]():"+"["$==="](B)&&(A=(f=(p=b.$split("+")).$detect,f.$$p=(C=function(a){var b=C.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},C.$$s=this,C),f).call(p));else if("ifeval"["$==="](B)){if((f=!1!==(u=b["$empty?"]()["$!"]())&&
u!==e?u:(z=w.get("EvalExpressionRx").$match(d.$strip()))["$!"]())!==e&&(!f.$$is_boolean||1==f))return!1;A=this.$resolve_expr_val(z["$[]"](1));B=this.$resolve_expr_val(z["$[]"](3));A=(H=z["$[]"](2))["$=="]("!=")?A.$send("==",B):A.$send(H.$to_sym(),B)["$!"]()}if((f=!1!==(u=a["$=="]("ifeval"))&&u!==e?u:d["$!"]())!==e&&(!f.$$is_boolean||1==f))!1!==A&&A!==e&&(this.skipping=!0),this.conditional_stack["$<<"](E(["target","skip","skipping"],{target:b,skip:A,skipping:this.skipping}));else if((f=!1!==(u=this.skipping)&&
u!==e?u:A)===e||f.$$is_boolean&&1!=f)A=this.$peek_line(!0),this.$replace_next_line(d.$rstrip()),this.$unshift(A);return!0});a.defn(B,"$preprocess_include",function(b,f){var g,h,k,t,p,C,z,A,B,H=e,J=e,P=e,L=e,U=e,M=e,Z=e,ea=e,ba=e,Q=e,ca=e,X=e,O=e,aa=e,I=e,R=e;if((g=(H=this.document.$sub_attributes(b,E(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===e||g.$$is_boolean&&1!=g){if((g=(h=this["$include_processors?"](),!1!==h&&h!==e?J=(k=(t=this.include_processor_extensions).$find,
k.$$p=(p=function(a){null==a&&(a=e);return a.$instance()["$handles?"](H)},p.$$s=this,p),k).call(t):h))===e||g.$$is_boolean&&1!=g){if(d(this.document.$safe(),w.get("SafeMode").$$scope.get("SECURE")))return this.$replace_next_line("link:"+H+"[]"),!0;if((g=(h=n(P=this.maxdepth["$[]"]("abs"),0))?d(this.include_stack.$size(),P):n(P=this.maxdepth["$[]"]("abs"),0))===e||g.$$is_boolean&&1!=g){if(n(P,0)){if((g=a.get("RUBY_ENGINE_OPAL"))===e||g.$$is_boolean&&1!=g)if((g=w.get("Helpers")["$uriish?"](H))===e||
g.$$is_boolean&&1!=g){L="file";U=this.document.$normalize_system_path(H,this.dir,e,E(["target_name"],{target_name:"include file"}));if((g=a.get("File")["$file?"](U))===e||g.$$is_boolean&&1!=g)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+U),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+H+"["+f+"]"),!0;M=w.get("PathResolver").$new().$relative_path(U,this.document.$base_dir())}else{if((g=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
e||g.$$is_boolean&&1!=g)return this.$replace_next_line("link:"+H+"[]"),!0;L="uri";U=M=H;if((g=this.document.$attributes()["$has_key?"]("cache-uri"))===e||g.$$is_boolean&&1!=g)(g=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||g.$$is_boolean&&1!=g||a.get("OpenURI");else{var ja;try{ja=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":e}catch(ha){if(ha.$$class===a.NameError)ja=e;else throw ha;}((g=ja)===e||g.$$is_boolean&&1!=g)&&w.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}}else L=
"file",U=M=(g=this.include_stack["$empty?"]())===e||g.$$is_boolean&&1!=g?a.get("File").$join(this.dir,H):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?H:a.get("File").$join(this.dir,H);ea=Z=e;ba=E([],{});(g=f["$empty?"]()["$!"]())===e||g.$$is_boolean&&1!=g||(ba=w.get("AttributeList").$new(f).$parse(),(g=ba["$has_key?"]("lines"))===e||g.$$is_boolean&&1!=g?(g=ba["$has_key?"]("tag"))===e||g.$$is_boolean&&1!=g?(g=ba["$has_key?"]("tags"))===e||g.$$is_boolean&&1!=g||(ea=ba["$[]"]("tags").$split(w.get("DataDelimiterRx")).$to_set()):
ea=[ba["$[]"]("tag")].$to_set():(Z=[],(g=(h=ba["$[]"]("lines").$split(w.get("DataDelimiterRx"))).$each,g.$$p=(C=function(b){var c,d,f,g=e,h=e;null==b&&(b=e);if((c=b["$include?"](".."))===e||c.$$is_boolean&&1!=c)return Z["$<<"](b.$to_i());c=a.to_ary((d=(f=b.$split("..")).$map,d.$$p="to_i".$to_proc(),d).call(f));g=null==c[0]?e:c[0];h=null==c[1]?e:c[1];return h["$=="](-1)?(Z["$<<"](g),Z["$<<"](1/0)):Z.$concat(a.get("Range").$new(g,h).$to_a())},C.$$s=this,C),g).call(h),Z=Z.$sort().$uniq()));if(!1!==Z&&
Z!==e){if((g=Z["$empty?"]())===e||g.$$is_boolean&&1!=g){Q=[];X=ca=0;try{(g=(k=this).$open,g.$$p=(z=function(b){var d=z.$$s||this,f,g,h;null==b&&(b=e);return(f=(g=b).$each_line,f.$$p=(h=function(d){var f,g,h=e;null==d&&(d=e);X=u(X,1);h=Z["$[]"](0);if((f=(g=h["$is_a?"](a.get("Float")),!1!==g&&g!==e?h["$infinite?"]():g))===e||f.$$is_boolean&&1!=f)return b.$lineno()["$=="](h)&&(Q.$push(d),ca["$=="](0)&&(ca=X),Z.$shift()),(f=Z["$empty?"]())===e||f.$$is_boolean&&1!=f?e:(c.$v=e,c);Q.$push(d);return ca["$=="](0)?
ca=X:e},h.$$s=d,h),f).call(g)},z.$$s=this,z),g).call(k,U,"r")}catch(ha){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+L+" not readable: "+U),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+H+"["+f+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(Q,U,M,ca,ba)}}else if(!1!==ea&&ea!==e){if((g=ea["$empty?"]())===e||g.$$is_boolean&&1!=g){Q=[];X=ca=0;O=e;aa=a.get("Set").$new();try{(g=this.$open,g.$$p=(A=
function(b){var d=A.$$s||this,f,g,h;null==b&&(b=e);return(f=(g=b).$each_line,f.$$p=(h=function(b){var d=h.$$s||this,f,g,k,l=e;null==b&&(b=e);X=u(X,1);(f=w.get("FORCE_ENCODING"))===e||f.$$is_boolean&&1!=f||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();l=b.$chomp("--\x3e").$rstrip();return!1!==O&&O!==e?(f=l["$end_with?"]("end::"+O+"[]"))===e||f.$$is_boolean&&1!=f?(((f=(g=l["$end_with?"]("[]"),!1!==g&&g!==e?w.get("TagDirectiveRx")["$=~"](l):g))===e||f.$$is_boolean&&1!=f)&&Q.$push(b),
ca["$=="](0)?ca=X:e):O=e:(f=(g=l["$end_with?"]("[]"),!1!==g&&g!==e?w.get("TagDirectiveRx")["$=~"](l):g))===e||f.$$is_boolean&&1!=f?e:(f=(g=ea).$each,f.$$p=(k=function(a){var b;null==a&&(a=e);if((b=l["$end_with?"]("tag::"+a+"[]"))===e||b.$$is_boolean&&1!=b)return e;O=a;aa["$<<"](a);return c.$v=e,c},k.$$s=d,k),f).call(g)},h.$$s=d,h),f).call(g)},A.$$s=this,A),g).call(this,U,"r")}catch(ha){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+L+" not readable: "+U),this.$replace_next_line("Unresolved directive in "+
this.path+" - include::"+H+"["+f+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((g=(I=m(ea.$to_a(),aa.$to_a()))["$empty?"]())===e||g.$$is_boolean&&1!=g)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+(n(I.$size(),1)?"s":e)+" '"+l(I,",")+"' not found in include "+L+": "+U);this.$advance();this.$push_include(Q,U,M,ca,ba)}}else try{R=(g=this.$open,g.$$p=(B=function(a){null==a&&(a=e);return a.$read()},B.$$s=this,B),g).call(this,U,"r"),this.$advance(),this.$push_include(R,U,M,
1,ba)}catch(ha){try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+L+" not readable: "+U),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+H+"["+f+"]")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}return!1}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");return!1}this.$advance();J.$process_method()["$[]"](this.document,this,H,w.get("AttributeList").$new(f).$parse());
return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",w.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+f+"]");return!0});a.defn(B,"$push_include",function(b,c,f,d,g){var h,k=e,l=e;null==c&&(c=e);null==f&&(f=e);null==d&&(d=1);null==g&&(g=E([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==c&&c!==e?(this.file=c,this.dir=
w.get("File").$dirname(c),this.process_lines=w.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(c))):(this.file=e,this.dir=".",this.process_lines=!0);!1!==f&&f!==e?(this.includes["$<<"](w.get("Helpers").$rootname(f)),c=f):c="<stdin>";this.path=c;this.lineno=d;if((h=g["$has_key?"]("depth"))!==e&&(!h.$$is_boolean||1==h)){k=g["$[]"]("depth").$to_i();if("number"===typeof k?0>=k:k["$<="](0))k=1;this.maxdepth=E(["abs","rel"],{abs:u(m(this.include_stack.$size(),1),k),rel:k})}(h=(this.lines=this.$prepare_lines(b,
E(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:g["$[]"]("indent")})))["$empty?"]())===e||h.$$is_boolean&&1!=h?((h=g["$has_key?"]("leveloffset"))===e||h.$$is_boolean&&1!=h||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+g["$[]"]("leveloffset")),this.lines.$push(""),(h=l=this.document.$attr("leveloffset"))===e||h.$$is_boolean&&1!=h?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+l),this.lineno=m(this.lineno,2)),this.eof=!1,this.look_ahead=0):
this.$pop_include();return e});a.defn(B,"$pop_include",function(){var b;n(this.include_stack.$size(),0)&&(b=a.to_ary(this.include_stack.$pop()),this.lines=null==b[0]?e:b[0],this.file=null==b[1]?e:b[1],this.dir=null==b[2]?e:b[2],this.path=null==b[3]?e:b[3],this.lineno=null==b[4]?e:b[4],this.maxdepth=null==b[5]?e:b[5],this.process_lines=null==b[6]?e:b[6],this.eof=this.lines["$empty?"](),this.look_ahead=0);return e});a.defn(B,"$include_depth",function(){return this.include_stack.$size()});a.defn(B,"$exceeded_max_depth?",
function(){var a,b=e;return(a=n(b=this.maxdepth["$[]"]("abs"),0)?d(this.include_stack.$size(),b):n(this.maxdepth["$[]"]("abs"),0))===e||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")});a.defn(B,"$shift",C=function(){var c=b.call(arguments,0),f,d=C.$$p;C.$$p=null;if((f=this.unescape_next_line)===e||f.$$is_boolean&&1!=f)return a.find_super_dispatcher(this,"shift",C,d).apply(this,c);this.unescape_next_line=!1;return a.find_super_dispatcher(this,"shift",C,d).apply(this,c)["$[]"](z(1,-1,!1))});a.defn(B,
"$skip_front_matter!",function(b,c){var f,d,g,h=e,k=e;null==c&&(c=!0);h=e;if(b["$[]"](0)["$=="]("---")){k=b.$dup();h=[];b.$shift();!1!==c&&c!==e&&(this.lineno=u(this.lineno,1));for(;(d=(g=b["$empty?"]()["$!"](),!1!==g&&g!==e?b["$[]"](0)["$!="]("---"):g))!==e&&(!d.$$is_boolean||1==d);)h.$push(b.$shift()),!1!==c&&c!==e&&(this.lineno=u(this.lineno,1));(f=b["$empty?"]())===e||f.$$is_boolean&&1!=f?(b.$shift(),!1!==c&&c!==e&&(this.lineno=u(this.lineno,1))):((f=b).$unshift.apply(f,a.to_a(k)),!1!==c&&c!==
e&&(this.lineno=0),h=e)}return h});a.defn(B,"$resolve_expr_val",function(a){var b,c,f,d=e;(b=!1!==(c=(f=a["$start_with?"]('"'),!1!==f&&f!==e?a["$end_with?"]('"'):f))&&c!==e?c:(f=a["$start_with?"]("'"),!1!==f&&f!==e?a["$end_with?"]("'"):f))===e||b.$$is_boolean&&1!=b?d=!1:(d=!0,a=a["$[]"](z(1,-1,!0)));(b=a["$include?"]("{"))===e||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,E(["attribute_missing"],{attribute_missing:"drop"})));return!1!==d&&d!==e?a:(b=a["$empty?"]())===e||b.$$is_boolean&&
1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===e||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===e||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":e});a.defn(B,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===e||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==e?this.document.$extensions()["$include_processors?"]():b))===e||a.$$is_boolean&&1!=a?this.include_processor_extensions=
!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()});return(a.defn(B,"$to_s",function(){var a,b,c;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(c=function(a){null==a&&(a=e);return a.$to_s()},c.$$s=this,c),a).call(b).$join(", ")+"]}>"}),e)&&"to_s"})(f.base,f.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="ignore";var l=a.nil,m=a.slice,d=a.module,e=a.klass,c=a.hash2,b=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(B){B=d(B,"Asciidoctor").$$scope;(function(d,$super){function z(){}var f=z=e(d,$super,"Section",z),p=f.$$proto,B=f.$$scope,g,H,J;p.level=p.document=p.parent=p.number=p.title=p.numbered=p.blocks=l;f.$attr_accessor("index");f.$attr_accessor("number");f.$attr_accessor("sectname");f.$attr_accessor("special");f.$attr_accessor("numbered");a.defn(f,"$initialize",g=function(b,f,d,e){null==b&&(b=l);null==f&&(f=l);null==d&&(d=!0);null==e&&(e=c([],{}));g.$$p=null;a.find_super_dispatcher(this,
"initialize",g,null).apply(this,[b,"section",e]);this.level=!1!==f&&f!==l?f:!1!==b&&b!==l?u(b.$level(),1):1;this.numbered=(f=!1!==d&&d!==l)?n(this.level,0):d;this.special=(f=!1!==b&&b!==l?b.$context()["$=="]("section"):b,!1!==f&&f!==l?b.$special():f);this.index=0;return this.number=1});a.alias(f,"name","title");a.defn(f,"$generate_id",function(){var a,c,f=l,d=l,e=l,g=d=l;if((a=this.document.$attributes()["$has_key?"]("sectids"))===l||a.$$is_boolean&&1!=a)return l;f=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&
a!==l?a:"_";d=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==l?a:"_";e=""+d+this.$title().$downcase().$gsub(B.get("InvalidSectionIdCharsRx"),f).$tr_s(f,f).$chomp(f);if((a=(c=d["$empty?"](),!1!==c&&c!==l?e["$start_with?"](f):c))!==l&&(!a.$$is_boolean||1==a))for(e=e["$[]"](b(1,-1,!1));(c=e["$start_with?"](f))!==l&&(!c.$$is_boolean||1==c);)e=e["$[]"](b(1,-1,!1));d=e;for(g=B.get("Compliance").$unique_id_start_index();(c=this.document.$references()["$[]"]("ids")["$has_key?"](d))!==l&&(!c.$$is_boolean||
1==c);)d=""+e+f+g,g=u(g,1);return d});a.defn(f,"$sectnum",function(a,b){var c,f,d,e;null==a&&(a=".");null==b&&(b=l);!1!==(c=b)&&c!==l?c:b=b["$=="](!1)?"":a;return(c=(f=(d=(e=this.level,!1!==e&&e!==l?n(this.level,1):e),!1!==d&&d!==l?this.parent:d),!1!==f&&f!==l?this.parent.$context()["$=="]("section"):f))===l||c.$$is_boolean&&1!=c?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b});a.defn(f,"$<<",H=function(b){var c=m.call(arguments,0),f=H.$$p;H.$$p=null;b.$context()["$=="]("section")&&this.$assign_index(b);
return a.find_super_dispatcher(this,"<<",H,f).apply(this,c)});return(a.defn(f,"$to_s",J=function(){var b=m.call(arguments,0),c,f=J.$$p,d=l;J.$$p=null;if((c=this.title["$!="](l))===l||c.$$is_boolean&&1!=c)return a.find_super_dispatcher(this,"to_s",J,f).apply(this,b);d=(c=this.numbered)===l||c.$$is_boolean&&1!=c?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"}),l)&&"to_s"})(B.base,
B.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var u=a.nil,n=a.module,l=a.klass,m=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(d){(function(d,$super){function b(){}var n=b=l(d,$super,"Stylesheets",b),A=n.$$proto,E=n.$$scope;A.primary_stylesheet_data=
A.coderay_stylesheet_data=A.pygments_stylesheet_data=u;a.cdecl(E,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(E,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(E,"STYLESHEETS_DATA_PATH",a.get("File").$join(E.get("DATA_PATH"),"stylesheets"));n.__instance__=n.$new();a.defs(n,"$instance",function(){null==this.__instance__&&(this.__instance__=u);return this.__instance__});a.defn(n,"$primary_stylesheet_name",function(){return E.get("DEFAULT_STYLESHEET_NAME")});a.defn(n,"$primary_stylesheet_data",function(){var b;
return!1!==(b=this.primary_stylesheet_data)&&b!==u?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(E.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(n,"$embed_primary_stylesheet",function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"});a.defn(n,"$write_primary_stylesheet",function(b){var f,d,e;return(f=(d=a.get("File")).$open,f.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=u);return a.$write(b.$primary_stylesheet_data())},e.$$s=
this,e),f).call(d,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(n,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(n,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==u?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(E.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(n,"$embed_coderay_stylesheet",function(){return"<style>\n"+this.$coderay_stylesheet_data()+
"\n</style>"});a.defn(n,"$write_coderay_stylesheet",function(b){var f,d,e;return(f=(d=a.get("File")).$open,f.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=u);return a.$write(b.$coderay_stylesheet_data())},e.$$s=this,e),f).call(d,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")});a.defn(n,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=u);return"pygments-"+(!1!==(b=a)&&b!==u?b:E.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(n,"$pygments_stylesheet_data",function(a){var b;return(b=
this.$load_pygments())===u||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==u?b:this.pygments_stylesheet_data=m([],{})});a.defn(n,"$embed_pygments_stylesheet",function(a){null==a&&(a=u);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"});a.defn(n,"$write_pygments_stylesheet",function(b,f){var d,e,g;null==f&&(f=u);return(d=(e=a.get("File")).$open,d.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=u);return a.$write(b.$pygments_stylesheet_data(f))},
g.$$s=this,g),d).call(e,a.get("File").$join(b,this.$pygments_stylesheet_name(f)),"w")});return(a.defn(n,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?u:"constant")===u||b.$$is_boolean&&1!=b?E.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0}),u)&&"load_pygments"})(n(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.nil,c=a.slice,b=a.module,
B=a.klass,A=a.hash2,E=a.range;a.add_stubs("$attr_accessor $new $key? $[] $abs $to_i $== $!= $> $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_col_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cell_spec $cell_open? $close_cell $advance $take_cell_spec $fetch $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_col_visits".split(" "));
return function(z){z=b(z,"Asciidoctor").$$scope;(function(b,$super){function c(){}var g=c=B(b,$super,"Table",c),z=g.$$proto,E=g.$$scope,w;z.attributes=z.document=z.has_header_option=z.rows=z.columns=e;(function(b,$super){function c(){}var d=c=B(b,$super,"Rows",c);d.$attr_accessor("head","foot","body");a.defn(d,"$initialize",function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c});return a.alias(d,"[]","send")})(E.base,null);a.cdecl(E,"DEFAULT_DATA_FORMAT",
"psv");a.cdecl(E,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(E,"DEFAULT_DELIMITERS",A(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(E,"TEXT_STYLES",A("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(E,"ALIGNMENTS",A(["h","v"],{h:A(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:A(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));g.$attr_accessor("columns");g.$attr_accessor("rows");g.$attr_accessor("has_header_option");
a.defn(g,"$initialize",w=function(b,c){var d,f,g,m=e,y=e;w.$$p=null;a.find_super_dispatcher(this,"initialize",w,null).apply(this,[b,"table"]);this.rows=E.get("Rows").$new();this.columns=[];this.has_header_option=c["$key?"]("header-option");m=c["$[]"]("width");y=m.$to_i().$abs();(d=!1!==(f=(g=y["$=="](0))?m["$!="]("0"):y["$=="](0))&&f!==e?f:u(y,100))===e||d.$$is_boolean&&1!=d||(y=100);this.attributes["$[]="]("tablepcwidth",y);return(d=this.document.$attributes()["$key?"]("pagewidth"))===e||d.$$is_boolean&&
1!=d?e:(d="tableabswidth",f=this.attributes,!1!==(g=f["$[]"](d))&&g!==e?g:f["$[]="](d,n(l(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))});a.defn(g,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==e?this.rows.$body()["$empty?"]():a});a.defn(g,"$create_columns",function(a){var b,c,d=e,f=e,d=[],f=0;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);f=m(f,a["$[]"]("width"));return d["$<<"](E.get("Column").$new(b,
d.$size(),a))},c.$$s=this,c),b).call(a);if((b=(this.columns=d)["$empty?"]())===e||b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",d.$size()),this.$assign_col_widths(f["$=="](0)?e:f);return e});a.defn(g,"$assign_col_widths",function(a){var b,c,f,g,w,u=e,r=e,v=e;null==a&&(a=e);u=10["$**"](4);r=v=0;!1!==a&&a!==e?(b=(c=this.columns).$each,b.$$p=(f=function(b){null==b&&(b=e);return r=m(r,v=b.$assign_width(e,a,u))},f.$$s=this,f),b).call(c):(v=l(l(n(100,u),this.columns.$size()).$to_i(),u),v.$to_i()["$=="](v)&&
(v=v.$to_i()),(b=(g=this.columns).$each,b.$$p=(w=function(a){null==a&&(a=e);return r=m(r,a.$assign_width(v))},w.$$s=this,w),b).call(g));r["$=="](100)||this.columns["$[]"](-1).$assign_width(l(n(m(d(100,r),v),u).$round(),u));return e});return(a.defn(g,"$partition_header_footer",function(a){var b,c,f,g=e,l=e;this.attributes["$[]="]("rowcount",this.rows.$body().$size());g=this.rows.$body().$size();(b=(c=u(g,0))?this.has_header_option:u(g,0))===e||b.$$is_boolean&&1!=b||(l=this.rows.$body().$shift(),g=
d(g,1),(b=(c=l).$each,b.$$p=(f=function(a){var b,c;null==a&&(a=e);return b=[e],c=a,c["$style="].apply(c,b),b[b.length-1]},f.$$s=this,f),b).call(c),b=[[l]],c=this.rows,c["$head="].apply(c,b),b[b.length-1]);(b=(c=u(g,0))?a["$key?"]("footer-option"):u(g,0))===e||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],c=this.rows,c["$foot="].apply(c,b),b[b.length-1]);return e}),e)&&"partition_header_footer"})(z.base,z.get("AbstractBlock"));(function(b,$super){function c(){}var d=c=B(b,$super,"Column",c),
u;d.$$proto.attributes=e;d.$attr_accessor("style");a.defn(d,"$initialize",u=function(b,c,d){var f;null==d&&(d=A([],{}));u.$$p=null;a.find_super_dispatcher(this,"initialize",u,null).apply(this,[b,"column"]);this.style=d["$[]"]("style");d["$[]="]("colnumber",m(c,1));b="width";c=d;!1!==(f=c["$[]"](b))&&f!==e?f:c["$[]="](b,1);b="halign";c=d;!1!==(f=c["$[]"](b))&&f!==e?f:c["$[]="](b,"left");b="valign";c=d;!1!==(f=c["$[]"](b))&&f!==e?f:c["$[]="](b,"top");return this.$update_attributes(d)});a.alias(d,"table",
"parent");return(a.defn(d,"$assign_width",function(a,b,c){var d;null==b&&(b=e);null==c&&(c=1E4);!1!==b&&b!==e&&(a=l(n(n(l(this.attributes["$[]"]("width").$to_f(),b),100),c).$to_i(),c),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((d=this.$parent().$attributes()["$key?"]("tableabswidth"))!==e&&(!d.$$is_boolean||1==d))this.attributes["$[]="]("colabswidth",n(l(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a}),e)&&"assign_width"})(z.get("Table"),
z.get("AbstractNode"));(function(b,$super){function d(){}var g=d=B(b,$super,"Cell",d),l=g.$$proto,m=g.$$scope,n,h;l.style=l.document=l.text=l.inner_document=l.colspan=l.rowspan=l.attributes=e;g.$attr_accessor("style");g.$attr_accessor("colspan");g.$attr_accessor("rowspan");a.alias(g,"column","parent");g.$attr_reader("inner_document");a.defn(g,"$initialize",n=function(b,c,d,f){var g,h=e,l=e,v=e,u=e;null==d&&(d=A([],{}));null==f&&(f=e);n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,
[b,"cell"]);this.text=c;this.rowspan=this.colspan=this.style=e;!1!==b&&b!==e&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==d&&d!==e&&(this.colspan=d.$delete("colspan"),this.rowspan=d.$delete("rowspan"),(g=d["$key?"]("style"))===e||g.$$is_boolean&&1!=g||(this.style=d["$[]"]("style")),this.$update_attributes(d));if((g=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===e||g.$$is_boolean&&1!=g)return e;
h=this.document.$attributes().$delete("doctitle");l=this.text.$split(m.get("EOL"));if((g=!1!==(c=l["$empty?"]())&&c!==e?c:l["$[]"](0)["$include?"]("::")["$!"]())===e||g.$$is_boolean&&1!=g)v=l["$[]"](0),u=m.get("PreprocessorReader").$new(this.document,v).$readlines(),(g=u["$!="](v))===e||g.$$is_boolean&&1!=g||(l.$shift(),(g=l).$unshift.apply(g,a.to_a(u)));this.inner_document=m.get("Document").$new(l,A(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:f}));return(c=h["$nil?"]())===
e||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",h):e});a.defn(g,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(g,"$content",function(){var a,b,c;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b=c.$$s||this,d,f;null==b.style&&(b.style=e);null==a&&(a=e);return(d=!1!==(f=b.style["$!"]())&&f!==e?f:b.style["$=="]("header"))===e||d.$$is_boolean&&1!=d?
m.get("Inline").$new(b.$parent(),"quoted",a,A(["type"],{type:b.style})).$convert():a},c.$$s=this,c),a).call(b)});return(a.defn(g,"$to_s",h=function(){var b=c.call(arguments,0),d,f=h.$$p;h.$$p=null;return""+a.find_super_dispatcher(this,"to_s",h,f).apply(this,b).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(d=this.colspan)&&d!==e?d:1)+", rowspan: "+(!1!==(d=this.rowspan)&&d!==e?d:1)+", attributes: "+this.attributes+"]"}),e)&&"to_s"})(z.get("Table"),z.get("AbstractNode"));(function(b,$super){function c(){}
var g=c=B(b,$super,"ParserContext",c),l=g.$$proto,n=g.$$scope;l.format=l.delimiter=l.delimiter_re=l.buffer=l.cell_specs=l.cell_open=l.last_cursor=l.table=l.current_row=l.col_count=l.col_visits=l.active_rowspans=l.linenum=e;g.$attr_accessor("table");g.$attr_accessor("format");g.$attr_reader("col_count");g.$attr_accessor("buffer");g.$attr_reader("delimiter");g.$attr_reader("delimiter_re");a.defn(g,"$initialize",function(a,b,c){var d,f;null==c&&(c=A([],{}));this.reader=a;this.table=b;this.last_cursor=
a.$cursor();(d=this.format=c["$[]"]("format"))===e||d.$$is_boolean&&1!=d?this.format=n.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((d=n.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===e||d.$$is_boolean&&1!=d)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(d=(f=this.format["$=="]("psv")?c["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==f&&f!==e?b.$document()["$nested?"]():f))===e||d.$$is_boolean&&1!=d?!1!==(d=c["$[]"]("separator"))&&d!==e?
d:n.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+n.get("Regexp").$escape(this.delimiter));this.col_count=(d=b.$columns()["$empty?"]())===e||d.$$is_boolean&&1!=d?b.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(g,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});a.defn(g,"$match_delimiter",
function(a){return this.delimiter_re.$match(a)});a.defn(g,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==e?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(g,"$buffer_has_unclosed_quotes?",function(a){var b,c,d=e;null==a&&(a=e);d=(""+this.buffer+a).$strip();return b=(c=d["$start_with?"]('"'),!1!==c&&c!==e?d["$start_with?"]('""')["$!"]():c),!1!==b&&b!==e?d["$end_with?"]('"')["$!"]():b});a.defn(g,"$buffer_quoted?",
function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==e?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(g,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(g,"$push_cell_spec",function(a){var b;null==a&&(a=A([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==e?b:A([],{}));return e});a.defn(g,"$keep_cell_open",function(){this.cell_open=!0;return e});a.defn(g,"$mark_cell_closed",function(){this.cell_open=!1;return e});a.defn(g,
"$cell_open?",function(){return this.cell_open});a.defn(g,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(g,"$close_open_cell",function(a){var b;null==a&&(a=A([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())===e||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return e});a.defn(g,"$close_cell",function(b){try{var c,f,g,l=e,q=e,z=e;null==b&&(b=!1);l=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(q=this.$take_cell_spec(),!1!==q&&q!==e?(z=q.$fetch("repeatcol",
1),q.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),q=A([],{}),z=1)):(q=e,z=1,!this.format["$=="]("csv")||(c=(f=l["$empty?"]()["$!"](),!1!==f&&f!==e?l["$include?"]('"'):f))===e||c.$$is_boolean&&1!=c||((c=(f=l["$start_with?"]('"'),!1!==f&&f!==e?l["$end_with?"]('"'):f))===e||c.$$is_boolean&&1!=c||(l=l["$[]"](E(1,-1,!0)).$strip()),l=l.$tr_s('"','"')));(c=(f=1).$upto,c.$$p=(g=function(c){var f=g.$$s||
this,h,k,A,x,B,E,D=e,H=e,ra=e,D=e;null==f.col_count&&(f.col_count=e);null==f.table&&(f.table=e);null==f.current_row&&(f.current_row=e);null==f.last_cursor&&(f.last_cursor=e);null==f.reader&&(f.reader=e);null==f.col_visits&&(f.col_visits=e);null==f.linenum&&(f.linenum=e);null==c&&(c=e);if(f.col_count["$=="](-1))f.table.$columns()["$<<"](D=n.get("Table").$$scope.get("Column").$new(f.table,d(m(f.table.$columns().$size(),c),1))),(h=(k=(A=!1!==q&&q!==e)?q["$key?"]("colspan"):q,!1!==k&&k!==e?u(H=d(q["$[]"]("colspan").$to_i(),
1),0):k))===e||h.$$is_boolean&&1!=h||(ra=f.table.$columns().$size(),(h=(k=H).$times,h.$$p=(x=function(a){var b=x.$$s||this;null==b.table&&(b.table=e);null==a&&(a=e);return b.table.$columns()["$<<"](n.get("Table").$$scope.get("Column").$new(b.table,m(ra,a)))},x.$$s=f,x),h).call(k));else if((h=D=f.table.$columns()["$[]"](f.current_row.$size()))===e||h.$$is_boolean&&1!=h)f.$warn("asciidoctor: ERROR: "+f.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(e);
D=n.get("Table").$$scope.get("Cell").$new(D,l,q,f.last_cursor);f.last_cursor=f.reader.$cursor();((h=!1!==(A=D.$rowspan()["$!"]())&&A!==e?A:D.$rowspan()["$=="](1))===e||h.$$is_boolean&&1!=h)&&f.$activate_rowspan(D.$rowspan(),!1!==(h=D.$colspan())&&h!==e?h:1);f.col_visits=m(f.col_visits,!1!==(h=D.$colspan())&&h!==e?h:1);f.current_row["$<<"](D);return(h=(A=f["$end_of_row?"](),!1!==A&&A!==e?!1!==(B=!1!==(E=f.col_count["$!="](-1))&&E!==e?E:u(f.linenum,0))&&B!==e?B:(E=!1!==b&&b!==e)?c["$=="](z):b:A))===
e||h.$$is_boolean&&1!=h?e:f.$close_row()},g.$$s=this,g),c).call(f,z);this.cell_open=!1;return e}catch(y){if(y===a.returner)return y.$v;throw y;}});a.defn(g,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==e?b:a["$[]="](0,0);return e});a.defn(g,"$activate_rowspan",function(a,b){var c,f,g;(c=
(f=(1).$upto(d(a,1))).$each,c.$$p=(g=function(a){var c=g.$$s||this,d;null==c.active_rowspans&&(c.active_rowspans=e);null==a&&(a=e);return c.active_rowspans["$[]="](a,m(!1!==(d=c.active_rowspans["$[]"](a))&&d!==e?d:0,b))},g.$$s=this,g),c).call(f);return e});a.defn(g,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==e?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(g,"$effective_col_visits",function(){return m(this.col_visits,this.active_rowspans["$[]"](0))});
return(a.defn(g,"$advance",function(){return this.linenum=m(this.linenum,1)}),e)&&"advance"})(z.get("Table"),null)}(a.base)};
(function(a){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var m,d=a.top,e=a.nil,c=a.gvars,b=a.module,B=a.hash2,A=a.range,E=a.hash;null==c[":"]&&(c[":"]=e);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((m=null!=a.RUBY_ENGINE)===e||m.$$is_boolean&&1!=m)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",u(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",u(a.get("RUBY_VERSION"),"2"));d.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&d.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(c){c=
b(c,"Asciidoctor");var d=c.$$scope,m,D,g,H=e,J=e;a.cdecl(d,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(c){c=b(c,"SafeMode").$$scope;a.cdecl(c,"UNSAFE",0);a.cdecl(c,"SAFE",1);a.cdecl(c,"SERVER",10);a.cdecl(c,"SECURE",20)})(d.base);(function(c){c=b(c,"Compliance");c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",function(b,c){null==this.keys&&(this.keys=e);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
b);this.keys["$<<"](b);return e});c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(d.base);a.cdecl(d,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(d,"LIB_PATH",a.get("File").$join(d.get("ROOT_PATH"),"lib"));a.cdecl(d,"DATA_PATH",a.get("File").$join(d.get("ROOT_PATH"),"data"));try{a.cdecl(d,"USER_HOME",a.get("Dir").$home())}catch(w){try{a.cdecl(d,"USER_HOME",!1!==(m=a.get("ENV")["$[]"]("HOME"))&&m!==e?m:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(d,"COERCE_ENCODING",(m=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==m&&m!==e?a.get("RUBY_MIN_VERSION_1_9"):m));a.cdecl(d,"FORCE_ENCODING",(m=d.get("COERCE_ENCODING"),
!1!==m&&m!==e?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):m));a.cdecl(d,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(d,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(d,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(d,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(d,"SUPPORTS_GSUB_RESULT_HASH",(m=a.get("RUBY_MIN_VERSION_1_9"),!1!==m&&m!==e?a.get("RUBY_ENGINE_OPAL")["$!"]():m));a.cdecl(d,
"EOL","\n");a.cdecl(d,"NULL","\x00");a.cdecl(d,"TAB","\t");a.cdecl(d,"DEFAULT_DOCTYPE","article");a.cdecl(d,"DEFAULT_BACKEND","html5");a.cdecl(d,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(d,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(d,"BACKEND_ALIASES",B(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(d,"DEFAULT_PAGE_WIDTHS",B(["docbook"],{docbook:425}));a.cdecl(d,"DEFAULT_EXTENSIONS",B(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",
pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(d,"ASCIIDOC_EXTENSIONS",B([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(d,"SECTION_LEVELS",B(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(d,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(d,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(d,
"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(d,"DELIMITED_BLOCKS",B('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",
["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(d,"DELIMITED_BLOCK_LEADERS",(m=(D=d.get("DELIMITED_BLOCKS").$keys()).$map,m.$$p=(g=function(a){null==a&&(a=e);return a["$[]"](A(0,1,!1))},g.$$s=c,
g),m).call(D).$to_set());a.cdecl(d,"LAYOUT_BREAK_LINES",B(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(d,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(d,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(d,"ORDERED_LIST_KEYWORDS",B(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(d,
"LIST_CONTINUATION","+");a.cdecl(d,"LINE_BREAK"," +");a.cdecl(d,"LINE_CONTINUATION"," \\");a.cdecl(d,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(d,"BLOCK_MATH_DELIMITERS",B(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(d,"INLINE_MATH_DELIMITERS",B(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(d,"FLEXIBLE_ATTRIBUTES",["sectnums"]);d.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(d,"CC_ALPHA","a-zA-Z"),a.cdecl(d,"CG_ALPHA","[a-zA-Z]"),
a.cdecl(d,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(d,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(d,"CG_BLANK","[ \\t]"),a.cdecl(d,"CC_EOL","(?=\\n|$)"),a.cdecl(d,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(d,"CC_ALL","[\\s\\S]"),a.cdecl(d,"CC_WORD","a-zA-Z0-9_"),a.cdecl(d,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(d,"AuthorInfoLineRx",new RegExp("^("+d.get("CG_WORD")+"["+d.get("CC_WORD")+"\\-'.]*)(?: +("+d.get("CG_WORD")+"["+d.get("CC_WORD")+"\\-'.]*))?(?: +("+d.get("CG_WORD")+"["+d.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(d,
"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(d,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(d,"ManpageNamePurposeRx",new RegExp("^(.*?)"+d.get("CG_BLANK")+"+-"+d.get("CG_BLANK")+"+(.*)$"));a.cdecl(d,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(d,"EvalExpressionRx",new RegExp("^(\\S.*?)"+d.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+d.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(d,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);
a.cdecl(d,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(d,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+d.get("CG_BLANK")+"+(.*))?$"));a.cdecl(d,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(d,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(d,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(d,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+d.get("CC_ALPHA")+":_]["+d.get("CC_WORD")+":.-]*)(?:,"+d.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(d,
"BlockAttributeListRx",new RegExp("^\\[(|"+d.get("CG_BLANK")+"*["+d.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(d,"BlockAttributeLineRx",new RegExp("^\\[(|"+d.get("CG_BLANK")+"*["+d.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+d.get("CC_ALPHA")+":_]["+d.get("CC_WORD")+":.-]*(?:,"+d.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(d,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(d,"AdmonitionParagraphRx",new RegExp("^("+n(d.get("ADMONITION_STYLES").$to_a(),"|")+"):"+d.get("CG_BLANK")));a.cdecl(d,"LiteralParagraphRx",
new RegExp("^("+d.get("CG_BLANK")+"+.*)$"));a.cdecl(d,"CommentBlockRx",/^\/{4,}$/);a.cdecl(d,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(d,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+d.get("CG_BLANK")+"+(\\S.*?)(?:"+d.get("CG_BLANK")+"+\\1)?$"));a.cdecl(d,"SetextSectionTitleRx",new RegExp("^((?=.*"+d.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(d,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(d,"InlineSectionAnchorRx",new RegExp("^(.*?)"+d.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+d.get("CC_ALPHA")+":_]["+
d.get("CC_WORD")+":.-]*)(?:,"+d.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(d,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+d.get("CC_WORD")+"]+?"));a.cdecl(d,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(d,"AnyListRx",new RegExp("^(?:<?\\d+>"+d.get("CG_BLANK")+"+"+d.get("CG_GRAPH")+"|"+d.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+d.get("CG_BLANK")+"+"+d.get("CG_GRAPH")+"|"+d.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+
d.get("CG_BLANK")+"+"+d.get("CG_GRAPH")+"|$))"));a.cdecl(d,"UnorderedListRx",new RegExp("^"+d.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+d.get("CG_BLANK")+"+(.*)$"));a.cdecl(d,"OrderedListRx",new RegExp("^"+d.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+d.get("CG_BLANK")+"+(.*)$"));a.cdecl(d,"OrderedListMarkerRxMap",B(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(d,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+d.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+d.get("CG_BLANK")+"+(.*))?$"));a.cdecl(d,"DefinitionListSiblingRx",B(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+d.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+d.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+d.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+d.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+d.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+d.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+d.get("CG_BLANK")+"*(.*)(;;)(?:"+d.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(d,"CalloutListRx",new RegExp("^<?(\\d+)>"+d.get("CG_BLANK")+"+(.*)"));a.cdecl(d,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(d,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(d,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+d.get("CC_EOL")+")"));a.cdecl(d,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
d.get("CC_EOL")+")"));a.cdecl(d,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+d.get("CC_EOL")+")");a.cdecl(d,"ListRxMap",B(["ulist","olist","dlist","colist"],{ulist:d.get("UnorderedListRx"),olist:d.get("OrderedListRx"),dlist:d.get("DefinitionListRx"),colist:d.get("CalloutListRx")}));a.cdecl(d,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(d,"CellSpecStartRx",new RegExp("^"+d.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(d,"CellSpecEndRx",new RegExp(""+d.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(d,"GenericBlockMacroRx",new RegExp("^("+d.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(d,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(d,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(d,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+d.get("CC_ALPHA")+":_]["+d.get("CC_WORD")+
":.-]*)(?:,"+d.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(d,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+d.get("CC_WORD")+":]["+d.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(d,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+d.get("CG_WORD")+"["+d.get("CC_WORD")+".%+-]*@"+d.get("CG_ALNUM")+"["+d.get("CC_ALNUM")+".-]*\\."+d.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(d,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+d.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(d,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(d,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+d.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+d.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(d,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(d,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+d.get("CG_BLANK")+"*[^\\1])"));a.cdecl(d,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(d,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(d,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+d.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(d,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+d.get("CG_WORD")+"|"+d.get("CG_WORD")+".*?\\S)\\["+d.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(d,"MenuInlineRx",new RegExp('\\\\?"('+d.get("CG_WORD")+'[^"]*?'+d.get("CG_BLANK")+"*&gt;"+d.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(d,"PassInlineRx",
E(!1,["+","`",new RegExp("(^|[^"+d.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+d.get("CC_ALL")+"*?\\S)\\4)(?!"+d.get("CG_WORD")+")")],!0,["`",e,new RegExp("(^|[^`"+d.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+d.get("CC_ALL")+"*?\\S)\\4)(?![`"+d.get("CC_WORD")+"])")]));a.cdecl(d,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+d.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+d.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(d,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+d.get("CC_WORD")+'":.\\/]'+d.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+d.get("CC_WORD")+'":.\\/]'+d.get("CC_ALL")+"*?)\\[("+d.get("CC_ALL")+"*?)\\])"));d.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(d,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(d,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(d,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(d,"BlankLineRx",new RegExp("^"+d.get("CG_BLANK")+"*\\n"));a.cdecl(d,"DataDelimiterRx",
/,|;/);a.cdecl(d,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(d,"DoubleQuotedMultiRx",new RegExp('^("|)('+d.get("CC_ALL")+"*)\\1$"));a.cdecl(d,"TrailingDigitsRx",/\d+$/);a.cdecl(d,"EscapedSpaceRx",new RegExp("\\\\("+d.get("CG_BLANK")+")"));a.cdecl(d,"SpaceDelimiterRx",new RegExp("([^\\\\])"+d.get("CG_BLANK")+"+"));a.cdecl(d,"SubModifierSniffRx",/[+-]/);a.cdecl(d,"UnicodeCharScanRx",function(){d.get("RUBY_ENGINE")["$=="]("opal");return e}());a.cdecl(d,"UriSniffRx",new RegExp("^"+d.get("CG_ALPHA")+"["+
d.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(d,"UriTerminator",/[);:]$/);a.cdecl(d,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(d,"INTRINSIC_ATTRIBUTES",B("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));H=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+d.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+d.get("CC_ALL")+"*?\\S)\\*(?!"+d.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+d.get("CC_ALL")+'*?\\S)`"(?!'+d.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+d.get("CC_ALL")+"*?\\S)`'(?!"+d.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+d.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+d.get("CC_ALL")+"*?\\S)`(?!["+d.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+d.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+d.get("CC_ALL")+"*?\\S)_(?!"+d.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+d.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+d.get("CC_ALL")+"*?\\S)#(?!"+d.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];J=H.$dup();J["$[]="](2,["double","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+d.get("CC_ALL")+"*?\\S)''(?!"+d.get("CG_WORD")+")")]);J["$[]="](3,["single","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+d.get("CC_ALL")+"*?\\S)'(?!"+d.get("CG_WORD")+")")]);J["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
d.get("CC_ALL")+"+?)\\+\\+")]);J["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+d.get("CC_ALL")+"*?\\S)\\+(?!"+d.get("CG_WORD")+")")]);J.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+d.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+d.get("CC_ALL")+"*?\\S)'(?!"+d.get("CG_WORD")+")")]);a.cdecl(d,"QUOTE_SUBS",E(!1,H,!0,J));J=H=e;a.cdecl(d,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+d.get("CG_WORD")+")\\\\?--(?="+d.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+d.get("CG_ALNUM")+")\\\\?'(?="+d.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,
"","bounding"]]);(function(b){var c=b.$$scope;a.defn(b,"$load",function(b,d){var f,g,l,m,n,p,u,w,x,z=this,A=e,E=e,D=e,H=e,J=e,L=e,U=e,M=e,Z=e,ea=e,ba=e,Q=e,ca=e,X=e;null==d&&(d=B([],{}));try{d=d.$dup();(f=A=d["$[]"]("timings"))===e||f.$$is_boolean&&1!=f||A.$start("read");E=d["$[]="]("attributes",function(){if((f=(D=d["$[]"]("attributes"))["$!"]())===e||f.$$is_boolean&&1!=f){if((f=!1!==(g=a.get("Hash")["$==="](D))&&g!==e?g:(l=a.get("RUBY_ENGINE_JRUBY"),!1!==l&&l!==e?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](D):
l))===e||f.$$is_boolean&&1!=f){if((f=a.get("Array")["$==="](D))===e||f.$$is_boolean&&1!=f){if((f=a.get("String")["$==="](D))===e||f.$$is_boolean&&1!=f){if((f=(p=D["$respond_to?"]("keys"),!1!==p&&p!==e?D["$respond_to?"]("[]"):p))===e||f.$$is_boolean&&1!=f)return z.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+D.$class().$ancestors());J=D;D=B([],{});(f=(p=J.$keys()).$each,f.$$p=(u=function(a){null==a&&(a=e);return D["$[]="](a,J["$[]"](a))},u.$$s=z,u),f).call(p);return D}H="\\1";
D=D.$gsub(c.get("SpaceDelimiterRx"),""+H+c.get("NULL")).$gsub(c.get("EscapedSpaceRx"),H);return(f=(l=D.$split(c.get("NULL"))).$inject,f.$$p=(n=function(b,c){var d,f=e,g=e;null==b&&(b=e);null==c&&(c=e);d=a.to_ary(c.$split("=",2));f=null==d[0]?e:d[0];g=null==d[1]?e:d[1];b["$[]="](f,!1!==(d=g)&&d!==e?d:"");return b},n.$$s=z,n),f).call(l,B([],{}))}return(f=(g=D).$inject,f.$$p=(m=function(b,c){var d,f=e,g=e;null==b&&(b=e);null==c&&(c=e);d=a.to_ary(c.$split("=",2));f=null==d[0]?e:d[0];g=null==d[1]?e:d[1];
b["$[]="](f,!1!==(d=g)&&d!==e?d:"");return b},m.$$s=z,m),f).call(g,B([],{}))}return D.$dup()}return B([],{})}());L=e;if((f=a.get("File")["$==="](b))===e||f.$$is_boolean&&1!=f)if((f=b["$respond_to?"]("readlines"))===e||f.$$is_boolean&&1!=f)(f=a.get("String")["$==="](b))===e||f.$$is_boolean&&1!=f?(f=a.get("Array")["$==="](b))===e||f.$$is_boolean&&1!=f?z.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):L=b.$dup():L=b.$lines().$entries();else{try{b.$rewind()}catch(O){try{e}finally{a.gvars["!"]=
a.exceptions.pop()||a.nil}}L=b.$readlines()}else U=a.get("File").$expand_path(b.$path()),M=b.$mtime(),L=b.$readlines(),E["$[]="]("docfile",U),E["$[]="]("docdir",a.get("File").$dirname(U)),E["$[]="]("docname",c.get("Helpers").$basename(U,!0)),Z=(f="docdate",w=E,!1!==(x=w["$[]"](f))&&x!==e?x:w["$[]="](f,M.$strftime("%Y-%m-%d"))),ea=(f="doctime",w=E,!1!==(x=w["$[]"](f))&&x!==e?x:w["$[]="](f,M.$strftime("%H:%M:%S %Z"))),E["$[]="]("docdatetime",""+Z+" "+ea);!1!==A&&A!==e&&(A.$record("read"),A.$start("parse"));
ba=d["$[]"]("parse")["$=="](!1)?c.get("Document").$new(L,d):c.get("Document").$new(L,d).$parse();!1!==A&&A!==e&&A.$record("parse");return ba}catch(O){Q=O;try{try{ca="asciidoctor: FAILED: "+(!1!==(f=E["$[]"]("docfile"))&&f!==e?f:"<stdin>")+": Failed to load AsciiDoc document",(f=Q["$respond_to?"]("exception"))===e||f.$$is_boolean&&1!=f?(X=Q.$class().$new(ca,Q),f=[Q.$stack_trace()],w=X,w["$stack_trace="].apply(w,f),f[f.length-1]):(X=Q.$exception(""+ca+" - "+Q.$message()),X.$set_backtrace(Q.$backtrace()))}catch(aa){try{X=
Q}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return z.$raise(X)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(b,"$load_file",function(b,c){null==c&&(c=B([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==e?b:""),c)});a.defn(b,"$convert",function(b,d){var f,g,m,n,p,v,w,z=e,x=e,A=e,E=e,D=e,H=e,J=e,P=e,L=e,U=e,M=D=e,Z=z=z=P=H=e,ea=H=x=e,ba=z=J=E=e,Q=A=e;null==d&&(d=B([],{}));d=d.$dup();d.$delete("parse");z=d.$delete("to_file");x=d.$delete("to_dir");A=!1!==(f=d.$delete("mkdirs"))&&
f!==e?f:!1;E=d["$[]"]("timings");D=z;if((!0)["$==="](D)||e["$==="](D))H=(f=x["$!"](),!1!==f&&f!==e?a.get("File")["$==="](b):f),J=!1,P=x,z=e;else if((!1)["$==="](D))P=J=H=!1,z=e;else{if("/dev/null"["$==="](D))return this.$load(b,d);H=!1;J=z["$respond_to?"]("write");P=!1!==J&&J!==e?!1:z}if(((f=d["$key?"]("header_footer"))===e||f.$$is_boolean&&1!=f)&&(f=!1!==(g=H)&&g!==e?g:P)!==e&&(!f.$$is_boolean||1==f))d["$[]="]("header_footer",!0);if(!1!==H&&H!==e)L=a.get("File").$expand_path(b.$path()),d["$[]="]("to_dir",
U=a.get("File").$dirname(L));else if(!1!==P&&P!==e)if(!1!==x&&x!==e)if(!1!==z&&z!==e)d["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(x,z))));else d["$[]="]("to_dir",a.get("File").$expand_path(x));else{if(!1!==z&&z!==e)d["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(z)))}else d["$[]="]("to_dir",e);D=this.$load(b,d);if(!1!==H&&H!==e)M=a.get("File").$join(U,""+D.$attributes()["$[]"]("docname")+D.$outfilesuffix()),M["$=="](L)&&this.$raise(a.get("IOError"),
"input file and output file cannot be the same: "+M);else if(!1!==P&&P!==e){if(H=(f=d["$has_key?"]("base_dir"))===e||f.$$is_boolean&&1!=f?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(d["$[]"]("base_dir")),P=u(D.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?H:e,!1!==x&&x!==e?(U=D.$normalize_system_path(x,H,P,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==z&&z!==e?(M=D.$normalize_system_path(z,U,e,B(["target_name","recover"],{target_name:"to_dir",
recover:!1})),U=a.get("File").$dirname(M)):M=a.get("File").$join(U,""+D.$attributes()["$[]"]("docname")+D.$outfilesuffix())):!1!==z&&z!==e&&(M=D.$normalize_system_path(z,H,P,B(["target_name","recover"],{target_name:"to_dir",recover:!1})),U=a.get("File").$dirname(M)),(f=a.get("File")["$directory?"](U))===e||f.$$is_boolean&&1!=f)!1!==A&&A!==e?a.get("FileUtils").$mkdir_p(U):this.$raise(a.get("IOError"),"target directory does not exist: "+x)}else M=z,U=e;!1!==E&&E!==e&&E.$start("convert");z=(f=(g=!1!==
M&&M!==e)?J["$!"]():M)===e||f.$$is_boolean&&1!=f?B([],{}):B(["outfile","outdir"],{outfile:M,outdir:U});z=D.$convert(z);!1!==E&&E!==e&&E.$record("convert");return!1!==M&&M!==e?(!1!==E&&E!==e&&E.$start("write"),D.$write(z,M),!1!==E&&E!==e&&E.$record("write"),(f=(g=(m=(n=(p=(v=J["$!"](),!1!==v&&v!==e?l(D.$safe(),c.get("SafeMode").$$scope.get("SECURE")):v),!1!==p&&p!==e?D["$attr?"]("linkcss"):p),!1!==n&&n!==e?D["$attr?"]("copycss"):n),!1!==m&&m!==e?D["$attr?"]("basebackend-html"):m),!1!==g&&g!==e?(m=
Z=D.$attr("stylesdir"),!1!==m&&m!==e?c.get("Helpers")["$uriish?"](Z):m)["$!"]():g))===e||f.$$is_boolean&&1!=f||(H=x=!1,(f=ea=D.$attr("stylesheet"))===e||f.$$is_boolean&&1!=f||((f=c.get("DEFAULT_STYLESHEET_KEYS")["$include?"](ea))===e||f.$$is_boolean&&1!=f?(f=c.get("Helpers")["$uriish?"](ea)["$!"]())===e||f.$$is_boolean&&1!=f||(H=!0):x=!0),E=(f=D["$attr?"]("source-highlighter","coderay"),!1!==f&&f!==e?D.$attr("coderay-css","class")["$=="]("class"):f),J=(f=D["$attr?"]("source-highlighter","pygments"),
!1!==f&&f!==e?D.$attr("pygments-css","class")["$=="]("class"):f),(f=!1!==(g=!1!==(m=!1!==(n=x)&&n!==e?n:H)&&m!==e?m:E)&&g!==e?g:J)===e||f.$$is_boolean&&1!=f||(z=D.$normalize_system_path(Z,U,u(D.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?U:e),!1!==A&&A!==e&&c.get("Helpers").$mkdir_p(z),!1!==x&&x!==e?c.get("Stylesheets").$instance().$write_primary_stylesheet(z):!1!==H&&H!==e&&(ba=(f=(ba=D.$attr("copycss"))["$empty?"]())===e||f.$$is_boolean&&1!=f?D.$normalize_system_path(ba):D.$normalize_system_path(ea),
A=D.$normalize_system_path(ea,z,u(D.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?U:e),((f=!1!==(g=ba["$=="](A))&&g!==e?g:(Q=D.$read_asset(ba))["$nil?"]())===e||f.$$is_boolean&&1!=f)&&(f=(g=a.get("File")).$open,f.$$p=(w=function(a){null==a&&(a=e);return a.$write(Q)},w.$$s=this,w),f).call(g,A,"w")),!1!==E&&E!==e?c.get("Stylesheets").$instance().$write_coderay_stylesheet(z):!1!==J&&J!==e&&c.get("Stylesheets").$instance().$write_pygments_stylesheet(z,D.$attr("pygments-style")))),D):z});a.alias(b,"render",
"convert");a.defn(b,"$convert_file",function(b,c){null==c&&(c=B([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==e?b:""),c)});return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(c));d.get("RUBY_ENGINE")["$=="]("opal")&&(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);d.$require("asciidoctor/core_ext");d.$require("asciidoctor/helpers");d.$require("asciidoctor/substitutors");d.$require("asciidoctor/abstract_node");d.$require("asciidoctor/abstract_block");
d.$require("asciidoctor/attribute_list");d.$require("asciidoctor/block");d.$require("asciidoctor/callouts");d.$require("asciidoctor/converter");(m=a.get("RUBY_ENGINE_OPAL"))===e||m.$$is_boolean&&1!=m||d.$require("asciidoctor/converter/html5");d.$require("asciidoctor/document");d.$require("asciidoctor/inline");d.$require("asciidoctor/list");d.$require("asciidoctor/parser");d.$require("asciidoctor/path_resolver");d.$require("asciidoctor/reader");d.$require("asciidoctor/section");d.$require("asciidoctor/stylesheets");
return d.$require("asciidoctor/table")})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
